views:
  - title: Home
    type: sections
    sections:
      - type: grid
        cards:
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: auto auto
            cards:
              - type: custom:mushroom-template-card
                card_mod:
                  style: |
                    ha-card { 
                      padding-top: 0px !important;
                      height: 70px !important;
                      padding-left: 0px !important;
                      margin-left: -25px !important;
                      margin-bottom: -50px !important;
                      --icon-size: 70px;
                      --card-secondary-font-size:14px;
                      --card-primary-font-weight: bold;
                      --card-primary-font-size: 16px;
                      box-shadow: none;
                      background: none;

                    }
                primary: '{{states (''input_select.frontend_greeting'')}}'
                secondary: '{{user}}'
                icon: none
                entity: weather.bom_home
                tap_action:
                  action: navigate
                  navigation_path: '#weather'
                picture: >-
                  {% set condition = states(entity) %} {% if condition ==
                  'partlycloudy' and is_state('sun.sun', 'above_horizon') %}
                    {% set condition = condition + '-day' %}
                  {% elif condition == 'partlycloudy' and is_state('sun.sun',
                  'below_horizon') %}
                    {% set condition = condition + '-night' %}
                  {% elif condition == 'sunny' and is_state('sun.sun',
                  'above_horizon') %}
                    {% set condition = condition + '-day' %}
                  {% elif condition == 'sunny' and is_state('sun.sun',
                  'below_horizon') %}
                    {% set condition = condition + '-night' %}
                  {% elif condition == 'rainy' and is_state('sun.sun',
                  'above_horizon') %}
                    {% set condition = condition + '-day' %}
                  {% elif condition == 'rainy' and is_state('sun.sun',
                  'below_horizon') %}
                    {% set condition = condition + '-night' %}
                  {% elif condition == 'lightning-rainy' and is_state('sun.sun',
                  'below_horizon') %}
                    {% set condition = condition + '-night' %}
                  {% endif %} /local/weather/{{ condition }}.png
              - type: custom:mushroom-chips-card
                alignment: end
                chips:
                  - type: action
                    tap_action:
                      action: navigate
                      navigation_path: '#notifications'
                    icon: mdi:bell-badge-outline
                  - type: action
                    icon: mdi:star-outline
                    tap_action:
                      action: navigate
                      navigation_path: '#favourites'
                  - type: menu
                card_mod:
                  style: |
                    ha-card { 
                      padding-top: 8px;
                      padding-left: 10px;
                      margin-right: -10px;
                      --chip-height: 45px;
                      --chip-background: none;
                      --chip-box-shadow: none;
                      --chip-spacing: 0px;
                    }
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: 50% auto
            cards:
              - type: custom:mod-card
                card:
                  type: custom:swipe-card
                  parameters:
                    allowTouchMove: true
                    autoHeight: true
                    height: 50
                    effect: slide
                    direction: vertical
                    autoplay:
                      disableOnInteraction: false
                      waitForTransition: false
                      delay: 5000
                  cards:
                    - type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#energy'
                      show_name: true
                      name: Electricity Cost
                      size: 80%
                      show_state: true
                      entity: sensor.electricity_cost_today
                      icon: mdi:currency-usd
                      styles:
                        grid:
                          - grid-template-areas: '"i n" "i s"'
                          - grid-template-columns: 20% auto
                        card:
                          - background-color: rgba(0,0,0,0)
                          - border-radius: 0px
                        img_cell:
                          - background: none
                          - align-self: start
                          - text-align: start
                          - align-items: start
                        icon:
                          - color: var(--google-green)
                          - margin-left: '-5px'
                        state:
                          - color: var(--primary--font-color)
                          - font-size: 14px
                          - justify-self: start
                          - margin-left: '-10px'
                        name:
                          - color: var(--primary--font-color)
                          - font-size: 14px
                          - font-weight: bold
                          - justify-self: start
                          - margin-left: '-10px'
                    - type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#energy'
                      show_name: true
                      name: Available Solar
                      size: 80%
                      show_state: true
                      entity: sensor.power_kw
                      icon: mdi:solar-power
                      styles:
                        grid:
                          - grid-template-areas: '"i n" "i s"'
                          - grid-template-columns: 20% auto
                        card:
                          - background-color: rgba(0,0,0,0)
                          - border-radius: 0px
                        img_cell:
                          - background: none
                          - align-self: start
                          - text-align: start
                          - align-items: start
                        icon:
                          - color: var(--google-red)
                          - margin-left: '-5px'
                        state:
                          - color: var(--primary--font-color)
                          - font-size: 14px
                          - justify-self: start
                          - margin-left: '-10px'
                        name:
                          - color: var(--primary--font-color)
                          - font-size: 14px
                          - font-weight: bold
                          - justify-self: start
                          - margin-left: '-10px'
                    - type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#energy'
                      show_name: true
                      name: Current Usage
                      size: 80%
                      show_state: true
                      entity: sensor.envoy_current_net_power_consumption
                      icon: mdi:home-lightning-bolt
                      styles:
                        grid:
                          - grid-template-areas: '"i n" "i s"'
                          - grid-template-columns: 20% auto
                        card:
                          - background-color: rgba(0,0,0,0)
                          - border-radius: 0px
                        img_cell:
                          - background: none
                          - align-self: start
                          - text-align: start
                          - align-items: start
                        icon:
                          - color: var(--google-blue)
                          - margin-left: '-5px'
                        state:
                          - color: var(--primary--font-color)
                          - font-size: 14px
                          - justify-self: start
                          - margin-left: '-10px'
                        name:
                          - color: var(--primary--font-color)
                          - font-size: 14px
                          - font-weight: bold
                          - justify-self: start
                          - margin-left: '-10px'
              - type: custom:mushroom-chips-card
                alignment: end
                card_mod:
                  style: |
                    ha-card { 
                      /* Overlap avatar Chips */ 
                      --chip-spacing: calc(-1 * var(--mush-chip-spacing, 8px));
                      /* Set size of border around Chips 
                      --chip-avatar-padding: 2px;
                      width: fit-content;
                      transition: all 0s;
                      position: absolute !important;
                    }
                chips:
                  - type: entity
                    entity: device_tracker.audi
                    tap_action:
                      action: navigate
                      navigation_path: '#audi'
                    content_info: none
                    use_entity_picture: true
                    card_mod:
                      style: |

                        /* Color border around avatar to show person status */
                        ha-card {
                          --chip-avatar-padding: 2px;
                          --chip-height: 40px;
                          border-radius: 50% !important;
                          --chip-background:
                          {% if is_state(config.entity, 'home') %}
                            rgb(var(--color-green))
                          {% elif is_state(config.entity, 'ben work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'jess work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'gym') %}
                            rgb(var(--color-violet))
                          {% elif is_state(config.entity, 'GPa and GMa Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Poppy Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Lola Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'not_home') %}
                            rgb(var(--color-red))
                          {% else %}
                            rgb(var(--color-grey))
                          {% endif %};
                        } 

                        /* Slightly enlarge & bring to front on hover */
                        ha-card:hover {
                          transform: scale(1.2);
                          transform-origin: top center;
                          z-index: 1;
                          transition: all 1s;
                        }  
                  - type: entity
                    entity: device_tracker.fordpass_tracker
                    tap_action:
                      action: navigate
                      navigation_path: '#everest'
                    content_info: none
                    use_entity_picture: true
                    color: var(--card-background-color)
                    card_mod:
                      style: |

                        /* Color border around avatar to show person status */
                        ha-card {
                          --chip-avatar-padding: 2px;
                          --chip-height: 40px;
                          border-radius: 50% !important;
                          --chip-background:
                          {% if is_state(config.entity, 'home') %}
                            rgb(var(--color-green))
                          {% elif is_state(config.entity, 'ben work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'jess work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'gym') %}
                            rgb(var(--color-violet))
                          {% elif is_state(config.entity, 'GPa and GMa Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Poppy Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Lola Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'not_home') %}
                            rgb(var(--color-red))
                          {% else %}
                            rgb(var(--color-grey))
                          {% endif %};
                        } 


                        /* Slightly enlarge & bring to front on hover */
                        ha-card:hover {
                          transform: scale(1.2);
                          transform-origin: top center;
                          z-index: 1;
                          transition: all 1s;
                        }  
                  - type: entity
                    entity: person.jess
                    content_info: none
                    use_entity_picture: true
                    card_mod:
                      style: |

                        /* Color border around avatar to show person status */
                        ha-card {
                          --chip-avatar-padding: 2px;
                          --chip-height: 40px;
                          border-radius: 50% !important;
                          --chip-background:
                          {% if is_state(config.entity, 'home') %}
                            rgb(var(--color-green))
                          {% elif is_state(config.entity, 'ben work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'jess work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'gym') %}
                            rgb(var(--color-violet))
                          {% elif is_state(config.entity, 'GPa and GMa Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Poppy Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Lola Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'not_home') %}
                            rgb(var(--color-red))
                          {% else %}
                            rgb(var(--color-grey))
                          {% endif %};
                        } 


                        /* Slightly enlarge & bring to front on hover */
                        ha-card:hover {
                          transform: scale(1.2);
                          transform-origin: top center;
                          z-index: 1;
                          transition: all 1s;
                        }  
                  - type: entity
                    entity: person.ben
                    content_info: none
                    tap_action:
                      action: navigate
                      navigation_path: '#ben'
                    use_entity_picture: true
                    card_mod:
                      style: |

                        /* Color border around avatar to show person status */
                        ha-card {
                          --chip-avatar-padding: 2px;
                          --chip-height: 40px;
                          border-radius: 50% !important;
                          --chip-background:
                          {% if is_state(config.entity, 'home') %}
                            rgb(var(--color-green))
                          {% elif is_state(config.entity, 'ben work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'jess work') %}
                            rgb(var(--color-blue))
                          {% elif is_state(config.entity, 'gym') %}
                            rgb(var(--color-violet))
                          {% elif is_state(config.entity, 'GPa and GMa Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Poppy Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'Lola Home') %}
                            rgb(var(--color-pink))
                          {% elif is_state(config.entity, 'not_home') %}
                            rgb(var(--color-red))
                          {% else %}
                            rgb(var(--color-grey))
                          {% endif %};
                        } 


                        /* Slightly enlarge & bring to front on hover */
                        ha-card:hover {
                          transform: scale(1.2);
                          transform-origin: top center;
                          z-index: 1;
                          transition: all 1s;
                        }  
          - type: custom:mushroom-media-player-card
            entity: media_player.currently_playing
            icon: mdi:play
            use_media_info: true
            icon_type: entity-picture
            show_volume_level: false
            media_controls:
              - play_pause_stop
              - next
            volume_controls:
              - volume_set
            fill_container: false
            layout: horizontal
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  title: Currently Playing
                  content:
                    type: custom:stack-in-card
                    cards:
                      - type: custom:mushroom-media-player-card
                        entity: media_player.currently_playing
                        icon_type: none
                        layout: vertical
                        media_controls:
                          - previous
                          - play_pause_stop
                          - next
                        volume_controls:
                          - volume_set
                          - volume_buttons
                        show_volume_level: false
                        use_media_info: true
                        collapsible_controls: false
                        card_mod:
                          style:
                            mushroom-state-info$: |
                              /* CSS for Mushroom Popup Media Player */
                              .secondary:before {

                                /* Add album name between song title and artist name */
                                {% if state_attr(config.entity, 'media_album_name') != none %}
                                  content: "{{ state_attr(config.entity, 'media_album_name')}}\A";
                                {% endif %}

                                /* Format title to fit on seperate line */
                                white-space: pre;
                                text-overflow: ellipsis;
                              }
                            .: |
                              ha-card {

                                /* Remove border from media player */
                                --ha-card-border-width: 0;

                                /* Apply album art color to media player icon & volume bar */
                                --rgb-state-media-player: var(--album-art-color);

                                /* Disable transitions */
                                transition: all 0s;
                              }
                              .actions {

                                /* Apply album art color to media player controls */
                                --rgb-primary-text-color: var(--album-art-color);
                                --primary-text-color: rgb(var(--album-art-color));

                                /* Move volume button to seperate row */
                                display: block !important;
                              }
                              ha-card:before {
                                content: "";

                                /* Show album art above media player when active and default image when idle */
                                {% if is_state(config.entity, ['playing', 'paused']) %}
                                  background: url( '{{ state_attr(config.entity, "entity_picture") }}') center no-repeat;
                                {% else %}
                                  background: url('/local/idle_art.png') center no-repeat;
                                {% endif %}

                                /* Add padding around album art */
                                margin: 0px 4px 16px;

                                /* Add drop shadow to album art */
                                filter: drop-shadow(4px 4px 6px rgba(var(--album-art-color), 0.3));

                                /* Round borders of album art */
                                border-radius: var(--control-border-radius);

                                /* Adjust the album art aspect ratio based on media type */
                                {% set media_type = state_attr(config.entity, 'media_content_type') %}
                                {% if media_type == 'tvshow' %}
                                  aspect-ratio: 16 / 9;
                                {% elif media_type == 'movie' %}
                                  aspect-ratio: 2 / 3;
                                {% else %}
                                  aspect-ratio: 1 / 1;
                                {% endif %}

                                /* Stretch album art to fit box. Fix for if album art is not sized correctly */
                                background-size: 100% 100%;
                              }
                              mushroom-button {

                                /* Size volume button to match other controls and center */
                                display: flex;
                                width: calc((100% / 3) - (var(--spacing) / 3) * 2);
                                margin: auto;
                              }
                              mushroom-media-player-media-control,
                              mushroom-media-player-volume-control {

                                /* Correct margins for volume button on second row */
                                display: flex;
                                margin-right: 0px !important;

                                /* Check if PLAY|STOP are supported and adjust margin accordingly */
                                {% if state_attr(config.entity, 'supported_features') | int | bitwise_and(20480) > 0 %}
                                  margin-bottom: var(--spacing) !important;
                                {% endif %}
                              }
                      - entity: media_player.currently_playing
                        hide:
                          icon: true
                          name: true
                          runtime: true
                          source: true
                          power: true
                          state_label: true
                          volume: true
                          info: true
                          progress: false
                          controls: true
                        more_info: false
                        type: custom:mini-media-player
                        toggle_power: false
                        group: true
                        card_mod:
                          style:
                            mmp-progress$: |
                              paper-progress {

                                /* Apply album art color to progress bar when paused */
                                --paper-progress-container-color: rgba(var(--album-art-color), 0.2) !important;

                                /* Apply album art color to progress bar when playing */
                                --paper-progress-active-color: rgb(var(--album-art-color)) !important;
                              }
                            .: |
                              ha-card {
                                /* Move progress bar up into gap. Check if PLAY|STOP are supported */
                                --base-offset: calc(4 * var(--mush-spacing, 12px)
                                                    + 1.33 * var(--mush-spacing, 12px)
                                                    + var(--mush-card-primary-line-height, 1.5) * var(--mush-card-primary-font-size, 14px)
                                                    + var(--mush-card-secondary-line-height, 1.5) * var(--mush-card-secondary-font-size, 12px)
                                                    + var(--mush-control-height, 42px));

                                /* Check if Play (16385) or Stop (4096) are supported and add control button height if they are */
                                {% if state_attr(config.entity, 'supported_features') | int | bitwise_and(20480) > 0 %}
                                  --control-offset: calc(var(--mush-spacing, 12px) + var(--mush-control-height, 42px));
                                {% else %}
                                  --control-offset: 0px;
                                {% endif %}

                                /* Check if album name is present and add to height if it is */
                                {% set album_name = state_attr(config.entity, 'media_album_name') %}
                                {% if album_name == None or album_name == "" %}
                                  --album-offset: 0px;
                                {% else %}
                                  --album-offset: calc(var(--mush-card-secondary-line-height, 1.5) * var(--mush-card-secondary-font-size, 12px));
                                {% endif %}

                                bottom: calc(var(--base-offset) + var(--control-offset) + var(--album-offset));

                                /* Correct margins for progress bar */
                                margin: 0px 28px -12px;

                                /* Set height of card to match pregress bar height */
                                height: var(--mmp-progress-height);

                                /* Remove border outline */
                                --ha-card-border-width: 0;

                                /* Round corners of progress bar */
                                --mmp-border-radius: var(--control-border-radius, 12px) !important;

                                /* Set height of progress bar */
                                --mmp-progress-height: 12px !important;

                                /* Remove transitions to prevent progress bar floating in */
                                transition: all 0s;
                              }
                    card_mod:
                      style: |
                        :host {

                          /* Assign album art color to variable used in popup */
                          --album-art-color:      
                          {% if is_state('media_player.currently_playing', ['playing', 'paused']) %}
                            {{ states('sensor.muted_color') }}
                          {% else %}
                            141, 117, 238
                          {% endif %};

                          /* Remove background because it is applied to popup */
                          --ha-card-background: none;
                        }
                  card_mod:
                    style:
                      ha-dialog$: |
                        .mdc-dialog__surface {

                          /* Apply gradient background to popup using album art colors. Set to default colors when idle */
                          {% if is_state('media_player.currently_playing', ['playing', 'paused']) %}
                            background: linear-gradient(305deg, transparent 50%, rgba({{ states('sensor.dark_vibrant_color') }}, 0.4)), 
                                        linear-gradient(55deg, transparent 50%, rgba({{ states('sensor.vibrant_color') }}, 0.2)),  
                                        linear-gradient(180deg, transparent 40%, rgba({{ states('sensor.dark_muted_color') }}, 0.3));
                          {% else %}
                            background: linear-gradient(0deg, transparent 40%, rgba(192, 127, 190, 0.3)), 
                                        linear-gradient(240deg, transparent 40%, rgba(143, 119, 237, 0.3)),  
                                        linear-gradient(120deg, transparent 40%, rgba(122, 181, 239, 0.3));
                          {% endif %}
                        }
                      ha-header-bar$: |
                        .mdc-top-app-bar {

                          /* Remove header background so that popup background is visible */
                          --mdc-theme-primary: none;

                          /* Reduced the gap between header and album art */
                          margin-bottom: -16px;
                        }
                      .: |
                        :host {

                          /* Set width of popup */
                          --popup-min-width: 450px;
                        }
            card_mod:
              style: |
                /* CSS for Mushroom Mini Media Player */
                ha-card {
                  /* Apply album art color to volume bar */
                  box-shadow: none;
                  border-radius: 30px;
                  --ha-card-background: none;
                  margin-bottom: -50px;
                  --rgb-state-media-player: var(--album-art-color);
                  /* Apply gradient background to sticky media player using album art colors */


                }
                .actions {

                  /* Apply album art color to sticky media player controls */
                  --rgb-primary-text-color: black;


                  /* Allow the album info to display more text */
                  max-width: fit-content;
                  min-width: calc(2 * var(--mush-spacing, 12px) + 3 * var(--mush-control-height, 42px));
                }
                mushroom-media-player-volume-control {

                  /* Fix the width of the volume bar */
                  width: 200px;
                }
                :host {

                  /* Add background to host to prevent transparent card */
                  border-radius: 30px;
                  background: none;
                  box-shadow: none;
                  /* Assign album art color to variable used in sticky media player */
                  {% if is_state('media_player.currently_playing', ['playing', 'paused']) %}
                    --album-art-color: {{ states('sensor.muted_color') }};
                  {% else %}

                    /* Hide the sticky media player when it is idle */
                    display: none !important;
                  {% endif %}

                  /* Make the media player sticky at the bottom of the page */
                }
          - type: custom:bubble-card
            card_type: button
            name: Rooms
            card_layout: large
            styles: >-
              .bubble-button-card {
                opacity: 1.0;
                background: rgba(0,0,0,0) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
              }

              .bubble-button-card-container {
                background-color: rgba(0,0,0,0) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                filter: blur(50%) !important;
              }

              .bubble-button-background {
                background-color: rgba(0,0,0,0) !important;
                filter: blur(50%) !important;
              }

              .bubble-name {
                  font-size: 16px;
              }

              mwc-list-item[selected] {
                color: var(--primary-text-color) !important;
                background-color: var(--google-ha-blue) !important;
              }


              ${subButtonIcon[0].setAttribute("icon",
              hass.states['input_select.room_view'].state === 'List' ?
              'mdi:format-list-bulleted' :
              hass.states['input_select.room_view'].state === 'Small' ?
              'mdi:checkbox-multiple-blank-outline' :
              'mdi:checkbox-blank-outline')}
            sub_button:
              - entity: input_select.room_view
                show_name: false
            icon: mdi:car
            entity: input_select.room_view
            show_icon: false
            tap_action:
              action: none
            button_action:
              tap_action:
                action: none
            card_mod:
              style: |
                ha-card {
                  z-index: 2;
                }
          - type: custom:state-switch
            entity: input_select.room_view
            transition: swap-right
            transition_time: 300
            default: Small
            states:
              List:
                type: vertical-stack
                cards:
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.lounge_room_temperature
                    name: Lounge Room
                    icon: mdi:sofa
                    show_state: true
                    tap_action:
                      action: navigate
                      navigation_path: '#lounge'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#lounge'
                    styles: |-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-yellow) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-yellow) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }

                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.lounge_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.lounge_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['light.lounge_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.lounge_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-3{
                        background-color: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-4{
                        background-color: ${hass.states['cover.lounge_blind'].state === 'open' ? 'var(--google-violet)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['cover.lounge_blind'].state === 'open' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: light.lounge_lamp
                        icon: mdi:floor-lamp
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: light.lounge_downlights
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: binary_sensor.balcony_door
                        state_background: false
                        tap_action:
                          action: more-info
                      - entity: cover.lounge_blind
                        state_background: false
                        tap_action:
                          action: toggle
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.bedroom_sensor_temperature
                    name: Main Bedroom
                    icon: mdi:bed-king
                    show_state: true
                    tap_action:
                      action: navigate
                      navigation_path: '#main-bedroom'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#main-bedroom'
                    styles: |-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-green) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-green) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }

                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-3{
                        background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-4{
                        background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: light.ben_lamp
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: light.bedroom_downlights
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: binary_sensor.bedroom_sliding_door
                        state_background: false
                        tap_action:
                          action: more-info
                      - entity: media_player.bedroom_google_home
                        state_background: false
                        tap_action:
                          action: more-info
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.girls_sensor_temperature
                    name: Girls Room
                    icon: mdi:bunk-bed
                    show_state: true
                    tap_action:
                      action: navigate
                      navigation_path: '#girls-bedroom'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#girls-bedroom'
                    styles: |-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-pink) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                        width: 22px;
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-pink) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }

                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.girls_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.girls_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['input_boolean.bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['input_boolean.bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-3{
                        background-color: ${hass.states['input_boolean.elaine'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['input_boolean.elaine'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-4{
                        background-color: ${hass.states['media_player.kids_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['media_player.kids_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: light.girls_room_downlights
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: input_boolean.bedtime
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: input_boolean.elaine
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: media_player.kids_google_home
                        state_background: false
                        tap_action:
                          action: more-info
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.sebs_sensor_temperature
                    name: Sebs Room
                    icon: mdi:bed-single
                    show_state: true
                    tap_action:
                      action: navigate
                      navigation_path: '#sebs-bedroom'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#sebs-bedroom'
                    styles: |-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-blue) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-blue) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }

                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.sebs_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.sebs_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-3{
                        background-color: ${hass.states['input_boolean.elaine2'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['input_boolean.elaine2'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-4{
                        background-color: ${hass.states['media_player.boys_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['media_player.boys_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: light.sebs_downlights
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: input_boolean.boys_bedtime
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: input_boolean.elaine2
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: media_player.boys_google_home
                        state_background: false
                        tap_action:
                          action: more-info
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: light.play_room_desk
                    name: Play Room
                    icon: mdi:airballoon
                    show_state: false
                    tap_action:
                      action: navigate
                      navigation_path: '#play-room'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#play-room'
                    styles: |-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-violet) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-violet) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }

                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.play_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.play_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['light.play_room_desk'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.play_room_desk'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-3{
                        background-color: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-4{
                        background-color: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: light.play_room_downlights
                        icon: mdi:light-recessed
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: light.play_room_desk
                        icon: mdi:led-strip-variant
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: media_player.playroom_sonos
                        state_background: false
                        tap_action:
                          action: more-info
                      - entity: media_player.play_room_google_home
                        icon: phu:google-home
                        state_background: false
                        tap_action:
                          action: more-info
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.rumpus_sensor_temperature
                    name: Rumpus
                    icon: mdi:desk
                    show_state: true
                    tap_action:
                      action: navigate
                      navigation_path: '#rumpus'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#rumpus'
                    styles: >-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }

                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }

                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }

                      .bubble-icon {
                        color: var(--google-teal) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }

                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-teal) !important;
                      }

                      .bubble-name {
                        font-size: auto !important;
                      }


                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.rumpus'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.rumpus'].state === 'on' ? '1.0' : '0.6'} !important;
                      }

                      .bubble-sub-button-2{
                        background-color: ${hass.states['light.desk_strip'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.desk_strip'].state === 'on' ? '1.0' : '0.6'} !important;
                      }

                      .bubble-sub-button-3{
                        background-color: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                      }

                      .bubble-sub-button-4{
                        background-color: ${hass.states['sensor.desky_height'].state >= 90.0 ? 'var(--google-teal)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['sensor.desky_height'].state >= 90.0 ? '1.0' : '0.6'} !important;
                      }


                      ${subButtonIcon[3].setAttribute("icon",
                      hass.states['sensor.desky_height'].state >= 90.0 ?
                      'phu:desk-stand-alt' : 'phu:desk-sit-alt')}
                    sub_button:
                      - entity: light.rumpus
                        icon: mdi:ceiling-light-multiple
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: light.desk_strip
                        icon: mdi:led-strip-variant
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: binary_sensor.rumpus_sliding_door
                        state_background: false
                        tap_action:
                          action: more-info
                      - entity: sensor.desky_height
                        icon: phu:desk-sit-alt
                        state_background: false
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          target:
                            entity_id: script.desk_up_down
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: light.kitchen_lights
                    name: Kitchen & Dining
                    icon: mdi:fridge
                    show_state: false
                    tap_action:
                      action: navigate
                      navigation_path: '#kitchen'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#kitchen'
                    styles: |-
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-red) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-red) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }

                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.kitchen_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.kitchen_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-3{
                        background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-4{
                        background-color: ${hass.states['vacuum.robomac'].state === 'cleaning' ? 'var(--google-pink)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['vacuum.robomac'].state === 'cleaning' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: light.kitchen_lights
                        icon: mdi:light-recessed
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: binary_sensor.coffee_machine
                        icon: mdi:coffee
                        state_background: false
                        tap_action:
                          action: more-info
                      - entity: binary_sensor.dishwasher
                        state_background: false
                        tap_action:
                          action: more-info
                      - entity: vacuum.robomac
                        state_background: false
                        tap_action:
                          action: more-info
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: binary_sensor.washer_dryer
                    name: Laundry
                    icon: mdi:washing-machine
                    show_state: false
                    tap_action:
                      action: navigate
                      navigation_path: '#laundry'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#laundry'
                    styles: |-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-ha-blue) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-ha-blue) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }
                      .bubble-sub-button-1{
                        background-color: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: binary_sensor.laundry_door
                        state_background: false
                        tap_action:
                          action: more-info
                      - entity: binary_sensor.washer_dryer
                        icon: mdi:washing-machine
                        state_background: false
                        tap_action:
                          action: more-info
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.home_realfeel_temperature
                    name: Outdoors
                    icon: mdi:tree
                    show_state: true
                    tap_action:
                      action: navigate
                      navigation_path: '#outdoors'
                    button_action:
                      tap_action:
                        action: navigate
                        navigation_path: '#outdoors'
                    styles: |-
                      .bubble-button-card {
                        opacity: 1.0;
                        background: rgba(var(--card-background),0.2) !important;
                        -webkit-backdrop-filter: blur(4px) !important;
                        backdrop-filter: blur(4px) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                        filter: blur(50%) !important;
                      }
                      .bubble-icon {
                        color: var(--google-orange) !important;
                        opacity: 1.0 !important;
                        filter: brightness(1.0);
                      }
                      .bubble-icon-container {
                        background-color: rgba(0,0,0,0) !important;
                        border-style: solid !important;
                        border-width: 2px;
                        color: var(--google-orange) !important;
                      }
                      .bubble-name {
                        font-size: auto !important;
                      }

                      .bubble-sub-button-1{
                        background-color: ${hass.states['light.front_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['light.front_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-2{
                        background-color: ${hass.states['switch.pool_pump'].state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['switch.pool_pump'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-3{
                        background-color: ${hass.states['switch.vege_patch_zone'].state === 'on' ? 'var(--google-green)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['switch.vege_patch_zone'].state === 'on' ? '1.0' : '0.6'} !important;
                      }
                      .bubble-sub-button-4{
                        background-color: ${hass.states['climate.outdoor_heater'].state === 'heat' ? 'var(--google-red)' : ''} !important;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;
                        opacity: ${hass.states['climate.outdoor_heater'].state === 'heat' ? '1.0' : '0.6'} !important;
                      }
                    sub_button:
                      - entity: light.front_lights
                        icon: mdi:ceiling-light-multiple
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: switch.pool_pump
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: switch.vege_patch_zone
                        state_background: false
                        tap_action:
                          action: toggle
                      - entity: climate.outdoor_heater
                        state_background: false
                        tap_action:
                          action: more-info
              Small:
                type: custom:mod-card
                style:
                  swipe-card$: |
                    .swiper-container {
                      margin: 0 0 0 0 !important;
                      padding-bottom: 30px !important;
                      magin-top: -40px !important;
                    }
                    .swiper-pagination-bullets>span {
                      background: var(--google-ha-blue); /* <---- */
                    }
                card:
                  type: custom:swipe-card
                  parameters:
                    slidesPerView: '1.05'
                    spaceBetween: 8
                    pagination:
                      type: bullets
                      hide: false
                      draggable: true
                      snapOnRelease: true
                  cards:
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.lounge_room_temperature
                          name: Lounge Room
                          icon: mdi:sofa
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/Living_Room.png")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-yellow)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.lounge_room_temperature
                                name: Lounge Room
                                icon: mdi:sofa
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#lounge'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#lounge'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-yellow) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-yellow) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.lounge_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.lounge_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.lounge_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.lounge_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['cover.lounge_blind'].state === 'open' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['cover.lounge_blind'].state === 'open' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.lounge_lamp
                                    icon: mdi:floor-lamp
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.lounge_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.balcony_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: cover.lounge_blind
                                    state_background: false
                                    tap_action:
                                      action: toggle
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#lounge'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.bedroom_sensor_temperature
                          name: Main Bedroom
                          icon: mdi:sofa-outline
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/bedroom_2.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-yellow)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.bedroom_sensor_temperature
                                name: Main Bedroom
                                icon: mdi:bed-king
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#main-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#main-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-green) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-green) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.ben_lamp
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.bedroom_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.bedroom_sliding_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: media_player.bedroom_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#main-bedroom'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.girls_sensor_temperature
                          name: Girls Bedroom
                          icon: mdi:bunk-bed
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/girls_room.jpg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-pink)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.girls_sensor_temperature
                                name: Girls Room
                                icon: mdi:bunk-bed
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#girls-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#girls-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-pink) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                    width: 22px;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-pink) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.girls_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.girls_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['input_boolean.bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['input_boolean.elaine'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.elaine'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.kids_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.kids_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.girls_room_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.bedtime
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.elaine
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.kids_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#girls-bedroom'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.sebs_sensor_temperature
                          name: Sebs Bedroom
                          icon: mdi:bed-single
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/sebs_room.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-blue)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.sebs_sensor_temperature
                                name: Sebs Room
                                icon: mdi:bed-single
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#sebs-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#sebs-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-blue) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-blue) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.sebs_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.sebs_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['input_boolean.elaine2'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.elaine2'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.boys_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.boys_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.sebs_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.boys_bedtime
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.elaine2
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.boys_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#sebs-bedroom'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: light.play_room_downlights
                          name: Play Room
                          icon: mdi:airballoon
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/play_room.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-ha-blue)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: light.play_room_desk
                                name: Play Room
                                icon: mdi:airballoon
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#play-room'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#play-room'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-violet) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-violet) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.play_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.play_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.play_room_desk'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.play_room_desk'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.play_room_downlights
                                    icon: mdi:light-recessed
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.play_room_desk
                                    icon: mdi:led-strip-variant
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.playroom_sonos
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: media_player.play_room_google_home
                                    icon: phu:google-home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#play-room'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.rumpus_sensor_temperature
                          name: Rumpus
                          icon: mdi:desk
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/Rumpus.png")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-teal)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.rumpus_sensor_temperature
                                name: Rumpus
                                icon: mdi:desk
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#rumpus'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#rumpus'
                                styles: >-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }

                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }

                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }

                                  .bubble-icon {
                                    color: var(--google-teal) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }

                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-teal) !important;
                                  }

                                  .bubble-name {
                                    font-size: auto !important;
                                  }


                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.rumpus'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.rumpus'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }

                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.desk_strip'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.desk_strip'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }

                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }

                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['sensor.desky_height'].state >= 90.0 ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['sensor.desky_height'].state >= 90.0 ? '1.0' : '0.6'} !important;
                                  }


                                  ${subButtonIcon[3].setAttribute("icon",
                                  hass.states['sensor.desky_height'].state >=
                                  90.0 ? 'phu:desk-stand-alt' :
                                  'phu:desk-sit-alt')}
                                sub_button:
                                  - entity: light.rumpus
                                    icon: mdi:ceiling-light-multiple
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.desk_strip
                                    icon: mdi:led-strip-variant
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.rumpus_sliding_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: sensor.desky_height
                                    icon: phu:desk-sit-alt
                                    state_background: false
                                    tap_action:
                                      action: call-service
                                      service: script.turn_on
                                      target:
                                        entity_id: script.desk_up_down
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#rumpus'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: light.kitchen_lights
                          name: Kitchen
                          icon: mdi:fridge
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/Kitchen.png")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-red)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: light.kitchen_lights
                                name: Kitchen & Dining
                                icon: mdi:fridge
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#kitchen'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#kitchen'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-red) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-red) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.kitchen_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.kitchen_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['binary_sensor.coffee_machine'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.coffee_machine'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['vacuum.robomac'].state === 'cleaning' ? 'var(--google-pink)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['vacuum.robomac'].state === 'cleaning' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.kitchen_lights
                                    icon: mdi:light-recessed
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.coffee_machine
                                    icon: mdi:coffee
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: binary_sensor.dishwasher
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: vacuum.robomac
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#kitchen'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: binary_sensor.washer_dryer
                          name: Laundry
                          icon: mdi:washing-machine
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/laundry.jpg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-ha-blue)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: binary_sensor.washer_dryer
                                name: Laundry
                                icon: mdi:washing-machine
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#laundry'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#laundry'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-ha-blue) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-ha-blue) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: binary_sensor.laundry_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: binary_sensor.washer_dryer
                                    icon: mdi:washing-machine
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#laundry'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.sydney_temp
                          name: Outdoors
                          icon: mdi:tree
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/outdoors.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-orange)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 70%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.home_realfeel_temperature
                                name: Outdoors
                                icon: mdi:tree
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#outdoors'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#outdoors'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-orange) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-orange) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.front_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.front_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['switch.pool_pump'].state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['switch.pool_pump'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['switch.vege_patch_zone'].state === 'on' ? 'var(--google-green)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['switch.vege_patch_zone'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['climate.outdoor_heater'].state === 'heat' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['climate.outdoor_heater'].state === 'heat' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.front_lights
                                    icon: mdi:ceiling-light-multiple
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: switch.pool_pump
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: switch.vege_patch_zone
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: climate.outdoor_heater
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#outdoors'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
              Large:
                type: custom:mod-card
                style:
                  swipe-card$: |
                    .swiper-container {
                      margin: 0 0 0 0 !important;
                      padding-bottom: 35px !important;
                      magin-top: -40px !important;
                    }
                    .swiper-pagination-bullets>span {
                      background: var(--google-ha-blue); /* <---- */
                    }
                card:
                  type: custom:swipe-card
                  parameters:
                    slidesPerView: '1.05'
                    spaceBetween: 8
                    pagination:
                      type: bullets
                      hide: false
                      draggable: true
                      snapOnRelease: true
                  cards:
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: sensor.lounge_room_temperature
                      name: Lounge Room
                      icon: mdi:sofa
                      tap_action:
                        action: none
                      show_state: true
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/Living_Room.png")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-yellow)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: light.lounge_lamp
                            name: Lounge Room
                            icon: mdi:sofa-outline
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#lounge'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#lounge'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-yellow) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-yellow) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            card_layout: large
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: conditional
                                conditions:
                                  - condition: state
                                    entity: camera.living_room
                                    state: streaming
                                card:
                                  type: picture-elements
                                  card_mod:
                                    style: |
                                      ha-card {
                                        border-radius: 28px !important;
                                        width: 96%;
                                        margin: auto;
                                        margin-top: 4px;
                                      }
                                  camera_image: camera.living_room
                                  image: /local/Lounge Camera.png
                                  camera_view: live
                                  tap_action:
                                    action: more-info
                                  elements:
                                    - type: custom:button-card
                                      style:
                                        top: 10%
                                        left: 10%
                                        width: 20%
                                      show_name: true
                                      show_state: false
                                      name: Live
                                      entity: camera.living_room
                                      layout: icon_name
                                      icon: mdi:record
                                      styles:
                                        card:
                                          - border-radius: 24px
                                          - border-style: none
                                          - width: 120%
                                          - background-color: rgba(0,0,0,0)
                                        img_cell:
                                          - width: 40px
                                          - height: 20px
                                          - background: none
                                          - border-radius: 100%
                                        icon:
                                          - width: 20px
                                          - color: var(--google-red)
                                          - top: '-2px'
                                        name:
                                          - color: var(--primary--font-color)
                                          - font-size: 10px
                                          - justify-self: start
                                    - type: custom:mod-card
                                      style:
                                        top: 84%
                                        left: 50%
                                        width: 96%
                                      card_mod:
                                        style: |
                                          ha-card {
                                            border-radius: 36px;
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                      card:
                                        type: custom:bubble-card
                                        card_type: button
                                        button_type: state
                                        entity: camera.living_room
                                        force_icon: true
                                        show_attribute: true
                                        button_action:
                                          tap_action:
                                            action: none
                                        card_layout: normal
                                        sub_button:
                                          - entity: sensor.living_room_battery_percentage
                                            show_state: true
                                          - entity: camera.living_room
                                            icon: mdi:camera
                                            tap_action:
                                              action: call-service
                                              service: camera.snapshot
                                              target:
                                                entity_id: camera.living_room
                                          - entity: camera.living_room
                                            icon: mdi:stop
                                            tap_action:
                                              action: call-service
                                              service: camera.turn_off
                                              target:
                                                entity_id: camera.living_room
                                        styles: |-
                                          .bubble-button-card {
                                            opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                            background: rgba(0,0,0,0.1) !important;
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                          .bubble-button-card-container {
                                            background-color: rgba(0,0,0,0) !important;
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                            filter: blur(50%) !important;
                                          }
                                          .bubble-button-background {
                                            background-color: var(--card-background-color) !important;
                                            filter: blur(50%) !important;
                                          }
                                          .bubble-icon {
                                            color: var(--card-background-color) !important;
                                            opacity: 1.0 !important;
                                          }
                                          .bubble-icon-container {
                                            background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                                          }
                                          .bubble-name {
                                            font-size: auto !important;
                                          }
                                          .bubble-sub-button-container {
                                            background: none !important;
                                          }
                                          .bubble-sub-button-1 {
                                            background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                            display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                                          }
                                          .bubble-sub-button-2{
                                            border-radius: 32px;
                                            background-color: rgba(var(--color-background),0.6);
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                          .bubble-sub-button-3{
                                            border-radius: 32px;
                                            background-color: rgba(var(--color-background),0.6);
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                          .is-on .bubble-icon {
                                            filter: brightness(1.0);
                                            opacity: 1;
                                          }
                              - type: conditional
                                conditions:
                                  - condition: or
                                    conditions:
                                      - condition: state
                                        entity: media_player.lounge_room_sonos
                                        state: paused
                                      - condition: state
                                        entity: media_player.lounge_room_sonos
                                        state: playing
                                card:
                                  type: custom:bubble-card
                                  card_type: media-player
                                  entity: media_player.lounge_room_sonos
                                  show_state: true
                                  show_attribute: true
                                  hide:
                                    next_button: false
                                    previous_button: true
                                    power_button: true
                                    play_pause_button: false
                                  cover_background: false
                                  card_layout: large
                                  styles: |-
                                    .bubble-range-fill { 
                                      background: var(--google-red) !important;
                                      opacity: 1 !important;
                                    }
                                    .bubble-media-player-container {
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-media-player {
                                      opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-play-pause-button {
                                      background-color: var(--card-background-color);
                                    }

                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                                    .bubble-icon {
                                      color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    }
                                          
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: sensor.bedroom_sensor_temperature
                                name: Main Bedroom
                                icon: mdi:bed-king-outline
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#main-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#main-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-green) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-green) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['camera.living_room'].state === 'streaming' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['camera.living_room'].state === 'streaming' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.lounge_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.lounge_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['light.lounge_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.lounge_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-5{
                                    background-color: ${hass.states['cover.lounge_blind'].state === 'open' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['cover.lounge_blind'].state === 'open' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: camera.living_room
                                    state_background: false
                                    show_background: true
                                    tap_action:
                                      action: call-service
                                      service: camera.turn_on
                                      target:
                                        entity_id: camera.living_room
                                  - entity: light.lounge_lamp
                                    icon: mdi:floor-lamp
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.lounge_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.balcony_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: cover.lounge_blind
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#lounge'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: sensor.bedroom_sensor_temperature
                      name: Main Bedroom
                      icon: mdi:bed-king-outline
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/bedroom_2.jpeg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-yellow)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: sensor.bedroom_sensor_temperature
                            name: Main Bedroom
                            icon: mdi:bed-king-outline
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#main-bedroom'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#main-bedroom'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-green) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-green) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            sub_button:
                              - entity: sensor.bedroom_sensor_temperature
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                              - entity: sensor.bedroom_sensor_humidity
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                            card_layout: large-2-rows
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: conditional
                                conditions:
                                  - condition: or
                                    conditions:
                                      - condition: state
                                        entity: media_player.bedroom_google_home
                                        state: paused
                                      - condition: state
                                        entity: media_player.bedroom_google_home
                                        state: playing
                                card:
                                  type: custom:bubble-card
                                  card_type: media-player
                                  entity: media_player.bedroom_google_home
                                  show_state: true
                                  show_attribute: true
                                  hide:
                                    next_button: false
                                    previous_button: true
                                    power_button: true
                                    play_pause_button: false
                                  cover_background: false
                                  card_layout: large
                                  styles: |-
                                    .bubble-range-fill { 
                                      background: var(--google-red) !important;
                                      opacity: 1 !important;
                                    }
                                    .bubble-media-player-container {
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-media-player {
                                      opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-play-pause-button {
                                      background-color: var(--card-background-color);
                                    }

                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                                    .bubble-icon {
                                      color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    }
                                          
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: sensor.bedroom_sensor_temperature
                                name: Main Bedroom
                                icon: mdi:bed-king-outline
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#main-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#main-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-green) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-green) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['camera.living_room'].state === 'streaming' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['camera.living_room'].state === 'streaming' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.ben_lamp
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.bedroom_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.bedroom_sliding_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: media_player.bedroom_google_home
                                    state_background: false
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#main-bedroom'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: sensor.girls_sensor_temperature
                      name: Girl's Room
                      icon: mdi:bunk-bed-outline
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/girls_room.jpg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-pink)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: sensor.girls_sensor_temperature
                            name: Girl's Room
                            icon: mdi:bunk-bed-outline
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#girls-bedroom'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#girls-bedroom'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-pink) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-pink) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            sub_button:
                              - entity: sensor.girls_sensor_temperature
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                              - entity: sensor.girls_sensor_humidity
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                            card_layout: large-2-rows
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: conditional
                                conditions:
                                  - condition: or
                                    conditions:
                                      - condition: state
                                        entity: media_player.kids_google_home
                                        state: playing
                                      - condition: state
                                        entity: media_player.kids_google_home
                                        state: paused
                                card:
                                  type: custom:bubble-card
                                  card_type: media-player
                                  entity: media_player.kids_google_home
                                  show_state: true
                                  show_attribute: true
                                  hide:
                                    next_button: false
                                    previous_button: true
                                    power_button: true
                                    play_pause_button: false
                                  cover_background: false
                                  card_layout: large
                                  styles: |-
                                    .bubble-range-fill { 
                                      background: var(--google-red) !important;
                                      opacity: 1 !important;
                                    }
                                    .bubble-media-player-container {
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-media-player {
                                      opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-play-pause-button {
                                      background-color: var(--card-background-color);
                                    }

                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                                    .bubble-icon {
                                      color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    }
                                          
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: sensor.girls_sensor_temperature
                                name: Girl's Room
                                icon: mdi:bunk-bed-outline
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#girls-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#girls-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-pink) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-pink) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.girls_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.girls_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['input_boolean.bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['input_boolean.elaine'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.elaine'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.kids_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.kids_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.girls_room_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.bedtime
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.elaine
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.kids_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#girls-bedroom'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: sensor.sebs_sensor_temperature
                      name: Seb's Room
                      icon: mdi:bed-single-outline
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/sebs_room.jpeg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-blue)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: sensor.sebs_sensor_temperature
                            name: Seb's Room
                            icon: mdi:bed-single-outline
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#sebs-bedroom'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#sebs-bedroom'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-blue) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-blue) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            sub_button:
                              - entity: sensor.sebs_sensor_temperature
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                              - entity: sensor.sebs_sensor_humidity
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                            card_layout: large-2-rows
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: conditional
                                conditions:
                                  - condition: or
                                    conditions:
                                      - condition: state
                                        entity: media_player.boys_google_home
                                        state: playing
                                      - condition: state
                                        entity: media_player.boys_google_home
                                        state: paused
                                card:
                                  type: custom:bubble-card
                                  card_type: media-player
                                  entity: media_player.boys_google_home
                                  show_state: true
                                  show_attribute: true
                                  hide:
                                    next_button: false
                                    previous_button: true
                                    power_button: true
                                    play_pause_button: false
                                  cover_background: false
                                  card_layout: large
                                  styles: |-
                                    .bubble-range-fill { 
                                      background: var(--google-red) !important;
                                      opacity: 1 !important;
                                    }
                                    .bubble-media-player-container {
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-media-player {
                                      opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-play-pause-button {
                                      background-color: var(--card-background-color);
                                    }

                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                                    .bubble-icon {
                                      color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    }
                                          
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: sensor.sebs_sensor_temperature
                                name: Girl's Room
                                icon: mdi:bunk-single-outline
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#sebs-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#sebs-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-blue) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-blue) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.sebs_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.sebs_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['input_boolean.elaine2'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.elaine2'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.boys_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.boys_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.sebs_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.boys_bedtime
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.elaine2
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.boys_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#sebs-bedroom'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: light.play_room_desk
                      name: Play Room
                      icon: mdi:airballoon-outline
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/play_room.jpeg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-violet)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: light.play_room_desk
                            name: Play Room
                            icon: mdi:airballoon-outline
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#play-room'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#play-room'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-violet) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-violet) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            card_layout: large
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: conditional
                                conditions:
                                  - condition: or
                                    conditions:
                                      - condition: state
                                        entity: media_player.playroom_sonos
                                        state: playing
                                      - condition: state
                                        entity: media_player.playroom_sonos
                                        state: paused
                                card:
                                  type: custom:bubble-card
                                  card_type: media-player
                                  entity: media_player.playroom_sonos
                                  show_state: true
                                  show_attribute: true
                                  hide:
                                    next_button: false
                                    previous_button: true
                                    power_button: true
                                    play_pause_button: false
                                  cover_background: false
                                  card_layout: large
                                  styles: |-
                                    .bubble-range-fill { 
                                      background: var(--google-red) !important;
                                      opacity: 1 !important;
                                    }
                                    .bubble-media-player-container {
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-media-player {
                                      opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-play-pause-button {
                                      background-color: var(--card-background-color);
                                    }

                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                                    .bubble-icon {
                                      color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    }
                                          
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: light.play_room_desk
                                name: Play Room
                                icon: mdi:airballoon-outline
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#play-room'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#play-room'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-violet) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-violet) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.play_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.play_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.play_room_desk'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.play_room_desk'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.play_room_downlights
                                    icon: mdi:light-recessed
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.play_room_desk
                                    icon: mdi:led-strip-variant
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.playroom_sonos
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: media_player.play_room_google_home
                                    icon: phu:google-home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#play-room'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: sensor.rumpus_sensor_temperature
                      name: Rumpus
                      icon: mdi:desk
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/Rumpus.png")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-teal)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: sensor.rumpus_sensor_temperature
                            name: Rumpus
                            icon: mdi:desk
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#rumpus'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#rumpus'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-teal) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-teal) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            sub_button:
                              - entity: sensor.rumpus_sensor_temperature
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                              - entity: sensor.rumpus_sensor_humidity
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                            card_layout: large-2-rows
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: conditional
                                conditions:
                                  - condition: or
                                    conditions:
                                      - condition: state
                                        entity: media_player.rumpus_google_home
                                        state: playing
                                      - condition: state
                                        entity: media_player.rumpus_google_home
                                        state: paused
                                card:
                                  type: custom:bubble-card
                                  card_type: media-player
                                  entity: media_player.rumpus_google_home
                                  show_state: true
                                  show_attribute: true
                                  hide:
                                    next_button: false
                                    previous_button: true
                                    power_button: true
                                    play_pause_button: false
                                  cover_background: false
                                  card_layout: large
                                  styles: |-
                                    .bubble-range-fill { 
                                      background: var(--google-red) !important;
                                      opacity: 1 !important;
                                    }
                                    .bubble-media-player-container {
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-media-player {
                                      opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-play-pause-button {
                                      background-color: var(--card-background-color);
                                    }

                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                                    .bubble-icon {
                                      color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    }
                                          
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: sensor.rumpus_sensor_temperature
                                name: Rumpus
                                icon: mdi:desk
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#rumpus'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#rumpus'
                                styles: >-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }

                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }

                                  .bubble-button-background {
                                    background-color: none !important;
                                  }

                                  .bubble-icon {
                                    color: var(--google-teal) !important;
                                    opacity: 1.0 !important;
                                  }

                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-teal) !important;
                                  }

                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.rumpus'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.rumpus'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }


                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.desk_strip'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.desk_strip'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }


                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }


                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['sensor.desky_height'].state >= 90.0 ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['sensor.desky_height'].state >= 90.0 ? '1.0' : '0.6'} !important;
                                  }



                                  ${subButtonIcon[3].setAttribute("icon",

                                  hass.states['sensor.desky_height'].state >=
                                  90.0 ?

                                  'phu:desk-stand-alt' : 'phu:desk-sit-alt')}
                                sub_button:
                                  - entity: light.rumpus
                                    icon: mdi:ceiling-light-multiple
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.desk_strip
                                    icon: mdi:led-strip-variant
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.rumpus_sliding_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: sensor.desky_height
                                    icon: phu:desk-sit-alt
                                    state_background: false
                                    tap_action:
                                      action: call-service
                                      service: script.turn_on
                                      target:
                                        entity_id: script.desk_up_down
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#rumpus'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: light.kitchen_lights
                      name: Kitchen & Dining
                      icon: mdi:fridge
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/Kitchen.png")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-red)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: light.kitchen_lights
                            name: Kitchen & Dining
                            icon: mdi:fridge
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#kitchen'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#kitchen'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-red) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-red) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            card_layout: large
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: light.kitchen_lights
                                name: Kitchen & Dining
                                icon: mdi:fridge
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#kitchen'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#kitchen'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-blue) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-blue) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.kitchen_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.kitchen_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['binary_sensor.coffee_machine'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.coffee_machine'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['vacuum.robomac'].state === 'cleaning' ? 'var(--google-pink)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['vacuum.robomac'].state === 'cleaning' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.kitchen_lights
                                    icon: mdi:light-recessed
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.coffee_machine
                                    icon: mdi:coffee
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: binary_sensor.dishwasher
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: vacuum.robomac
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#kitchen'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: sensor.washer_dryer
                      name: Laundry
                      icon: mdi:washing-machine
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/laundry.jpg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-ha-blue)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: sensor.washer_dryer
                            name: Laundry
                            icon: mdi:washing-machine
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#laundry'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#laundry'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-ha-blue) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-ha-blue) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            card_layout: large
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: sensor.washer_dryer
                                name: Laundry
                                icon: mdi:washing-machine
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#laundry'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#kitchen'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-blue) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-blue) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: binary_sensor.laundry_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: binary_sensor.washer_dryer
                                    icon: mdi:washing-machine
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#laundry'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
                    - type: custom:button-card
                      aspect_ratio: 8/9
                      size: 60%
                      entity: sensor.sydney_temp
                      name: Outdoors
                      icon: mdi:tree
                      tap_action:
                        action: none
                      show_state: false
                      show_name: false
                      show_icon: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/outdoors2.jpg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-orange)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        custom_fields:
                          heading:
                            - position: absolute
                            - width: 84%
                            - left: 0.7%
                            - top: 0.7%
                          bubble:
                            - position: absolute
                            - width: 96%
                            - left: 2%
                            - bottom: 2%
                          pop_out:
                            - position: absolute
                            - height: 43px
                            - width: 43px
                            - border-radius: 80px
                            - left: 86%
                            - top: 2%
                      custom_fields:
                        heading:
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: sensor.sydney_temp
                            name: Outdoors
                            icon: mdi:tree
                            show_state: false
                            tap_action:
                              action: navigate
                              navigation_path: '#outdoors'
                            button_action:
                              tap_action:
                                action: navigate
                                navigation_path: '#outdoors'
                            styles: |-
                              .bubble-button-card {
                                opacity: 1.0;
                                background: rgba(0,0,0,0) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                opacity: 1.0;
                              }
                              .bubble-button-background {
                                background-color: none !important;
                              }
                              .bubble-icon {
                                color: var(--google-orange) !important;
                                opacity: 1.0 !important;
                                filter: brightness(1.0) !important;
                              }
                              .bubble-icon-container {
                                background-color: rgba(0,0,0,0) !important;
                                border-style: solid !important;
                                border-width: 2px;
                                color: var(--google-orange) !important;
                              }
                              .bubble-sub-button {
                                color: var(--secondary-text-color);
                              }
                              .bubble-name {
                                font-size: auto !important;
                                color: var(--secondary-text-color);
                              }
                            sub_button:
                              - entity: sensor.sydney_temp
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                              - entity: sensor.sydney_humidity
                                state_background: false
                                show_background: false
                                tap_action:
                                  action: toggle
                                show_state: true
                            card_layout: large-2-rows
                        bubble:
                          card:
                            type: custom:vertical-stack-in-card
                            card_mod:
                              style: |
                                ha-card {
                                  border: none !important;
                                  padding-top: 3px;
                                  padding-bottom: 3px;
                                  background-color: rgba(var(--card-background),0.4) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  filter: blur(50%) !important;
                                  border-radius: 28px;
                                }
                            cards:
                              - type: conditional
                                conditions:
                                  - condition: state
                                    entity: camera.backyard
                                    state: streaming
                                card:
                                  type: picture-elements
                                  card_mod:
                                    style: |
                                      ha-card {
                                        border-radius: 28px !important;
                                        width: 96%;
                                        margin: auto;
                                        margin-top: 4px;
                                      }
                                  camera_image: camera.backyard
                                  image: /local/backyard.png
                                  camera_view: live
                                  tap_action:
                                    action: more-info
                                  elements:
                                    - type: custom:button-card
                                      style:
                                        top: 10%
                                        left: 10%
                                        width: 20%
                                      show_name: true
                                      show_state: false
                                      name: Live
                                      entity: camera.backyard
                                      layout: icon_name
                                      icon: mdi:record
                                      styles:
                                        card:
                                          - border-radius: 24px
                                          - border-style: none
                                          - width: 120%
                                          - background-color: rgba(0,0,0,0)
                                        img_cell:
                                          - width: 40px
                                          - height: 20px
                                          - background: none
                                          - border-radius: 100%
                                        icon:
                                          - width: 20px
                                          - color: var(--google-red)
                                          - top: '-2px'
                                        name:
                                          - color: var(--primary--font-color)
                                          - font-size: 10px
                                          - justify-self: start
                                    - type: custom:mod-card
                                      style:
                                        top: 84%
                                        left: 50%
                                        width: 96%
                                      card_mod:
                                        style: |
                                          ha-card {
                                            border-radius: 36px;
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                      card:
                                        type: custom:bubble-card
                                        card_type: button
                                        button_type: state
                                        entity: camera.backyard
                                        force_icon: true
                                        show_attribute: true
                                        button_action:
                                          tap_action:
                                            action: none
                                        card_layout: normal
                                        sub_button:
                                          - entity: sensor.backyard_battery_percentage
                                            show_state: true
                                          - entity: camera.backyard
                                            icon: mdi:camera
                                            tap_action:
                                              action: call-service
                                              service: camera.snapshot
                                              target:
                                                entity_id: camera.backyard
                                          - entity: camera.backyard
                                            icon: mdi:stop
                                            tap_action:
                                              action: call-service
                                              service: camera.turn_off
                                              target:
                                                entity_id: camera.backyard
                                        styles: |-
                                          .bubble-button-card {
                                            opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                            background: rgba(0,0,0,0.1) !important;
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                          .bubble-button-card-container {
                                            background-color: rgba(0,0,0,0) !important;
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                            filter: blur(50%) !important;
                                          }
                                          .bubble-button-background {
                                            background-color: var(--card-background-color) !important;
                                            filter: blur(50%) !important;
                                          }
                                          .bubble-icon {
                                            color: var(--card-background-color) !important;
                                            opacity: 1.0 !important;
                                          }
                                          .bubble-icon-container {
                                            background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                                          }
                                          .bubble-name {
                                            font-size: auto !important;
                                          }
                                          .bubble-sub-button-container {
                                            background: none !important;
                                          }
                                          .bubble-sub-button-1 {
                                            background-color: ${hass.states['sensor.backyard_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.backyard_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                            display: ${hass.states['sensor.backyard_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                                          }
                                          .bubble-sub-button-2{
                                            border-radius: 32px;
                                            background-color: rgba(var(--color-background),0.6);
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                          .bubble-sub-button-3{
                                            border-radius: 32px;
                                            background-color: rgba(var(--color-background),0.6);
                                            -webkit-backdrop-filter: blur(2px) !important;
                                            backdrop-filter: blur(2px) !important;
                                          }
                                          .is-on .bubble-icon {
                                            filter: brightness(1.0);
                                            opacity: 1;
                                          }
                              - type: conditional
                                conditions:
                                  - condition: or
                                    conditions:
                                      - condition: state
                                        entity: media_player.outdoor_sonos
                                        state: playing
                                      - condition: state
                                        entity: media_player.outdoor_sonos
                                        state: paused
                                card:
                                  type: custom:bubble-card
                                  card_type: media-player
                                  entity: media_player.outdoor_sonos
                                  show_state: true
                                  show_attribute: true
                                  hide:
                                    next_button: false
                                    previous_button: true
                                    power_button: true
                                    play_pause_button: false
                                  cover_background: false
                                  card_layout: large
                                  styles: |-
                                    .bubble-range-fill { 
                                      background: var(--google-red) !important;
                                      opacity: 1 !important;
                                    }
                                    .bubble-media-player-container {
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-media-player {
                                      opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                      background-color: rgba(0,0,0,0) !important;
                                    }
                                    .bubble-play-pause-button {
                                      background-color: var(--card-background-color);
                                    }

                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                                    .bubble-icon {
                                      color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    }
                                          
                              - type: custom:bubble-card
                                card_layout: large
                                card_type: button
                                button_type: state
                                entity: sensor.sydney_temp
                                name: Outdoors
                                icon: mdi:tree
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#outdoors'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#outdoors'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: none !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-orange) !important;
                                    opacity: 1.0 !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-orange) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button {
                                    height: 42px !important;
                                    min-width: 42px !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['camera.backyard'].state === 'streaming' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['camera.backyard'].state === 'streaming' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.front_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.front_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['switch.pool_pump'].state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['switch.pool_pump'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['switch.vege_patch_zone'].state === 'on' ? 'var(--google-green)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['switch.vege_patch_zone'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-5{
                                    background-color: ${hass.states['climate.outdoor_heater'].state === 'heat' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['climate.outdoor_heater'].state === 'heat' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: camera.backyard
                                    state_background: false
                                    show_background: true
                                    tap_action:
                                      action: call-service
                                      service: camera.turn_on
                                      target:
                                        entity_id: camera.backyard
                                  - entity: light.front_lights
                                    icon: mdi:ceiling-light-multiple
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: switch.pool_pump
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: switch.vege_patch_zone
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: climate.outdoor_heater
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                show_icon: false
                                show_name: false
                        pop_out:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                            card:
                              type: custom:button-card
                              style: |
                                ha-card {
                                  -webkit-backdrop-filter: blur(4px) !important;
                                  backdrop-filter: blur(4px) !important;
                                }
                              icon: mdi:arrow-top-right
                              color: rgba(0,0,0,0.7)
                              color_type: card
                              tap_action:
                                action: navigate
                                navigation_path: '#outdoors'
                              styles:
                                card:
                                  - height: 45px
                                  - width: 45px
                                  - border-radius: 80px
                                  - border-weight: 0px
          - type: heading
            icon: ''
            heading_style: title
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px)  {
                  ha-card  {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    left: 10px;
                    width: calc(100% - 20px);
                    background-color: var(--dock-background);
                    border-radius: 36px;
                    -webkit-backdrop-filter: blur(10px) !important;
                    backdrop-filter: blur(10px) !important;
                    transform: translate3d(0, 0, 0);
                    padding: 5px;
                    box-shadow: 0px -5px 10px rgba(0, 0, 0, 0.1);
                  }
                }
                @media (min-width:480px)  {
                  ha-card  {
                    width: calc(60% - 30px);
                    left: calc(20% - 15px);
                  }
                }
            card:
              type: grid
              square: false
              columns: 6
              cards:
                - type: custom:button-card
                  icon: mdi:home-variant
                  tap_action:
                    action: navigate
                    navigation_path: /dashboard-nextgen
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--card-background-color)
                    img_cell:
                      - width: 50px
                      - height: 50px
                      - color: var(--google--ha-blue)
                    card:
                      - background: var(--google-ha-blue)
                      - box-shadow: none
                      - border-radius: 100%
                      - padding: 0px
                - type: custom:button-card
                  icon: mdi:home-thermometer-outline
                  tap_action:
                    action: navigate
                    navigation_path: climate
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:shield-outline
                  entity: alarm_control_panel.homebase
                  show_name: false
                  show_state: false
                  tap_action:
                    action: navigate
                    navigation_path: security
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                  state:
                    - value: disarmed
                      icon: mdi:shield-off-outline
                    - value: armed_away
                      icon: mdi:shield-lock-outline
                - type: custom:button-card
                  icon: mdi:vacuum-outline
                  tap_action:
                    action: navigate
                    navigation_path: robomac
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:music-circle-outline
                  tap_action:
                    action: navigate
                    navigation_path: sonos
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:cog-outline
                  tap_action:
                    action: navigate
                    navigation_path: settings
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#ben'
                name: Ben
                entity: person.ben
                margin: 7px
                margin_top_mobile: 0px
                bg_color: var(--dock-background)
                bg_opacity: '80'
                bg_blur: '10'
                styles: |2-
                    * { 
                      font-weight: bold;
                    }
                    .bubble-button-card-container {
                  /*    background: none !important; */
                    }
                show_header: true
                backdrop_blur: '10'
                card_layout: large
                button_type: state
                show_state: false
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-red) !important;
                      background-color: transparent;
                    }
              - type: map
                entities:
                  - entity: person.ben
                hours_to_show: 24
                aspect_ratio: '3:2'
                theme_mode: auto
                card_mod:
                  style:
                    ha-map $ ha-entity-marker $: |
                      .marker {

                        /* Style person marker & adjust position to avoid blocking waypoints */
                        border: 3px solid var(--state-person) !important;
                        border-radius: 50% 50% 50% 0px !important;
                        transform: rotate(-45deg) translate(50%, -50%);
                        overflow: visible !important;
                        background: var(--state-person) !important;
                      }
                      .entity-picture {

                        /* Correct orientation of person avatar */
                        transform: rotate(45deg);
                        border-radius: 50%;
                      }
                    ha-map $: |
                      path:first-child { 

                        /* Style accuracy radius */
                        stroke: var(--state-person);
                        fill: color-mix(in srgb, var(--state-person) 50%, transparent);
                        stroke-width: 0px;
                      }
                      path:nth-child(even) {

                        /* Styling for waypoints */
                        stroke: var(--google-violet);
                        stroke-width: 4px;
                      }
                      path:nth-child(odd):not(:first-child) { 

                        /* Styling for lines */
                        stroke: var(--google-violet);
                        stroke-width: 4px;
                      }

                      .leaflet-control-attribution {

                        /* Style attribution text */
                        background: rgba(var(--rgb-card-background-color), 0.4) !important;
                        font-size: 10px;
                      }
                      .leaflet-container a {

                        /* Set color of zoom icons & attribution text */
                        color: var(--primary-theme);
                      }

                      .leaflet-control-zoom-in,
                      .leaflet-control-zoom-out {

                        /* Style zoom buttons like Chips */
                        border-radius: var(--mush-chip-border-radius, 19px) !important;
                        padding: 3px;
                        box-shadow: none;
                        background: rgba(240,240,240,0.6) !important;
                        margin: 8px 12px 0px;
                        border: none;
                      } 
                      .leaflet-top {

                        /* Move zoom buttons to bottom of map */
                        bottom: 0px !important;
                      }
                      .leaflet-control-zoom {

                        /* Allow buttons to be moved */
                        position: absolute !important;

                        /* Adjust spacing for border */
                        bottom: calc(2 * var(--ha-card-border-width, 1px) + 56px);

                        /* Remove extra margin */
                        margin: 0px !important;

                        /* Remove zoom control border */
                        border: none !important;
                        box-shadow: none !important;
                      }
                    ha-icon-button $ mwc-icon-button $: |
                      button {

                        /* Size center button to match Chip */
                        height: var(--mush-chip-height, 36px) !important;
                        width: var(--mush-chip-height, 36px) !important;
                        --mdc-icon-size: 22px;
                      }
                    .: |
                      ha-card {

                        /* Remove default card styling without affecting child elements */
                        box-shadow: none;
                        border-width: 0;
                        border-radius: 30px;

                        transition: all 0s;
                      }
                      :host {

                        /* Define Person State colors. Can be added to theme */
                        --state-person-home: var(--google-green);
                        --state-person-not-home: var(--google-red);
                        --state-person-zone: var(--google-blue);
                        --state-person-unknown: var(--google-grey);

                        /* Set person state color */
                        --state-person:
                        {% if is_state(config.entities[0].entity, ['home', 'not_home', 'unknown']) %}
                          var(--state-person-{{ states(config.entities[0].entity) | replace('_', '-') }})
                        {% else %}
                          var(--state-person-zone)
                        {% endif %};
                      }
                      ha-icon-button {

                        /* Position center button */
                        bottom: 12px;
                        left: 12px !important;
                        top: auto !important;

                        /* Style center button to match Chip */
                        color: white !important;
                        background: black;
                        border-radius: var(--mush-chip-border-radius, 19px);
                        border: none !important;
                      }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    aspect_ratio: 3/1
                    size: 50%
                    entity: sensor.ben_to_work_waze
                    name: Time to Work
                    icon: mdi:office-building
                    show_state: true
                    styles:
                      card:
                        - border-radius: 30px
                        - background-color: rgba(0,0,0,0)
                      name:
                        - justify-self: start
                        - padding-left: 10px
                        - padding-top: 0px
                        - font-size: 12px
                        - font-weight: 400
                        - color: var(--primary-font-color)
                      state:
                        - justify-self: start
                        - margin-top: '-10px'
                        - padding-left: 10px
                        - font-size: 24px
                        - color: var(--secondary-font-color)
                      img_cell:
                        - height: 55px
                        - width: 55px
                        - background-color: var(--google-blue)
                        - border-radius: 50%
                        - margin-top: '-5px'
                        - margin-left: 5px
                      icon:
                        - color: var(--primary-theme)
                      grid:
                        - grid-template-areas: '"i n n" "i s s" "i s s" ". . ."'
                        - grid-template-columns: 1fr 1fr 1fr
                        - grid-template-rows: 1fr 1fr 1fr
                    state:
                      - value: Ben Work
                        styles:
                          card:
                            - background-color: rgba(0,0,0,0)
                            - opacity: 0.4
                          img_cell:
                            - opacity: 0.6
                  - type: custom:button-card
                    aspect_ratio: 3/1
                    size: 50%
                    entity: sensor.ben_to_home_waze
                    name: Time to Home
                    icon: mdi:home-outline
                    show_state: true
                    styles:
                      card:
                        - border-radius: 30px
                        - background-color: rgba(0,0,0,0)
                      name:
                        - justify-self: start
                        - padding-left: 10px
                        - padding-top: 0px
                        - font-size: 12px
                        - font-weight: 400
                        - color: var(--primary-font-color)
                      state:
                        - justify-self: start
                        - margin-top: '-10px'
                        - padding-left: 10px
                        - font-size: 24px
                        - color: var(--secondary-font-color)
                      img_cell:
                        - height: 55px
                        - width: 55px
                        - background-color: var(--google-green)
                        - border-radius: 50%
                        - margin-top: '-5px'
                        - margin-left: 5px
                      icon:
                        - color: var(--primary-theme)
                      grid:
                        - grid-template-areas: '"i n n" "i s s" "i s s" ". . ."'
                        - grid-template-columns: 1fr 1fr 1fr
                        - grid-template-rows: 1fr 1fr 1fr
                    state:
                      - value: 0
                        styles:
                          card:
                            - background-color: rgba(0,0,0,0)
                            - opacity: 0.4
                          img_cell:
                            - opacity: 0.6
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    aspect_ratio: 3/1
                    size: 50%
                    entity: sensor.bens_iphone_battery_level
                    name: Battery
                    icon: mdi:cellphone
                    show_state: true
                    styles:
                      card:
                        - border-radius: 30px
                        - background-color: rgba(0,0,0,0)
                      name:
                        - justify-self: start
                        - padding-left: 10px
                        - padding-top: 0px
                        - font-size: 12px
                        - font-weight: 400
                        - color: var(--primary-font-color)
                      state:
                        - justify-self: start
                        - margin-top: '-10px'
                        - padding-left: 10px
                        - font-size: 24px
                        - color: var(--secondary-font-color)
                      img_cell:
                        - height: 55px
                        - width: 55px
                        - background-color: var(--google-blue)
                        - border-radius: 50%
                        - margin-top: '-5px'
                        - margin-left: 5px
                      icon:
                        - color: var(--primary-theme)
                      grid:
                        - grid-template-areas: '"i n n" "i s s" "i s s" ". . ."'
                        - grid-template-columns: 1fr 1fr 1fr
                        - grid-template-rows: 1fr 1fr 1fr
                    state:
                      - value: Ben Work
                        styles:
                          card:
                            - background-color: rgba(0,0,0,0)
                            - opacity: 0.4
                          img_cell:
                            - opacity: 0.6
                  - type: custom:button-card
                    aspect_ratio: 3/1
                    size: 50%
                    entity: sensor.bens_iphone_connection_type
                    name: Network
                    icon: mdi:network-outline
                    show_state: true
                    styles:
                      card:
                        - border-radius: 30px
                        - background-color: rgba(0,0,0,0)
                      name:
                        - justify-self: start
                        - padding-left: 10px
                        - padding-top: 0px
                        - font-size: 12px
                        - font-weight: 400
                        - color: var(--primary-font-color)
                      state:
                        - justify-self: start
                        - margin-top: '-10px'
                        - padding-left: 10px
                        - font-size: 24px
                        - color: var(--secondary-font-color)
                      img_cell:
                        - height: 55px
                        - width: 55px
                        - background-color: var(--google-red)
                        - border-radius: 50%
                        - margin-top: '-5px'
                        - margin-left: 5px
                      icon:
                        - color: var(--primary-theme)
                      grid:
                        - grid-template-areas: '"i n n" "i s s" "i s s" ". . ."'
                        - grid-template-columns: 1fr 1fr 1fr
                        - grid-template-rows: 1fr 1fr 1fr
                    state:
                      - value: 0
                        styles:
                          card:
                            - background-color: rgba(0,0,0,0)
                            - opacity: 0.4
                          img_cell:
                            - opacity: 0.6
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#lounge'
                name: Lounge Room
                icon: mdi:sofa
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2+
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-yellow) !important;
                    }
                    .bubble-icon {
                      color: var(--google-yellow) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }

                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.lounge_lamp
                icon: mdi:floor-lamp
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Lamp
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.lounge_downlights
                icon: mdi:light-recessed
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Downlights
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                card_layout: large
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.mactree
                icon: phu:christmas-tree-v2
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Christmas Tree
                sub_button:
                  - entity: light.mactree
                    icon: none
                    tap_action:
                      action: call-service
                      target:
                        entity_id: light.mactree
                      data:
                        effect: 0 Christmas Beams
                      service: light.turn_on
                  - entity: light.mactree
                    icon: none
                    tap_action:
                      action: call-service
                      target:
                        entity_id: light.mactree
                      data:
                        effect: 1 Tropical
                      service: light.turn_on
                  - entity: light.mactree
                    icon: none
                    tap_action:
                      action: call-service
                      target:
                        entity_id: light.mactree
                      data:
                        effect: 2 Rosy Valentine
                      service: light.turn_on
                  - entity: light.mactree
                    icon: none
                    tap_action:
                      action: call-service
                      target:
                        entity_id: light.mactree
                      data:
                        effect: 3 Glow
                      service: light.turn_on
                styles: |-
                  .bubble-sub-button-1{
                    background-image: url("/local/Twinkly/0 Christmas Beam.jpg");
                    background-size: cover;
                    opacity: ${hass.states['light.mactree'].attributes.effect === '0 Christmas Beams' ? '1.0' : '0.5'} !important;
                    
                  }
                  .bubble-sub-button-2{
                    background-image: url("/local/Twinkly/1 Tropical.jpg");
                    background-size: cover;
                    opacity: ${hass.states['light.mactree'].attributes.effect === '1 Tropical' ? '1.0' : '0.5'} !important;
                  }
                  .bubble-sub-button-3{
                    background-image: url("/local/Twinkly/2 Rosy Valentine.jpg");
                    background-size: cover;
                    opacity: ${hass.states['light.mactree'].attributes.effect === '2 Rosy Valentine' ? '1.0' : '0.5'} !important;
                  }
                  .bubble-sub-button-4{
                    background-image: url("/local/Twinkly/3 Glow.jpg");
                    background-size: cover;
                    opacity: ${hass.states['light.mactree'].attributes.effect === '3 Glow' ? '1.0' : '0.5'} !important;
                  }
                  .bubble-range-fill { 
                    background: var(--google-yellow) !important;
                    opacity: 1 !important;
                  }
                  .bubble-range-fill { 
                    background: var(--google-yellow) !important;
                    opacity: 0.5 !important;
                  }
                  .bubble-icon {
                    color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    opacity: 1.0 !important;
                  }

                  .bubble-button-card {
                    opacity: ${state === 'off' ? '0.5' : ''} !important;
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }

                  ha-card {
                    display: ${state === 'unavailable' ? 'none' : ''} !important
                  }
                card_layout: large
              - type: custom:bubble-card
                card_type: separator
                name: Security
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: cover.lounge_blind
                icon: ''
                show_attribute: true
                attribute: current_position
                show_state: true
                name: Blind
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-violet) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'open' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'open' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'closed' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                   
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.lounge_blind_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.lounge_blind_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.lounge_blind_battery'].state <= 20 ? '' : 'none'} !important;
                    }

                    .bubble-sub-button-2{
                      border-radius: 32px 0px 0px 32px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-3{
                      border-radius: 0px;
                      margin-left: -8px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                      margin-right:-8px;
                    }
                    .bubble-sub-button-4{
                      border-radius: 0px 32px 32px 0px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }

                  .bubble-button-card {
                    opacity: ${state === 'off' ? '0.5' : ''} !important;
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                slider_live_update: false
                sub_button:
                  - entity: sensor.lounge_blind_battery
                    show_state: true
                  - entity: cover.lounge_blind
                    show_icon: true
                    icon: mdi:arrow-down
                    state_background: false
                    tap_action:
                      action: call-service
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.close_cover
                  - entity: cover.lounge_blind
                    icon: mdi:square-outline
                    state_background: false
                    tap_action:
                      action: call-service
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.stop_cover
                  - entity: cover.lounge_blind
                    icon: mdi:arrow-up
                    state_background: false
                    tap_action:
                      action: call-service
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.open_cover
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.lounge_nest
                icon: mdi:smoke-detector
                show_attribute: false
                show_state: false
                name: Nest Protect
                card_layout: large
                styles: |2-
                    @keyframes blink {
                      50% {opacity: 0.5;}
                    }
                    
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-orange)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                    
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['binary_sensor.nest_protect_lounge_room_co_status'].state === 'on' ? 'var(--google-red)' : 'var(--google-green)'} !important;
                    }

                    .bubble-sub-button-2 {
                      background-color: ${hass.states['binary_sensor.nest_protect_lounge_room_heat_status'].state === 'on' ? 'var(--google-red)' : 'var(--google-green)'} !important;
                    }

                    .bubble-sub-button-3 {
                      background-color: ${hass.states['binary_sensor.nest_protect_lounge_room_smoke_status'].state === 'on' ? 'var(--google-red)' : 'var(--google-green)'} !important;
                    }

                    .bubble-button-card-container {
                      background: ${state === 'on' ? 'rgba(var(--color-orange),0.5)' : ''} !important;
                      animation: ${state === 'on' ? 'blink 2s linear infinite;' : ''} !important;
                    }
                sub_button:
                  - entity: binary_sensor.nest_protect_lounge_room_co_status
                    name: ''
                    icon: mdi:molecule-co2
                    show_name: false
                    state_background: false
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: binary_sensor.nest_protect_lounge_room_co_status
                        state_not: 'off'
                  - entity: binary_sensor.nest_protect_lounge_room_heat_status
                    icon: mdi:heat-wave
                    visibility:
                      - condition: state
                        entity: binary_sensor.nest_protect_lounge_room_heat_status
                        state_not: 'off'
                  - entity: binary_sensor.nest_protect_lounge_room_smoke_status
                    icon: mdi:smoke
                    visibility:
                      - condition: state
                        entity: binary_sensor.nest_protect_lounge_room_smoke_status
                        state_not: 'off'
                visibility:
                  - condition: state
                    entity: binary_sensor.hallway_nest
                    state_not: 'off'
                modules:
                  - default
              - type: custom:bubble-card
                card_type: separator
                name: Media
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.lounge_room_sonos
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.lounge_tv
                show_state: true
                show_attribute: true
                hide:
                  next_button: true
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'standby' ? '0.5' : state === 'off' ? '0.5' : state === 'paused' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'off' ? 'grey' : 'var(--card-background-color)'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'off' ? '' : 'var(--google-red)'} !important;
                  }
                name: TV
                icon: mdi:television
                tap_action:
                  action: call-service
                  target: {}
                  service: script.lounge_tv_on
                sub_button:
                  - entity: media_player.lounge_tv
                    icon: mdi:remote-tv
                    state_background: false
                    show_background: false
                    tap_action:
                      action: navigate
                      navigation_path: '#remote_lg'
                    visibility:
                      - condition: state
                        entity: media_player.lounge_tv
                        state_not: 'off'
                modules:
                  - default
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.lounge_room_atv
                show_state: true
                show_attribute: true
                hide:
                  next_button: true
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'off' ? 'grey' : state === 'standby' ? 'grey' : 'var(--card-background-color)'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'off' ? '' : state === 'standby' ? '': 'var(--google-red)'} !important;
                  }

                  .bubble-sub-button-1 > ha-icon {
                  }
                name: Apple TV
                icon: phu:apple-tv
                tap_action:
                  action: call-service
                  target: {}
                  service: script.lounge_tv_on
                sub_button:
                  - entity: media_player.lounge_room_atv
                    icon: phu:apple-tv-gen2-remote
                    state_background: false
                    show_background: false
                    tap_action:
                      action: navigate
                      navigation_path: '#remote_atv'
                    visibility:
                      - condition: state
                        entity: media_player.lounge_tv
                        state_not: 'off'
                modules:
                  - default
              - type: custom:bubble-card
                card_type: separator
                name: Climate
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: climate
                entity: climate.air_conditioner
                sub_button:
                  - name: HVAC modes menu
                    select_attribute: hvac_modes
                    state_background: false
                    show_arrow: false
                  - entity: climate.air_conditioner
                    select_attribute: fan_modes
                    icon: mdi:fan
                    state_background: false
                name: Main AC
                icon: mdi:thermostat
                show_state: true
                show_attribute: true
                attribute: fan_mode
                card_layout: large
                styles: >
                  .host {
                    --bubble-accent-color: var(--google-red);
                    --bubble-button-accent-color: var(--google-red);
                  }


                  mwc-list-item[selected] {
                    color: var(--primary-text-color) !important;
                    background-color: ${
                    {
                      'cool': 'var(--google-blue)',
                      'heat': 'var(--google-orange)',
                      'fan_only': 'var(--google-green)',
                    }[state] ?? 'grey'
                  }

                  }


                  .bubble-icon-container {
                    background-color: ${state === 'auto' ? 'var(--google-pink)' : state === 'cool' ? 'var(--google-blue)' : state === 'heat' ? 'var(--google-red)' : state === 'dry' ? 'var(--google-orange)' : state === 'fan_only' ? 'var(--google-green)' : ''} !important;
                    opacity: 1.0;
                    }
                  .bubble-icon {
                    opacity: 1.0;
                    color: ${state === 'off' ? 'grey' : 'var(--card-background-color)'} !important;
                    }

                  .bubble-sub-button {
                    border: none !important;
                  }


                  @keyframes tap-feedback {
                    0% {transform: translateX(-100%); opacity: 0;}
                    64% {transform: translateX(0); opacity: 0;}
                    100% {transform: translateX(100%); opacity: 0;}
                    }
                  .bubble-sub-button-1 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }

                  .bubble-sub-button-2 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }

                  .bubble-sub-button-3 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }


                  .bubble-climate {
                    opacity: ${state === 'off' ? '0.5' : ''} !important;
                  }


                  .bubble-climate-container {
                    background-color: ${state === 'auto' ? 'rgba(var(--color-pink),0.5)' : state === 'cool' ? 'rgba(var(--color-blue),0.5)' : state === 'heat' ? 'rgba(var(--color-red),0.5)' :state === 'fan_only' ? 'rgba(var(--color-green),0.5)' :state === 'dry' ? 'rgba(var(--color-orange),0.5)' : ''} !important;
                  }


                  .bubble-color-background {
                    opacity: 0;
                  }

                  .bubble-temperature-container, .bubble-low-temp-container,
                  .bubble-high-temp-container {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#main-bedroom'
                name: Main Bedroom
                icon: mdi:bed-king
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '7'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-green) !important;
                    }
                    .bubble-icon {
                      color: var(--google-green) !important;
                      --mdc-icon-size: 30px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button:
                  - entity: sensor.bedroom_sensor_temperature
                    show_state: true
                    show_icon: true
                    state_background: false
                    show_name: false
                card_layout: large
                backdrop_blur: '10'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.ben_lamp
                icon: mdi:lamp
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Ben's Lamp
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.jess_lamp
                icon: mdi:lamp
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Jess' Lamp
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.bedroom_downlights
                icon: mdi:light-recessed
                show_attribute: true
                show_state: true
                name: Downlights
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                card_layout: large
              - type: custom:bubble-card
                card_type: separator
                name: Doors
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.bedroom_sliding_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Sliding Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.bedroom_sliding_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.bedroom_sliding_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.bedroom_sliding_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.bedroom_sliding_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: separator
                name: Media
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.bedroom_google_home
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : ''} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#sebs-bedroom'
                name: Seb's Bedroom
                icon: mdi:bed-single
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '7'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-blue) !important;
                    }
                    .bubble-icon {
                      color: var(--google-blue) !important;
                      --mdc-icon-size: 30px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button:
                  - entity: sensor.sebs_sensor_temperature
                    show_state: true
                    show_icon: true
                    state_background: false
                    show_name: false
                card_layout: large
                backdrop_blur: '10'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.sebs_downlights
                icon: mdi:light-recessed
                show_attribute: true
                show_state: true
                name: Downlights
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Bedtime
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: input_boolean.boys_bedtime
                icon: ''
                show_attribute: true
                show_state: true
                name: Bedtime Music
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.sebs_music_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.sebs_music_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.sebs_music_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-blue)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: input_boolean.elaine2
                icon: ''
                show_attribute: true
                show_state: true
                name: Bedtime Stories
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.sebs_music_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.sebs_music_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.sebs_music_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-blue)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
                tap_action:
                  action: more-info
                button_action:
                  tap_action:
                    action: toggle
              - type: custom:bubble-card
                card_type: separator
                name: Media
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.boys_google_home
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : ''} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
                name: Google Home
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#girls-bedroom'
                name: Girls' Bedroom
                icon: mdi:bunk-bed
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '7'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-pink) !important;
                    }
                    .bubble-icon {
                      color: var(--google-pink) !important;
                      --mdc-icon-size: 30px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button:
                  - entity: sensor.girls_sensor_temperature
                    show_state: true
                    show_icon: true
                    state_background: false
                    show_name: false
                card_layout: large
                backdrop_blur: '10'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.girls_room_downlights
                icon: mdi:light-recessed
                show_attribute: true
                show_state: true
                name: Downlights
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Bedtime
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: input_boolean.bedtime
                icon: ''
                show_attribute: true
                show_state: true
                name: Bedtime Music
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.girls_music_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.girls_music_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.girls_music_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-blue)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: input_boolean.elaine
                icon: ''
                show_attribute: true
                show_state: true
                name: Bedtime Stories
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.girls_music_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.girls_music_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.girls_music_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-blue)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: separator
                name: Media
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.kids_google_home
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : ''} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
                name: Google Home
                force_icon: true
                icon: phu:home-mini
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#play-room'
                name: Play Room
                icon: mdi:airballoon
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-violet) !important;
                    }
                    .bubble-icon {
                      color: var(--google-violet) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: light.play_room_downlights
                icon: mdi:light-recessed
                show_attribute: true
                show_state: true
                name: Downlights
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: toggle
                button_action:
                  tap_action:
                    action: toggle
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.play_room_desk
                icon: ''
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Desk
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Media
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.playroom_sonos
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.play_room_google_home
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : ''} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
                name: Google Home
                force_icon: true
                icon: phu:google-home
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#kitchen'
                name: Kitchen & Dining
                icon: mdi:fridge
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-red) !important;
                    }
                    .bubble-icon {
                      color: var(--google-red) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: light.sink
                icon: mdi:light-recessed
                show_attribute: true
                show_state: true
                name: Sink
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: toggle
                button_action:
                  tap_action:
                    action: toggle
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: light.breakfast_bar
                icon: mdi:light-recessed
                show_attribute: true
                show_state: true
                name: Breakfast Bar
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: toggle
                button_action:
                  tap_action:
                    action: toggle
              - type: custom:bubble-card
                card_type: separator
                name: Security
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.front_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Front Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.front_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.front_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.front_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.front_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.lounge_doors
                icon: ''
                show_attribute: true
                show_state: true
                name: Balcony Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.balcony_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.balcony_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.balcony_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.hallway_nest
                icon: mdi:smoke-detector
                show_attribute: false
                show_state: false
                name: Nest Protect
                card_layout: large
                styles: |2
                    @keyframes blink {
                      50% {opacity: 0.5;}
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-orange)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                    
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['binary_sensor.nest_protect_hallway_co_status'].state === 'on' ? 'var(--google-red)' : 'var(--google-green)'} !important;
                    }

                    .bubble-sub-button-2 {
                      background-color: ${hass.states['binary_sensor.nest_protect_hallway_heat_status'].state === 'on' ? 'var(--google-red)' : 'var(--google-green)'} !important;
                    }

                    .bubble-sub-button-3 {
                      background-color: ${hass.states['binary_sensor.nest_protect_hallway_smoke_status'].state === 'on' ? 'var(--google-red)' : 'var(--google-green)'} !important;
                    }
                    
                    .bubble-button-card-container {
                      background: ${state === 'on' ? 'rgba(var(--color-orange),0.5)' : ''} !important;
                      animation: ${state === 'on' ? 'blink 2s linear infinite;' : 'none'} !important;
                    }
                sub_button:
                  - entity: binary_sensor.nest_protect_hallway_co_status
                    name: ''
                    icon: mdi:molecule-co2
                    show_name: false
                    state_background: false
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: binary_sensor.nest_protect_hallway_co_status
                        state_not: 'off'
                  - entity: binary_sensor.nest_protect_hallway_heat_status
                    icon: mdi:heat-wave
                    visibility:
                      - condition: state
                        entity: binary_sensor.nest_protect_hallway_heat_status
                        state_not: 'off'
                  - entity: binary_sensor.nest_protect_hallway_smoke_status
                    icon: mdi:smoke
                    visibility:
                      - condition: state
                        entity: binary_sensor.nest_protect_hallway_smoke_status
                        state_not: 'off'
                visibility:
                  - condition: state
                    entity: binary_sensor.hallway_nest
                    state_not: 'off'
                modules:
                  - default
              - type: custom:bubble-card
                card_type: separator
                name: Appliances
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: vacuum.robomac
                icon: ''
                show_attribute: false
                show_state: true
                name: Robomac
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'docked' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'docked' ? 'grey' : 'var(--card-background-color)'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'docked' ? '' : 'var(--google-pink)'} !important;
                      opacity: 1.0 !important;
                    }
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.roborock_qrevo_s_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.roborock_qrevo_s_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.roborock_qrevo_s_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                sub_button:
                  - entity: sensor.roborock_qrevo_s_battery
                    show_state: true
                  - entity: vacuum.robomac
                    icon: mdi:play
                    tap_action:
                      action: call-service
                      target:
                        entity_id: vacuum.robomac
                      service: vacuum.start
                    visibility:
                      - condition: state
                        entity: vacuum.robomac
                        state_not: cleaning
                  - entity: vacuum.robomac
                    icon: mdi:pause
                    tap_action:
                      action: call-service
                      target:
                        entity_id: vacuum.robomac
                      service: vacuum.pause
                  - entity: vacuum.robomac
                    icon: mdi:home-import-outline
                    tap_action:
                      action: call-service
                      target:
                        entity_id: vacuum.robomac
                      service: vacuum.return_to_base
                    visibility:
                      - condition: state
                        entity: vacuum.robomac
                        state_not: docked
                attribute: cleanPercent
                get_state_attribute:
                  - entity: vacuum.robomac
                  - entity: sensor.roborock_qrevo_s_current_room
                  - entity: sensor.roborock_qrevo_s_cleaning_progress
                modules:
                  - get_state_attribute
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: switch.air_purifier
                icon: mdi:air-purifier
                show_attribute: true
                show_state: true
                name: Air Purifier
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-teal)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                get_state_attribute:
                  - entity: switch.air_purifier
                  - entity: sensor.air_purifier_power
                modules:
                  - get_state_attribute
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.dishwasher
                icon: ''
                show_attribute: true
                show_state: true
                name: Dishwasher
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-teal)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                    
                    .bubble-sub-button-1 {
                      background-color: var(--google-orange) !important;
                    }

                    .bubble-sub-button-2 {
                      background-color: var(--google-blue) !important;
                    }

                    .bubble-sub-button-3 {
                      background-color: var(--google-red) !important;
                    }
                sub_button:
                  - entity: sensor.dishwasher_state
                    show_name: true
                    name: Idle
                    icon: mdi:pause
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.dishwasher_state
                        state: Idle
                  - entity: sensor.dishwasher_state
                    name: Rinsing
                    show_name: true
                    show_state: false
                    icon: mdi:water
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.dishwasher_state
                        state: Rinsing
                  - entity: sensor.dishwasher_state
                    name: Washing
                    icon: mdi:dishwasher
                    show_name: true
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.dishwasher_state
                        state: Washing
                get_state_attribute:
                  - entity: binary_sensor.dishwasher
                  - entity: sensor.dishwasher_power_kw
                modules:
                  - get_state_attribute
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.coffee_machine
                icon: mdi:coffee
                show_attribute: true
                show_state: true
                name: Coffee Machine
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-teal)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                style_templates:
                  - get_state_attribute
                get_state_attribute:
                  - entity: binary_sensor.coffee_machine
                  - entity: sensor.coffee_plug_power_2
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#rumpus'
                name: Rumpus
                icon: mdi:desk
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-teal) !important;
                    }
                    .bubble-icon {
                      color: var(--google-teal) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.desk_strip
                icon: mdi:led-strip-variant
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Desk
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    .bubble-sub-button-1 {
                      background-color: var(--google-green) !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                card_layout: large
                tap_action:
                  action: toggle
                modules:
                  - default
                sub_button:
                  - entity: binary_sensor.rumpus_desk_presence_occupancy
                    icon: mdi:motion-sensor
                    visibility:
                      - condition: state
                        entity: binary_sensor.rumpus_desk_presence_occupancy
                        state: 'on'
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.monitor_bar
                icon: ''
                show_attribute: true
                attribute: brightness
                show_state: true
                name: ''
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                card_layout: large
                tap_action:
                  action: toggle
                use_accent_color: false
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.rumpus
                icon: mdi:ceiling-light-multiple
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Main Lights
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                tap_action:
                  action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.side_table
                icon: mdi:desk-lamp
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Side Table
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                card_layout: large
                tap_action:
                  action: toggle
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.desk
                icon: mdi:desk-lamp
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Desk Lamp
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                card_layout: large
                tap_action:
                  action: toggle
              - type: custom:bubble-card
                card_type: separator
                name: Appliances
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: vacuum.rumpusmac
                icon: ''
                show_attribute: true
                show_state: true
                name: Rumpusmac
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'docked' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'docked' ? 'grey' : 'var(--card-background-color)'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'docked' ? '' : 'var(--google-pink)'} !important;
                      opacity: 1.0 !important;
                    }
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.rumpusmac'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.rumpusmac'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.rumpusmac'].state <= 20 ? '' : 'none'} !important;
                    }
                sub_button:
                  - entity: sensor.rumpusmac
                    show_state: true
                    icon: mdi:battery
                  - entity: vacuum.rumpusmac
                    icon: mdi:play
                    tap_action:
                      action: call-service
                      target:
                        entity_id: vacuum.rumpusmac
                      service: vacuum.start
                    visibility:
                      - condition: state
                        entity: vacuum.rumpusmac
                        state_not: cleaning
                  - entity: vacuum.rumpusmac
                    icon: mdi:pause
                    tap_action:
                      action: call-service
                      target:
                        entity_id: vacuum.rumpusmac
                      service: vacuum.pause
                    visibility:
                      - condition: state
                        entity: vacuum.rumpusmac
                        state_not: docked
                  - entity: vacuum.rumpusmac
                    icon: mdi:home-import-outline
                    tap_action:
                      action: call-service
                      target:
                        entity_id: vacuum.rumpusmac
                      service: vacuum.return_to_base
                    visibility:
                      - condition: state
                        entity: vacuum.rumpusmac
                        state_not: docked
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.desky_height
                icon: phu:desk-sit-alt
                show_attribute: false
                attribute: unit_of_measurement
                show_state: true
                name: Desk
                card_layout: large
                styles: >2-

                    .bubble-button-card {
                    }

                    .bubble-icon {
                      color: var(--card-background-color) !important;
                      opacity: 1.0 !important;
                    }
                    .bubble-icon-container {
                      background-color: var(--google-teal) !important;
                      opacity: 1.0 !important;
                    }
                    .bubble-sub-button-container {
                    }
                    .bubble-sub-button-1 > ha-icon {
                      --mdc-icon-size: 24px !important;
                    }
                    .bubble-sub-button-2 > ha-icon {
                      --mdc-icon-size: 24px !important;
                    }
                    .bubble-sub-button-1{
                      opacity: 1.0 !important;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-2{
                      opacity: 1.0 !important;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }

                    .bubble-sub-button-3{
                      border-radius: 32px 0px 0px 32px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-4{
                      border-radius: 0px;
                      margin-left: -8px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                      margin-right:-8px;
                    }
                    .bubble-sub-button-5{
                      border-radius: 0px 32px 32px 0px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }

                  .bubble-button-card {
                    opacity: ${state === 'off' ? '0.5' : ''} !important;
                  }


                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }


                  .bubble-button-card-container {
                    background: ${state >= 90.0 ? 'rgba(var(--color-teal),0.5)' : ''} !important;
                  }


                  ${icon.setAttribute("icon",
                  hass.states['sensor.desky_height'].state >= 90 ?
                  'phu:desk-stand-alt' : 'phu:desk-sit-alt')}
                slider_live_update: false
                sub_button:
                  - entity: button.go_to_preset_1
                    show_state: false
                    icon: mdi:numeric-1-circle
                    tap_action:
                      action: toggle
                  - entity: button.go_to_preset_2
                    icon: mdi:numeric-2-circle
                    tap_action:
                      action: toggle
                  - entity: switch.lower_desk
                    show_icon: true
                    icon: mdi:arrow-down
                    state_background: false
                    tap_action:
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.close_cover
                      action: toggle
                  - entity: button.stop_desk
                    icon: mdi:square-outline
                    state_background: false
                    tap_action:
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.stop_cover
                      action: toggle
                  - entity: switch.raise_desk
                    icon: mdi:arrow-up
                    state_background: false
                    tap_action:
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.open_cover
                      action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: separator
                name: Doors
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.rumpus_sliding_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Rumpus Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.rumpus_sliding_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.rumpus_sliding_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.rumpus_sliding_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: separator
                name: Media
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.sony_kd_49x7000d
                show_state: true
                show_attribute: true
                hide:
                  next_button: true
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'off' ? 'grey' : 'var(--card-background-color)'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'off' ? '' : 'var(--google-red)'} !important;
                  }
                name: TV
                icon: phu:androidtv
                tap_action:
                  action: call-service
                  target: {}
                  service: script.lounge_tv_on
                sub_button:
                  - entity: media_player.sony_kd_49x7000d
                    icon: mdi:remote-tv
                    state_background: false
                    show_background: false
                    tap_action:
                      action: navigate
                      navigation_path: '#remote_sony'
                    visibility:
                      - condition: state
                        entity: media_player.sony_kd_49x7000d
                        state_not: 'off'
                modules:
                  - default
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.rumpus_homepod
                show_state: true
                show_attribute: true
                hide:
                  next_button: true
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'off' ? '0.6' : state === 'idle' ? '0.6' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'off' ? 'grey' : state === 'standby' ? 'grey' : state === 'idle' ? 'grey' : 'var(--card-background-color)'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'off' ? '' : state === 'standby' ? '' : state === 'idle' ? '' : 'var(--google-red)'} !important;
                  }
                name: Homepods
                icon: phu:homepod-mini
                sub_button: []
                modules:
                  - default
                double_tap_action:
                  action: more-info
                hold_action:
                  action: none
                icon_container_color:
                  color: dark-grey
                progress_border:
                  entity: sensor.fordpass_battery
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.rumpus_google_home
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
                name: Google Home
                icon: phu:nest-hub
                modules:
                  - default
              - type: custom:bubble-card
                card_type: separator
                name: Climate
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
              - type: custom:bubble-card
                card_type: climate
                entity: climate.rumpus_room_ac
                sub_button:
                  - name: HVAC modes menu
                    select_attribute: hvac_modes
                    state_background: false
                    show_arrow: false
                  - entity: climate.air_conditioner
                    select_attribute: fan_modes
                    icon: mdi:fan
                    state_background: false
                name: Rumpus AC
                icon: phu:air-conditioner
                show_state: true
                show_attribute: true
                attribute: fan_mode
                card_layout: large
                styles: >
                  .host {
                    --bubble-accent-color: var(--google-red);
                    --bubble-button-accent-color: var(--google-red);
                  }


                  mwc-list-item[selected] {
                    color: var(--primary-text-color) !important;
                    background-color: ${
                    {
                      'cool': 'var(--google-blue)',
                      'heat': 'var(--google-orange)',
                      'fan_only': 'var(--google-green)',
                    }[state] ?? 'grey'
                  }

                  }


                  .bubble-icon-container {
                    background-color: ${state === 'auto' ? 'var(--google-pink)' : state === 'cool' ? 'var(--google-blue)' : state === 'heat' ? 'var(--google-red)' : state === 'dry' ? 'var(--google-orange)' : state === 'fan_only' ? 'var(--google-green)' : ''} !important;
                    opacity: 1.0;
                    }
                  .bubble-icon {
                    opacity: 1.0;
                    color: ${state === 'off' ? 'grey' : 'var(--card-background-color)'} !important;
                    }

                  .bubble-sub-button {
                    border: none !important;
                  }


                  @keyframes tap-feedback {
                    0% {transform: translateX(-100%); opacity: 0;}
                    64% {transform: translateX(0); opacity: 0;}
                    100% {transform: translateX(100%); opacity: 0;}
                    }
                  .bubble-sub-button-1 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }

                  .bubble-sub-button-2 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }

                  .bubble-sub-button-3 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }


                  .bubble-climate {
                    opacity: ${state === 'off' ? '0.5' : ''} !important;
                  }


                  .bubble-climate-container {
                    background-color: ${state === 'auto' ? 'rgba(var(--color-pink),0.5)' : state === 'cool' ? 'rgba(var(--color-blue),0.5)' : state === 'heat' ? 'rgba(var(--color-red),0.5)' :state === 'fan_only' ? 'rgba(var(--color-green),0.5)' :state === 'dry' ? 'rgba(var(--color-orange),0.5)' : ''} !important;
                  }


                  .bubble-color-background {
                    opacity: 0;
                  }

                  .bubble-temperature-container, .bubble-low-temp-container,
                  .bubble-high-temp-container {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#laundry'
                name: Laundry
                icon: mdi:washing-machine
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-ha-blue) !important;
                    }
                    .bubble-icon {
                      color: var(--google-ha-blue) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
                style_templates:
                  - get_state_attribute
              - type: custom:bubble-card
                card_type: separator
                name: Doors
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.laundry_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Laundry Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.laundry_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.laundry_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.laundry_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: binary_sensor.laundry_door
                    show_state: true
              - type: custom:bubble-card
                card_type: separator
                name: Appliances
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.washer_dryer
                icon: mdi:washing-machine
                show_attribute: true
                show_state: true
                name: Washing Machine
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-teal)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                    
                    .bubble-sub-button-1 {
                      background-color: var(--google-blue) !important;
                    }

                    .bubble-sub-button-2 {
                      background-color: var(--google-violet) !important;
                    }

                    .bubble-sub-button-3 {
                      background-color: var(--google-orange) !important;
                    }

                    .bubble-sub-button-4 {
                      background-color: var(--google-red) !important;
                    }

                    .bubble-sub-button-5 {
                      background-color: var(--google-green) !important;
                    }
                sub_button:
                  - entity: sensor.washer_current_status
                    name: Washing
                    icon: mdi:washing-machine
                    show_name: true
                    state_background: false
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.washer_current_status
                        state: running
                  - entity: sensor.washer_current_status
                    name: Rinsing
                    icon: mdi:water
                    state_background: false
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.washer_current_status
                        state: rinsing
                    show_name: true
                  - entity: sensor.washer_current_status
                    name: Spinning
                    icon: mdi:sync
                    show_name: true
                    state_background: false
                    show_background: true
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.washer_current_status
                        state: spinning
                  - entity: sensor.washer_current_status
                    name: Drying
                    icon: mdi:tumble-dryer
                    show_name: true
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.washer_current_status
                        state: drying
                  - entity: sensor.washer_current_status
                    name: Finished
                    icon: mdi:check
                    show_name: true
                    tap_action:
                      action: none
                    visibility:
                      - condition: state
                        entity: sensor.washer_current_status
                        state: end
                attribute: remain_time
                style_templates:
                  - get_state_attribute
                get_state_attribute:
                  - entity: sensor.washer_dryer
                  - entity: sensor.washer_dryer
                    attribute: current_course
                  - entity: sensor.washer_dryer
                    attribute: remain_time
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#outdoors'
                name: Outdoors
                icon: mdi:tree
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-orange) !important;
                    }
                    .bubble-icon {
                      color: var(--google-orange) !important;
                      --mdc-icon-size: 30px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button:
                  - entity: sensor.sydney_temp
                    show_state: true
                card_layout: large
                backdrop_blur: '10'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Lights
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.front_porch
                icon: mdi:bulkhead-light
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Front Porch
                card_layout: large
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.driveway
                icon: mdi:lamp
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Driveway
                styles: |2-
                    .bubble-range-fill { 
                      background: var(--google-yellow) !important;
                      opacity: 0.5 !important;
                    }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                card_layout: large
              - type: custom:bubble-card
                card_type: button
                button_type: state
                icon: phu:christmas-lights
                show_attribute: true
                attribute: brightness
                show_state: true
                name: Christmas Lights
                sub_button: []
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-yellow) !important;
                    opacity: 1 !important;
                  }
                  .bubble-range-fill { 
                    background: var(--google-yellow) !important;
                    opacity: 0.5 !important;
                  }
                  .bubble-icon {
                    color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                  }
                  .bubble-icon-container {
                    background-color: ${state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    opacity: 1.0 !important;
                  }

                  .bubble-button-card {
                    opacity: ${state === 'off' ? '0.5' : ''} !important;
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }

                  ha-card {
                    display: ${state === 'unavailable' ? 'none' : ''} !important
                  }
                card_layout: large
                tap_action:
                  action: toggle
                entity: switch.christmas_lights
              - type: custom:bubble-card
                card_type: separator
                name: Doors
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.lounge_doors
                icon: ''
                show_attribute: true
                show_state: true
                name: Balcony Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.balcony_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.balcony_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.balcony_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: separator
                name: Pool & Garden
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: switch.pool_pump
                icon: ''
                show_attribute: true
                show_state: true
                name: Pool
                card_layout: large
                styles: |2
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                      opacity: 1.0 !important;
                    }



                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                   
                    .bubble-sub-button-container {
                      opacity: 1.0 !important;
                    }
                    
                    .bubble-sub-button-1{
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-1 > ha-icon {
                        color: ${
                          hass.states['input_boolean.pool_pump_override'].state === 'off' ? 'grey' :
                          hass.states['input_boolean.pool_pump_override'].state === 'on' ? 'rgba(var(--color-ha-blue),1.0)' :
                          'blue'} !important;
                    }
                    
                    .bubble-sub-button-2{
                      border-radius: 32px 0px 0px 32px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-3{
                      border-radius: 0px;
                      margin-left: -8px;
                      margin-right: -8px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-4{
                      border-radius: 0px 32px 32px 0px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                    }
                    
                    .bubble-button-card-container {
                      background: ${state === 'on' ? 'rgba(var(--color-blue),0.5)' : ''} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    ${subButtonIcon[0].setAttribute("icon", hass.states['input_boolean.pool_pump_override'].state === 'on' ? 'mdi:timer-outline' : 'mdi:timer-off-outline') } !important;
                slider_live_update: false
                sub_button:
                  - entity: input_boolean.pool_pump_override
                    tap_action:
                      action: toggle
                  - entity: input_number.pool_pump_duration
                    show_icon: true
                    icon: mdi:minus
                    state_background: false
                    tap_action:
                      action: call-service
                      target:
                        entity_id: input_number.pool_pump_duration
                      service: input_number.decrement
                  - entity: input_number.pool_pump_duration
                    icon: mdi:square-outline
                    state_background: false
                    tap_action:
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.stop_cover
                      action: none
                    show_icon: false
                    show_state: true
                    show_last_changed: false
                    show_attribute: false
                  - entity: input_number.pool_pump_duration
                    icon: mdi:plus
                    state_background: false
                    tap_action:
                      action: call-service
                      target:
                        entity_id: input_number.pool_pump_duration
                      service: input_number.increment
                tap_action:
                  action: toggle
                show_name: true
                style_templates:
                  - get_state_attribute
                get_state_attribute:
                  - entity: switch.pool_pump
                  - entity: sensor.pool_pump_start
                  - entity: sensor.pool_pump_power
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: switch.vege_patch_zone
                icon: ''
                show_attribute: true
                attribute: current_program
                show_state: true
                name: Vege Garden
                card_layout: large
                styles: |2
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-green)' : ''} !important;
                      opacity: 1.0 !important;
                    }

                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }

                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                   
                    .bubble-sub-button-container {
                      opacity: 1.0 !important;
                    }
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.vege_garden_battery_level'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.vege_garden_battery_level'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.vege_garden_battery_level'].state <= 20 ? '' : 'none'} !important;
                    }

                    .bubble-sub-button-2{
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-2 > ha-icon {
                        color: ${
                          hass.states['switch.vege_garden_rain_delay'].state === 'off' ? 'grey' :
                          hass.states['switch.vege_garden_rain_delay'].state === 'on' ? 'var(--color-green)' :
                          'grey'} !important;
                    }
                    
                    .bubble-sub-button-3{
                      border-radius: 32px 0px 0px 32px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-4{
                      border-radius: 0px;
                      margin-left: -8px;
                      margin-right: -8px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-sub-button-5{
                      border-radius: 0px 32px 32px 0px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    
                    .bubble-button-card-container {
                      background: ${state === 'on' ? 'rgba(var(--color-green),0.5)' : ''} !important;
                    }

                    ${subButtonIcon[1].setAttribute("icon", hass.states['switch.vege_garden_rain_delay'].state === 'on' ? 'mdi:water-outline' : 'mdi:water-off-outline') } !important;
                slider_live_update: false
                sub_button:
                  - entity: sensor.vege_garden_battery_level
                    show_state: true
                  - tap_action:
                      action: toggle
                    entity: switch.vege_garden_rain_delay
                  - entity: input_number.pool_pump_duration
                    show_icon: true
                    icon: mdi:minus
                    state_background: false
                    tap_action:
                      action: call-service
                      target:
                        entity_id: input_number.vege_garden_duration
                      service: input_number.decrement
                  - entity: sensor.tap_timer_duration
                    icon: mdi:square-outline
                    state_background: false
                    tap_action:
                      target:
                        entity_id: cover.lounge_blind
                      service: cover.stop_cover
                      action: none
                    show_icon: false
                    show_state: true
                    show_last_changed: false
                    show_attribute: false
                  - entity: input_number.vege_garden_duration
                    icon: mdi:plus
                    state_background: false
                    tap_action:
                      action: call-service
                      target:
                        entity_id: input_number.vege_garden_duration
                      service: input_number.increment
                tap_action:
                  action: toggle
                show_name: true
              - type: custom:bubble-card
                card_type: separator
                name: Media
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: media-player
                entity: media_player.outdoor_sonos
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                  }
                  .bubble-icon-container {
                    color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
              - type: custom:bubble-card
                visibility:
                  - condition: state
                    entity: media_player.sonos_roam
                    state_not: unavailable
                card_type: media-player
                entity: media_player.sonos_roam
                show_state: true
                show_attribute: true
                hide:
                  next_button: false
                  previous_button: true
                  power_button: true
                  play_pause_button: false
                cover_background: true
                card_layout: large
                styles: |-
                  .bubble-range-fill { 
                    background: var(--google-red) !important;
                    opacity: 1 !important;
                  }
                  .bubble-media-player {
                    opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                  }
                  }
                  .bubble-play-pause-button {
                    background-color: var(--card-background-color);
                  }

                  .is-on .bubble-icon {
                    filter: brightness(1.0);
                    opacity: 1;
                  }
                  .bubble-icon {
                    color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                  }
                  .bubble-icon-container {
                    color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                  }
                  .bubble-sub-button-1 {
                    background-color: ${hass.states['sensor.sonos_roam_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.sonos_roam_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                    display: ${hass.states['sensor.sonos_roam_battery'].state === 'unavailable' ? 'none' : hass.states['sensor.sonos_roam_battery'].state <= 20 ? '' : 'none'} !important;
                  }
                icon: phu:sonos-roam
                sub_button:
                  - entity: sensor.sonos_roam_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: separator
                name: Climate
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: climate
                entity: climate.outdoor_heater
                sub_button:
                  - name: HVAC modes menu
                    select_attribute: hvac_modes
                    state_background: false
                    show_arrow: false
                name: Outdoor Heater
                icon: mdi:patio-heater
                show_state: true
                show_attribute: true
                attribute: max_temp
                card_layout: large
                styles: >
                  .host {
                    --bubble-accent-color: var(--google-red);
                    --bubble-button-accent-color: var(--google-red);
                  }


                  mwc-list-item[selected] {
                    color: var(--primary-text-color) !important;
                    background-color: ${
                    {
                      'cool': 'var(--google-blue)',
                      'heat': 'var(--google-orange)',
                      'fan_only': 'var(--google-green)',
                    }[state] ?? 'grey'
                  }

                  }


                  .bubble-icon-container {
                    background-color: ${state === 'auto' ? 'var(--google-pink)' : state === 'cool' ? 'var(--google-blue)' : state === 'heat' ? 'var(--google-red)' : state === 'dry' ? 'var(--google-orange)' : state === 'fan_only' ? 'var(--google-green)' : ''} !important;
                    opacity: 1.0;
                    }
                  .bubble-icon {
                    opacity: 1.0;
                    color: ${state === 'off' ? 'grey' : 'var(--card-background-color)'} !important;
                    }

                  .bubble-sub-button {
                    border: none !important;
                  }


                  @keyframes tap-feedback {
                    0% {transform: translateX(-100%); opacity: 0;}
                    64% {transform: translateX(0); opacity: 0;}
                    100% {transform: translateX(100%); opacity: 0;}
                    }
                  .bubble-sub-button-1 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }

                  .bubble-sub-button-2 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }

                  .bubble-sub-button-3 {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                  }


                  .bubble-climate {
                    opacity: ${state === 'off' ? '0.5' : ''} !important;
                  }


                  .bubble-climate-container {
                    background-color: ${state === 'auto' ? 'rgba(var(--color-pink),0.5)' : state === 'cool' ? 'rgba(var(--color-blue),0.5)' : state === 'heat' ? 'rgba(var(--color-red),0.5)' :state === 'fan_only' ? 'rgba(var(--color-green),0.5)' :state === 'dry' ? 'rgba(var(--color-orange),0.5)' : ''} !important;
                  }


                  .bubble-color-background {
                    opacity: 0;
                  }

                  .bubble-temperature-container, .bubble-low-temp-container,
                  .bubble-high-temp-container {
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                state_color: false
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#remote_lg'
                name: Lounge TV
                icon: mdi:television
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-red) !important;
                    }
                    .bubble-icon {
                      color: var(--google-red) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:lg-remote-control
                entity: media_player.lounge_tv
                dimensions:
                  scale: '0.83'
                  border_width: 0px
                color_buttons: true
                sources:
                  - icon: mdi:netflix
                    name: Netflix
                  - icon: disney
                    name: Disney+
                  - icon: phu:apple-tv
                    name: Apple TV
                  - icon: amazon
                    name: Prime Video
                channels:
                  - image: /local/lg_remote/tv_logo/10HD.png
                    number: '1'
                  - image: /local/lg_remote/tv_logo/abc tv.png
                    number: '2'
                  - image: /local/lg_remote/tv_logo/SBS One.png
                    number: '3'
                  - image: /local/lg_remote/tv_logo/7 sydney.png
                    number: '7'
                  - image: /local/lg_remote/tv_logo/9.png
                    number: '9'
                  - image: /local/lg_remote/tv_logo/10peach.png
                    number: '11'
                  - image: /local/lg_remote/tv_logo/10bold.png
                    number: '12'
                  - image: /local/lg_remote/tv_logo/nickelodeon.png
                    number: '13'
                  - image: /local/lg_remote/tv_logo/10HD.png
                    number: '15'
                  - image: /local/lg_remote/tv_logo/you.tv.png
                    number: '16'
                  - image: /local/lg_remote/tv_logo/10 Gecko.png
                    number: '17'
                  - image: /local/lg_remote/tv_logo/ABC TV HD.png
                    number: '20'
                  - image: /local/lg_remote/tv_logo/abc family.png
                    number: '22'
                  - image: /local/lg_remote/tv_logo/ABC Entertains.png
                    number: '23'
                  - image: /local/lg_remote/tv_logo/abc news.png
                    number: '24'
                  - image: /local/lg_remote/tv_logo/sbs one hd.png
                    number: '30'
                  - image: /local/lg_remote/tv_logo/sbs viceland.png
                    number: '31'
                  - image: /local/lg_remote/tv_logo/sbs world movies.png
                    number: '32'
                  - image: /local/lg_remote/tv_logo/sbs food.png
                    number: '33'
                  - image: /local/lg_remote/tv_logo/nitv.png
                    number: '34'
                  - image: /local/lg_remote/tv_logo/sbs worldwatch.png
                    number: '35'
                  - image: /local/lg_remote/tv_logo/7HD.png
                    number: '70'
                  - image: /local/lg_remote/tv_logo/7two.png
                    number: '72'
                  - image: /local/lg_remote/tv_logo/7mate.png
                    number: '74'
                  - image: /local/lg_remote/tv_logo/7bravo.png
                    number: '75'
                  - image: /local/lg_remote/tv_logo/7flix.png
                    number: '76'
                  - image: /local/lg_remote/tv_logo/tvsn.png
                    number: '77'
                  - image: /local/lg_remote/tv_logo/racing.com.png
                    number: '78'
                  - image: /local/lg_remote/tv_logo/9hd.png
                    number: '90'
                  - image: /local/lg_remote/tv_logo/9life.png
                    number: '94'
                  - image: /local/lg_remote/tv_logo/9gem.png
                    number: '95'
                  - image: /local/lg_remote/tv_logo/9rush.png
                    number: '96'
                  - image: /local/lg_remote/tv_logo/extra.png
                    number: '97'
                  - image: /local/lg_remote/tv_logo/9go!hd.png
                    number: '99'
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#remote_atv'
                name: Lounge ATV
                icon: phu:apple-tv
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-red) !important;
                    }
                    .bubble-icon {
                      color: var(--google-red) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:firemote-card
                entity: media_player.lounge_room_atv
                device_family: apple-tv
                device_type: appletv-4k-gen1
                compatibility_mode: default
                apple_tv_remote_entity: remote.lounge_room
                scale: '86'
                defaultRemoteStyle_override: AR3
                app_launch_1: apple-tv
                app_launch_2: disney-plus
                app_launch_3: netflix
                app_launch_4: binge-au
                app_launch_5: prime-video
                app_launch_6: apple-tv-music
                visible_name_text: Lounge TV
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#remote_sony'
                name: Rumpus TV
                icon: mdi:television
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: solid;
                      border-width: 2px;
                      border-color: var(--google-red) !important;
                    }
                    .bubble-icon {
                      color: var(--google-red) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:android-tv-card
                rows: []
                remote_id: remote.sony_kd_49x7000d
                custom_actions: []
                keyboard_id: media_player.sony_kd_49x7000d
                media_player_id: media_player.sony_kd_49x7000d
                platform: Sony BRAVIA
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#notifications'
                name: Notifications
                icon: mdi:bell-badge
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: none;
                      border-width: 2px;
                      border-color: var(--google-red) !important;
                    }
                    .bubble-icon {
                      color: var(--google-red) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.current_leaks
                icon: mdi:water
                show_attribute: true
                show_state: true
                name: Leaks
                card_layout: large
                styles: |2
                    .bubble-button-card {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-ha-blue) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity
                    }
                sub_button: []
                tap_action:
                  action: none
                visibility:
                  - condition: numeric_state
                    entity: sensor.current_leaks
                    above: 0
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.current_doors_open
                icon: ''
                show_attribute: true
                show_state: true
                name: Doors Open
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-violet) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity: 1.0 !important;
                    }
                    .ha-card {
                      display: ${state > 0 ? '' : 'none'} !important; 
                    }
                sub_button: []
                tap_action:
                  action: none
                visibility:
                  - condition: numeric_state
                    entity: sensor.current_doors_open
                    above: 0
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.devices_with_low_battery
                icon: mdi:battery-10
                show_attribute: true
                show_state: true
                name: Batteries to replace
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-red) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity: 1.0 !important;
                    }
                    .ha-card {
                      display: ${state > 0 ? '' : 'none'} !important; 
                    }
                sub_button: []
                tap_action:
                  action: navigate
                  navigation_path: settings
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: settings
                visibility:
                  - condition: numeric_state
                    entity: sensor.devices_with_low_battery
                    above: 0
              - type: custom:bubble-card
                card_type: button
                button_type: state
                icon: mdi:washing-machine
                show_attribute: true
                show_state: true
                name: Appliances Running
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-teal) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: none
                entity: sensor.current_appliances
                force_icon: true
                visibility:
                  - condition: numeric_state
                    entity: sensor.current_appliances
                    above: 0
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.current_lights_on
                icon: mdi:ceiling-light-multiple
                show_attribute: true
                show_state: true
                name: Lights On
                card_layout: large
                styles: |2-
                    .bubble-button-card {

                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-yellow) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity: 1.0 !important;
                    }
                    .ha-card {
                      display: ${state > 0 ? '' : 'none'} !important; 
                    }
                sub_button: []
                tap_action:
                  action: none
                visibility:
                  - condition: numeric_state
                    entity: sensor.current_lights_on
                    above: 0
              - type: custom:bubble-card
                card_type: button
                button_type: state
                icon: mdi:home-assistant
                show_attribute: true
                show_state: true
                name: HA Core
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-ha-blue) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity: 1.0 !important;
                    }
                    .ha-card {
                      display: ${state === "off" ? '' : 'none'} !important; 
                    }
                sub_button: []
                tap_action:
                  action: none
                entity: update.home_assistant_core_update
                force_icon: true
                visibility:
                  - condition: state
                    entity: update.home_assistant_core_update
                    state: 'on'
              - type: custom:bubble-card
                card_type: button
                button_type: state
                icon: mdi:home-assistant
                show_attribute: true
                show_state: true
                name: HA Operating System
                card_layout: large
                styles: |2
                    .bubble-button-card {
                      display: ${state === "off" ? '' : 'none'} !important; 
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-ha-blue) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: none
                entity: update.home_assistant_operating_system_update
                force_icon: true
                visibility:
                  - condition: state
                    entity: update.home_assistant_operating_system_update
                    state: 'on'
              - type: custom:bubble-card
                card_type: button
                button_type: state
                icon: mdi:home-assistant
                show_attribute: true
                show_state: true
                name: HA Supervisor
                card_layout: large
                styles: |2
                    .bubble-button-card {
                      display: ${hass.state === "off" ? '' : 'none'} !important; 
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--google-ha-blue) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: none
                entity: update.home_assistant_supervisor_update
                force_icon: true
                visibility:
                  - condition: state
                    entity: update.home_assistant_supervisor_update
                    state: 'on'
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#favourites'
                name: Favourites
                icon: mdi:star
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: none;
                      border-width: 2px;
                      border-color: var(--google-green) !important;
                    }
                    .bubble-icon {
                      color: var(--google-orange) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: automation.vacuum_the_house
                icon: ''
                show_attribute: true
                show_state: false
                name: Vacuum The House
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: 1.0 !important;
                      background-color: var(--card-background-color) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: var(--card-background-color) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--card-background-color) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: var(--google-teal) !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: toggle
                button_action:
                  tap_action:
                    action: toggle
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: script.morning_sonos
                icon: mdi:weather-sunset-up
                show_attribute: true
                show_state: false
                name: Good Morning!
                card_layout: large
                styles: |2-
                    .bubble-button-card {
                      opacity: 1.0 !important;
                      background-color: var(--card-background-color) !important;
                    }
                    .bubble-button-card-container {
                      opacity: 1.0 !important;
                      background-color: var(--card-background-color) !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
                    .bubble-icon {
                      color: var(--card-background-color) !important;
                      --mdc-icon-size: 26px;
                    }
                    .bubble-icon-container {
                      background-color: var(--google-orange) !important;
                      opacity: 1.0 !important;
                    }
                sub_button: []
                tap_action:
                  action: toggle
                  target: {}
                button_action:
                  tap_action:
                    action: toggle
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#weather'
                name: Weather
                icon: ''
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: none;
                      border-width: 2px;
                      border-color: var(--google-blue) !important;
                    }
                    .bubble-icon {
                      color: var(--google-violet) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                entity: weather.bom_home
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: picture-elements
                image: /local/weather/weather_now.jpg
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 36px;
                    }
                elements:
                  - type: custom:mod-card
                    style:
                      top: 15%
                      left: 50%
                      width: 96%
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 36px;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: weather.bom_home
                      force_icon: true
                      show_attribute: true
                      entity-picture: /local/www/weather_now.jpg
                      name: Sydney
                      button_action:
                        tap_action:
                          action: none
                      card_layout: normal
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0 !important;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                        }
                        .bubble-icon-container {
                          background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }
                        .bubble-sub-button-container {
                          background: none !important;
                        }
                        .bubble-sub-button-1 {
                          background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                          display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                        }
                        .bubble-sub-button-2{
                          border-radius: 32px 0px 0px 32px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-sub-button-3{
                          border-radius: 0px;
                          margin-left: -8px;
                          margin-right: -8px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-sub-button-4{
                          border-radius: 0px 32px 32px 0px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .is-on .bubble-icon {
                          filter: brightness(1.0);
                          opacity: 1;
                        }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    aspect_ratio: 8/9
                    size: 60%
                    entity: light.lounge_lamp
                    name: Lounge Room
                    icon: mdi:sofa
                    tap_action:
                      action: none
                    show_state: false
                    show_name: false
                    show_icon: false
                    styles:
                      card:
                        - border-radius: 30px
                        - box-shadow: var(--icon-shadow)
                        - background-image: url("/local/Living_Room.png")
                        - background-position: center
                        - background-size: cover
                      name:
                        - justify-self: start
                        - padding-left: 10px
                        - padding-top: 0px
                        - font-size: 16px
                        - font-weight: 600
                        - color: var(--primary-theme)
                      state:
                        - justify-self: start
                        - padding-left: 10px
                        - margin-top: '-15px'
                        - font-size: 14px
                        - color: var(--primary-font-color)
                      img_cell:
                        - height: 80px
                        - width: 70px
                        - background-color: var(--google-yellow)
                        - border-radius: 100%
                        - margin-top: '-17px'
                        - margin-left: 5px
                      icon:
                        - color: var(--primary-theme)
                      custom_fields:
                        heading:
                          - position: absolute
                          - width: 84%
                          - left: 0.7%
                          - top: 0.7%
                        bubble:
                          - position: absolute
                          - width: 96%
                          - left: 2%
                          - bottom: 2%
                        pop_out:
                          - position: absolute
                          - height: 43px
                          - width: 43px
                          - border-radius: 80px
                          - left: 86%
                          - top: 2%
                    custom_fields:
                      heading:
                        card:
                          type: custom:bubble-card
                          card_type: button
                          button_type: state
                          entity: light.lounge_lamp
                          name: Lounge Room
                          icon: mdi:sofa-outline
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#lounge'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#lounge'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                              opacity: 1.0;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-yellow) !important;
                              opacity: 1.0 !important;
                              filter: brightness(1.0) !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-yellow) !important;
                            }
                            .bubble-sub-button {
                              color: var(--secondary-text-color);
                            }
                            .bubble-name {
                              font-size: auto !important;
                              color: var(--secondary-text-color);
                            }
                          card_layout: large
                      bubble:
                        card:
                          type: custom:vertical-stack-in-card
                          card_mod:
                            style: |
                              ha-card {
                                border: none !important;
                                padding-top: 3px;
                                padding-bottom: 3px;
                                background-color: rgba(var(--card-background),0.4) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                                filter: blur(50%) !important;
                                border-radius: 28px;
                              }
                          cards:
                            - type: conditional
                              conditions:
                                - condition: state
                                  entity: camera.living_room
                                  state: streaming
                              card:
                                type: picture-elements
                                card_mod:
                                  style: |
                                    ha-card {
                                      border-radius: 28px !important;
                                      width: 96%;
                                      margin: auto;
                                      margin-top: 4px;
                                    }
                                camera_image: camera.living_room
                                image: /local/Lounge Camera.png
                                camera_view: live
                                tap_action:
                                  action: more-info
                                elements:
                                  - type: custom:button-card
                                    style:
                                      top: 10%
                                      left: 10%
                                      width: 20%
                                    show_name: true
                                    show_state: false
                                    name: Live
                                    entity: camera.living_room
                                    layout: icon_name
                                    icon: mdi:record
                                    styles:
                                      card:
                                        - border-radius: 24px
                                        - border-style: none
                                        - width: 120%
                                        - background-color: rgba(0,0,0,0)
                                      img_cell:
                                        - width: 40px
                                        - height: 20px
                                        - background: none
                                        - border-radius: 100%
                                      icon:
                                        - width: 20px
                                        - color: var(--google-red)
                                        - top: '-2px'
                                      name:
                                        - color: var(--primary--font-color)
                                        - font-size: 10px
                                        - justify-self: start
                                  - type: custom:mod-card
                                    style:
                                      top: 84%
                                      left: 50%
                                      width: 96%
                                    card_mod:
                                      style: |
                                        ha-card {
                                          border-radius: 36px;
                                          -webkit-backdrop-filter: blur(2px) !important;
                                          backdrop-filter: blur(2px) !important;
                                        }
                                    card:
                                      type: custom:bubble-card
                                      card_type: button
                                      button_type: state
                                      entity: camera.living_room
                                      force_icon: true
                                      show_attribute: true
                                      button_action:
                                        tap_action:
                                          action: none
                                      card_layout: normal
                                      sub_button:
                                        - entity: sensor.living_room_battery_percentage
                                          show_state: true
                                        - entity: camera.living_room
                                          icon: mdi:camera
                                          tap_action:
                                            action: call-service
                                            service: camera.snapshot
                                            target:
                                              entity_id: camera.living_room
                                        - entity: camera.living_room
                                          icon: mdi:stop
                                          tap_action:
                                            action: call-service
                                            service: camera.turn_off
                                            target:
                                              entity_id: camera.living_room
                                      styles: |-
                                        .bubble-button-card {
                                          opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                          background: rgba(0,0,0,0.1) !important;
                                          -webkit-backdrop-filter: blur(2px) !important;
                                          backdrop-filter: blur(2px) !important;
                                        }
                                        .bubble-button-card-container {
                                          background-color: rgba(0,0,0,0) !important;
                                          -webkit-backdrop-filter: blur(2px) !important;
                                          backdrop-filter: blur(2px) !important;
                                          filter: blur(50%) !important;
                                        }
                                        .bubble-button-background {
                                          background-color: var(--card-background-color) !important;
                                          filter: blur(50%) !important;
                                        }
                                        .bubble-icon {
                                          color: var(--card-background-color) !important;
                                          opacity: 1.0 !important;
                                        }
                                        .bubble-icon-container {
                                          background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                                        }
                                        .bubble-name {
                                          font-size: auto !important;
                                        }
                                        .bubble-sub-button-container {
                                          background: none !important;
                                        }
                                        .bubble-sub-button-1 {
                                          background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                          display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                                        }
                                        .bubble-sub-button-2{
                                          border-radius: 32px;
                                          background-color: rgba(var(--color-background),0.6);
                                          -webkit-backdrop-filter: blur(2px) !important;
                                          backdrop-filter: blur(2px) !important;
                                        }
                                        .bubble-sub-button-3{
                                          border-radius: 32px;
                                          background-color: rgba(var(--color-background),0.6);
                                          -webkit-backdrop-filter: blur(2px) !important;
                                          backdrop-filter: blur(2px) !important;
                                        }
                                        .is-on .bubble-icon {
                                          filter: brightness(1.0);
                                          opacity: 1;
                                        }
                            - type: conditional
                              conditions:
                                - condition: or
                                  conditions:
                                    - condition: state
                                      entity: media_player.lounge_room_sonos
                                      state: paused
                                    - condition: state
                                      entity: media_player.lounge_room_sonos
                                      state: playing
                              card:
                                type: custom:bubble-card
                                card_type: media-player
                                entity: media_player.lounge_room_sonos
                                show_state: true
                                show_attribute: true
                                hide:
                                  next_button: false
                                  previous_button: true
                                  power_button: true
                                  play_pause_button: false
                                cover_background: false
                                card_layout: large
                                styles: |-
                                  .bubble-range-fill { 
                                    background: var(--google-red) !important;
                                    opacity: 1 !important;
                                  }
                                  .bubble-media-player-container {
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-media-player {
                                    opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                    background-color: rgba(0,0,0,0) !important;
                                  }
                                  .bubble-play-pause-button {
                                    background-color: var(--card-background-color);
                                  }

                                  .is-on .bubble-icon {
                                    filter: brightness(1.0);
                                    opacity: 1;
                                  }
                                  .bubble-icon {
                                    color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                                  }
                                  .bubble-icon-container {
                                    background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                                  }
                                        
                            - type: custom:bubble-card
                              card_layout: large
                              card_type: button
                              button_type: state
                              entity: sensor.bedroom_sensor_temperature
                              name: Main Bedroom
                              icon: mdi:bed-king-outline
                              show_state: false
                              tap_action:
                                action: navigate
                                navigation_path: '#main-bedroom'
                              button_action:
                                tap_action:
                                  action: navigate
                                  navigation_path: '#main-bedroom'
                              styles: |-
                                .bubble-button-card {
                                  opacity: 1.0;
                                  background: rgba(0,0,0,0) !important;
                                }
                                .bubble-button-card-container {
                                  background-color: rgba(0,0,0,0) !important;
                                }
                                .bubble-button-background {
                                  background-color: none !important;
                                }
                                .bubble-icon {
                                  color: var(--google-green) !important;
                                  opacity: 1.0 !important;
                                }
                                .bubble-icon-container {
                                  background-color: rgba(0,0,0,0) !important;
                                  border-style: solid !important;
                                  border-width: 2px;
                                  color: var(--google-green) !important;
                                }
                                .bubble-name {
                                  font-size: auto !important;
                                }
                                .bubble-sub-button {
                                  height: 42px !important;
                                  min-width: 42px !important;
                                }
                                .bubble-sub-button-1{
                                  background-color: ${hass.states['camera.living_room'].state === 'streaming' ? 'var(--google-red)' : ''} !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  opacity: ${hass.states['camera.living_room'].state === 'streaming' ? '1.0' : '0.6'} !important;
                                }
                                .bubble-sub-button-3{
                                  background-color: ${hass.states['light.lounge_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  opacity: ${hass.states['light.lounge_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                                }
                                .bubble-sub-button-4{
                                  background-color: ${hass.states['light.lounge_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  opacity: ${hass.states['light.lounge_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                }
                                .bubble-sub-button-5{
                                  background-color: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  opacity: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                }
                                .bubble-sub-button-6{
                                  background-color: ${hass.states['cover.lounge_blind'].state === 'open' ? 'var(--google-violet)' : ''} !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;
                                  opacity: ${hass.states['cover.lounge_blind'].state === 'open' ? '1.0' : '0.6'} !important;
                                }
                              sub_button:
                                - entity: camera.living_room
                                  state_background: false
                                  show_background: true
                                  tap_action:
                                    action: call-service
                                    service: camera.turn_on
                                    target:
                                      entity_id: camera.living_room
                                - show_icon: false
                                  tap_action:
                                    action: none
                                  show_name: true
                                  name: ' '
                                  state_background: false
                                  show_background: false
                                - entity: light.lounge_lamp
                                  icon: mdi:floor-lamp
                                  state_background: false
                                  tap_action:
                                    action: toggle
                                - entity: light.lounge_downlights
                                  state_background: false
                                  tap_action:
                                    action: toggle
                                - entity: binary_sensor.balcony_door
                                  state_background: false
                                  tap_action:
                                    action: more-info
                                - entity: cover.lounge_blind
                                  state_background: false
                                  tap_action:
                                    action: toggle
                              show_icon: false
                              show_name: false
                      pop_out:
                        card:
                          type: custom:mod-card
                          card_mod:
                            style: |
                              ha-card {
                                -webkit-backdrop-filter: blur(4px) !important;
                                backdrop-filter: blur(4px) !important;
                              }
                          card:
                            type: custom:button-card
                            style: |
                              ha-card {
                                -webkit-backdrop-filter: blur(4px) !important;
                                backdrop-filter: blur(4px) !important;
                              }
                            icon: mdi:arrow-top-right
                            color: rgba(0,0,0,0.7)
                            color_type: card
                            tap_action:
                              action: navigate
                              navigation_path: '#lounge'
                            styles:
                              card:
                                - height: 45px
                                - width: 45px
                                - border-radius: 80px
                                - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: sensor.bedroom_sensor_temperature
                name: Main Bedroom
                icon: mdi:bed-king-outline
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/bedroom_2.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-yellow)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.bedroom_sensor_temperature
                      name: Main Bedroom
                      icon: mdi:bed-king-outline
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#main-bedroom'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#main-bedroom'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-green) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-green) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      sub_button:
                        - entity: sensor.bedroom_sensor_temperature
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                        - entity: sensor.bedroom_sensor_humidity
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                      card_layout: large-2-rows
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: conditional
                          conditions:
                            - condition: or
                              conditions:
                                - condition: state
                                  entity: media_player.bedroom_google_home
                                  state: paused
                                - condition: state
                                  entity: media_player.bedroom_google_home
                                  state: playing
                          card:
                            type: custom:bubble-card
                            card_type: media-player
                            entity: media_player.bedroom_google_home
                            show_state: true
                            show_attribute: true
                            hide:
                              next_button: false
                              previous_button: true
                              power_button: true
                              play_pause_button: false
                            cover_background: false
                            card_layout: large
                            styles: |-
                              .bubble-range-fill { 
                                background: var(--google-red) !important;
                                opacity: 1 !important;
                              }
                              .bubble-media-player-container {
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-media-player {
                                opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-play-pause-button {
                                background-color: var(--card-background-color);
                              }

                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                              .bubble-icon {
                                color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                              }
                                    
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: sensor.bedroom_sensor_temperature
                          name: Main Bedroom
                          icon: mdi:bed-king-outline
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#main-bedroom'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#main-bedroom'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-green) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-green) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }
                            .bubble-sub-button-1{
                              background-color: ${hass.states['camera.living_room'].state === 'streaming' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['camera.living_room'].state === 'streaming' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: light.ben_lamp
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: light.bedroom_downlights
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: binary_sensor.bedroom_sliding_door
                              state_background: false
                              tap_action:
                                action: more-info
                            - entity: media_player.bedroom_google_home
                              state_background: false
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#main-bedroom'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: sensor.girls_sensor_temperature
                name: Girl's Room
                icon: mdi:bunk-bed-outline
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/Kids_Room.png")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-pink)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.girls_sensor_temperature
                      name: Girl's Room
                      icon: mdi:bunk-bed-outline
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#girls-bedroom'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#girls-bedroom'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-pink) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-pink) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      sub_button:
                        - entity: sensor.girls_sensor_temperature
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                        - entity: sensor.girls_sensor_humidity
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                      card_layout: large-2-rows
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: conditional
                          conditions:
                            - condition: or
                              conditions:
                                - condition: state
                                  entity: media_player.kids_google_home
                                  state: playing
                                - condition: state
                                  entity: media_player.kids_google_home
                                  state: paused
                          card:
                            type: custom:bubble-card
                            card_type: media-player
                            entity: media_player.kids_google_home
                            show_state: true
                            show_attribute: true
                            hide:
                              next_button: false
                              previous_button: true
                              power_button: true
                              play_pause_button: false
                            cover_background: false
                            card_layout: large
                            styles: |-
                              .bubble-range-fill { 
                                background: var(--google-red) !important;
                                opacity: 1 !important;
                              }
                              .bubble-media-player-container {
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-media-player {
                                opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-play-pause-button {
                                background-color: var(--card-background-color);
                              }

                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                              .bubble-icon {
                                color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                              }
                                    
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: sensor.girls_sensor_temperature
                          name: Girl's Room
                          icon: mdi:bunk-bed-outline
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#girls-bedroom'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#girls-bedroom'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-pink) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-pink) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }
                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.girls_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.girls_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['input_boolean.bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['input_boolean.bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['input_boolean.elaine'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['input_boolean.elaine'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['media_player.kids_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['media_player.kids_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: light.girls_room_downlights
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: input_boolean.bedtime
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: input_boolean.elaine
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: media_player.kids_google_home
                              state_background: false
                              tap_action:
                                action: more-info
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#girls-bedroom'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: sensor.sebs_sensor_temperature
                name: Seb's Room
                icon: mdi:bed-single-outline
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/sebs_room.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-blue)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.sebs_sensor_temperature
                      name: Seb's Room
                      icon: mdi:bed-single-outline
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#sebs-bedroom'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#sebs-bedroom'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-blue) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-blue) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      sub_button:
                        - entity: sensor.sebs_sensor_temperature
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                        - entity: sensor.sebs_sensor_humidity
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                      card_layout: large-2-rows
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: conditional
                          conditions:
                            - condition: or
                              conditions:
                                - condition: state
                                  entity: media_player.boys_google_home
                                  state: playing
                                - condition: state
                                  entity: media_player.boys_google_home
                                  state: paused
                          card:
                            type: custom:bubble-card
                            card_type: media-player
                            entity: media_player.boys_google_home
                            show_state: true
                            show_attribute: true
                            hide:
                              next_button: false
                              previous_button: true
                              power_button: true
                              play_pause_button: false
                            cover_background: false
                            card_layout: large
                            styles: |-
                              .bubble-range-fill { 
                                background: var(--google-red) !important;
                                opacity: 1 !important;
                              }
                              .bubble-media-player-container {
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-media-player {
                                opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-play-pause-button {
                                background-color: var(--card-background-color);
                              }

                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                              .bubble-icon {
                                color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                              }
                                    
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: sensor.sebs_sensor_temperature
                          name: Girl's Room
                          icon: mdi:bunk-single-outline
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#sebs-bedroom'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#sebs-bedroom'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-blue) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-blue) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }
                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.sebs_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.sebs_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['input_boolean.elaine2'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['input_boolean.elaine2'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['media_player.boys_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['media_player.boys_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: light.sebs_downlights
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: input_boolean.boys_bedtime
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: input_boolean.elaine2
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: media_player.boys_google_home
                              state_background: false
                              tap_action:
                                action: more-info
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#sebs-bedroom'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: light.play_room_desk
                name: Play Room
                icon: mdi:airballoon-outline
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/play_room.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-violet)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: light.play_room_desk
                      name: Play Room
                      icon: mdi:airballoon-outline
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#play-room'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#play-room'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-violet) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-violet) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      card_layout: large
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: conditional
                          conditions:
                            - condition: or
                              conditions:
                                - condition: state
                                  entity: media_player.playroom_sonos
                                  state: playing
                                - condition: state
                                  entity: media_player.playroom_sonos
                                  state: paused
                          card:
                            type: custom:bubble-card
                            card_type: media-player
                            entity: media_player.playroom_sonos
                            show_state: true
                            show_attribute: true
                            hide:
                              next_button: false
                              previous_button: true
                              power_button: true
                              play_pause_button: false
                            cover_background: false
                            card_layout: large
                            styles: |-
                              .bubble-range-fill { 
                                background: var(--google-red) !important;
                                opacity: 1 !important;
                              }
                              .bubble-media-player-container {
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-media-player {
                                opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-play-pause-button {
                                background-color: var(--card-background-color);
                              }

                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                              .bubble-icon {
                                color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                              }
                                    
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: light.play_room_desk
                          name: Play Room
                          icon: mdi:airballoon-outline
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#play-room'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#play-room'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-violet) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-violet) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }
                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.play_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.play_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['light.play_room_desk'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.play_room_desk'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: light.play_room_downlights
                              icon: mdi:light-recessed
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: light.play_room_desk
                              icon: mdi:led-strip-variant
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: media_player.playroom_sonos
                              state_background: false
                              tap_action:
                                action: more-info
                            - entity: media_player.play_room_google_home
                              icon: phu:google-home
                              state_background: false
                              tap_action:
                                action: more-info
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#play-room'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: sensor.rumpus_sensor_temperature
                name: Rumpus
                icon: mdi:desk
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/Rumpus.png")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-teal)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.rumpus_sensor_temperature
                      name: Rumpus
                      icon: mdi:desk
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#rumpus'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#rumpus'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-teal) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-teal) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      sub_button:
                        - entity: sensor.rumpus_sensor_temperature
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                        - entity: sensor.rumpus_sensor_humidity
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                      card_layout: large-2-rows
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: conditional
                          conditions:
                            - condition: or
                              conditions:
                                - condition: state
                                  entity: media_player.rumpus_google_home
                                  state: playing
                                - condition: state
                                  entity: media_player.rumpus_google_home
                                  state: paused
                          card:
                            type: custom:bubble-card
                            card_type: media-player
                            entity: media_player.rumpus_google_home
                            show_state: true
                            show_attribute: true
                            hide:
                              next_button: false
                              previous_button: true
                              power_button: true
                              play_pause_button: false
                            cover_background: false
                            card_layout: large
                            styles: |-
                              .bubble-range-fill { 
                                background: var(--google-red) !important;
                                opacity: 1 !important;
                              }
                              .bubble-media-player-container {
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-media-player {
                                opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-play-pause-button {
                                background-color: var(--card-background-color);
                              }

                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                              .bubble-icon {
                                color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                              }
                                    
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: sensor.rumpus_sensor_temperature
                          name: Rumpus
                          icon: mdi:desk
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#rumpus'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#rumpus'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-teal) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-teal) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }
                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.rumpus'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.rumpus'].state === 'on' ? '1.0' : '0.6'} !important;
                            }

                            .bubble-sub-button-2{
                              background-color: ${hass.states['light.desk_strip'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.desk_strip'].state === 'on' ? '1.0' : '0.6'} !important;
                            }

                            .bubble-sub-button-3{
                              background-color: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                            }

                            .bubble-sub-button-4{
                              background-color: ${hass.states['sensor.desky_height'].state >= 90.0 ? 'var(--google-teal)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['sensor.desky_height'].state >= 90.0 ? '1.0' : '0.6'} !important;
                            }


                            ${subButtonIcon[3].setAttribute("icon",
                            hass.states['sensor.desky_height'].state >= 90.0 ?
                            'phu:desk-stand-alt' : 'phu:desk-sit-alt')}
                          sub_button:
                            - entity: light.rumpus
                              icon: mdi:ceiling-light-multiple
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: light.desk_strip
                              icon: mdi:led-strip-variant
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: binary_sensor.rumpus_sliding_door
                              state_background: false
                              tap_action:
                                action: more-info
                            - entity: sensor.desky_height
                              icon: phu:desk-sit-alt
                              state_background: false
                              tap_action:
                                action: call-service
                                service: script.turn_on
                                target:
                                  entity_id: script.desk_up_down
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#rumpus'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: light.kitchen_lights
                name: Kitchen
                icon: mdi:fridge
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/Kitchen.png")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-red)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: light.kitchen_lights
                      name: Kitchen
                      icon: mdi:fridge
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#kitchen'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#kitchen'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-red) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-red) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      card_layout: large
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: light.kitchen_lights
                          name: Kitchen
                          icon: mdi:fridge
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#kitchen'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#kitchen'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-blue) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-blue) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }

                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.kitchen_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.kitchen_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['binary_sensor.coffee_machine'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.coffee_machine'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['vacuum.robomac'].state === 'cleaning' ? 'var(--google-pink)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['vacuum.robomac'].state === 'cleaning' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: light.kitchen_lights
                              icon: mdi:light-recessed
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: binary_sensor.coffee_machine
                              icon: mdi:coffee
                              state_background: false
                              tap_action:
                                action: more-info
                            - entity: binary_sensor.dishwasher
                              state_background: false
                              tap_action:
                                action: more-info
                            - entity: vacuum.robomac
                              state_background: false
                              tap_action:
                                action: more-info
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#kitchen'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: sensor.washer_dryer
                name: Laundry
                icon: mdi:washing-machine
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/laundry.jpg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-ha-blue)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.washer_dryer
                      name: Laundry
                      icon: mdi:washing-machine
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#laundry'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#laundry'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-ha-blue) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-ha-blue) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      card_layout: large
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: sensor.washer_dryer
                          name: Laundry
                          icon: mdi:washing-machine
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#laundry'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#kitchen'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-blue) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-blue) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }

                            .bubble-sub-button-1{
                              background-color: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: binary_sensor.laundry_door
                              state_background: false
                              tap_action:
                                action: more-info
                            - entity: binary_sensor.washer_dryer
                              icon: mdi:washing-machine
                              state_background: false
                              tap_action:
                                action: more-info
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#laundry'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: sensor.sydney_temp
                name: Outdoors
                icon: mdi:tree
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/outdoors.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-orange)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    heading:
                      - position: absolute
                      - width: 84%
                      - left: 0.7%
                      - top: 0.7%
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - bottom: 2%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 2%
                custom_fields:
                  heading:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.sydney_temp
                      name: Outdoors
                      icon: mdi:tree
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#outdoors'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#outdoors'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          opacity: 1.0;
                        }
                        .bubble-button-background {
                          background-color: none !important;
                        }
                        .bubble-icon {
                          color: var(--google-orange) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0) !important;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-orange) !important;
                        }
                        .bubble-sub-button {
                          color: var(--secondary-text-color);
                        }
                        .bubble-name {
                          font-size: auto !important;
                          color: var(--secondary-text-color);
                        }
                      sub_button:
                        - entity: sensor.sydney_temp
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                        - entity: sensor.sydney_humidity
                          state_background: false
                          show_background: false
                          tap_action:
                            action: toggle
                          show_state: true
                      card_layout: large-2-rows
                  bubble:
                    card:
                      type: custom:vertical-stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            padding-top: 3px;
                            padding-bottom: 3px;
                            background-color: rgba(var(--card-background),0.4) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            filter: blur(50%) !important;
                            border-radius: 28px;
                          }
                      cards:
                        - type: conditional
                          conditions:
                            - condition: state
                              entity: camera.backyard
                              state: streaming
                          card:
                            type: picture-elements
                            card_mod:
                              style: |
                                ha-card {
                                  border-radius: 28px !important;
                                  width: 96%;
                                  margin: auto;
                                  margin-top: 4px;
                                }
                            camera_image: camera.backyard
                            image: /local/backyard.png
                            camera_view: live
                            tap_action:
                              action: more-info
                            elements:
                              - type: custom:button-card
                                style:
                                  top: 10%
                                  left: 10%
                                  width: 20%
                                show_name: true
                                show_state: false
                                name: Live
                                entity: camera.backyard
                                layout: icon_name
                                icon: mdi:record
                                styles:
                                  card:
                                    - border-radius: 24px
                                    - border-style: none
                                    - width: 120%
                                    - background-color: rgba(0,0,0,0)
                                  img_cell:
                                    - width: 40px
                                    - height: 20px
                                    - background: none
                                    - border-radius: 100%
                                  icon:
                                    - width: 20px
                                    - color: var(--google-red)
                                    - top: '-2px'
                                  name:
                                    - color: var(--primary--font-color)
                                    - font-size: 10px
                                    - justify-self: start
                              - type: custom:mod-card
                                style:
                                  top: 84%
                                  left: 50%
                                  width: 96%
                                card_mod:
                                  style: |
                                    ha-card {
                                      border-radius: 36px;
                                      -webkit-backdrop-filter: blur(2px) !important;
                                      backdrop-filter: blur(2px) !important;
                                    }
                                card:
                                  type: custom:bubble-card
                                  card_type: button
                                  button_type: state
                                  entity: camera.backyard
                                  force_icon: true
                                  show_attribute: true
                                  button_action:
                                    tap_action:
                                      action: none
                                  card_layout: normal
                                  sub_button:
                                    - entity: sensor.backyard_battery_percentage
                                      show_state: true
                                    - entity: camera.backyard
                                      icon: mdi:camera
                                      tap_action:
                                        action: call-service
                                        service: camera.snapshot
                                        target:
                                          entity_id: camera.backyard
                                    - entity: camera.backyard
                                      icon: mdi:stop
                                      tap_action:
                                        action: call-service
                                        service: camera.turn_off
                                        target:
                                          entity_id: camera.backyard
                                  styles: |-
                                    .bubble-button-card {
                                      opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                      background: rgba(0,0,0,0.1) !important;
                                      -webkit-backdrop-filter: blur(2px) !important;
                                      backdrop-filter: blur(2px) !important;
                                    }
                                    .bubble-button-card-container {
                                      background-color: rgba(0,0,0,0) !important;
                                      -webkit-backdrop-filter: blur(2px) !important;
                                      backdrop-filter: blur(2px) !important;
                                      filter: blur(50%) !important;
                                    }
                                    .bubble-button-background {
                                      background-color: var(--card-background-color) !important;
                                      filter: blur(50%) !important;
                                    }
                                    .bubble-icon {
                                      color: var(--card-background-color) !important;
                                      opacity: 1.0 !important;
                                    }
                                    .bubble-icon-container {
                                      background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                                    }
                                    .bubble-name {
                                      font-size: auto !important;
                                    }
                                    .bubble-sub-button-container {
                                      background: none !important;
                                    }
                                    .bubble-sub-button-1 {
                                      background-color: ${hass.states['sensor.backyard_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.backyard_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                      display: ${hass.states['sensor.backyard_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                                    }
                                    .bubble-sub-button-2{
                                      border-radius: 32px;
                                      background-color: rgba(var(--color-background),0.6);
                                      -webkit-backdrop-filter: blur(2px) !important;
                                      backdrop-filter: blur(2px) !important;
                                    }
                                    .bubble-sub-button-3{
                                      border-radius: 32px;
                                      background-color: rgba(var(--color-background),0.6);
                                      -webkit-backdrop-filter: blur(2px) !important;
                                      backdrop-filter: blur(2px) !important;
                                    }
                                    .is-on .bubble-icon {
                                      filter: brightness(1.0);
                                      opacity: 1;
                                    }
                        - type: conditional
                          conditions:
                            - condition: or
                              conditions:
                                - condition: state
                                  entity: media_player.outdoor_sonos
                                  state: playing
                                - condition: state
                                  entity: media_player.outdoor_sonos
                                  state: paused
                          card:
                            type: custom:bubble-card
                            card_type: media-player
                            entity: media_player.outdoor_sonos
                            show_state: true
                            show_attribute: true
                            hide:
                              next_button: false
                              previous_button: true
                              power_button: true
                              play_pause_button: false
                            cover_background: false
                            card_layout: large
                            styles: |-
                              .bubble-range-fill { 
                                background: var(--google-red) !important;
                                opacity: 1 !important;
                              }
                              .bubble-media-player-container {
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-media-player {
                                opacity: ${state === 'idle' ? '0.5' : state === 'paused' ? '0.5' : state === 'standby' ? '0.5' : state === 'off' ? '0.5' : '1.0'} !important;
                                background-color: rgba(0,0,0,0) !important;
                              }
                              .bubble-play-pause-button {
                                background-color: var(--card-background-color);
                              }

                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                              .bubble-icon {
                                color: ${state === 'playing' ? 'var(--card-background-color)' : 'grey'} !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'playing' ? 'var(--google-red)' : ''} !important;
                              }
                                    
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          button_type: state
                          entity: sensor.sydney_temp
                          name: Outdoors
                          icon: mdi:tree
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#outdoors'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#outdoors'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-orange) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-orange) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }
                            .bubble-sub-button {
                              height: 42px !important;
                              min-width: 42px !important;
                            }
                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.front_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.front_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['switch.pool_pump'].state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['switch.pool_pump'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['switch.vege_patch_zone'].state === 'on' ? 'var(--google-green)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['switch.vege_patch_zone'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['climate.outdoor_heater'].state === 'heat' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['climate.outdoor_heater'].state === 'heat' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: light.front_lights
                              icon: mdi:ceiling-light-multiple
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: switch.pool_pump
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: switch.vege_patch_zone
                              state_background: false
                              tap_action:
                                action: toggle
                            - entity: climate.outdoor_heater
                              state_background: false
                              tap_action:
                                action: more-info
                          show_icon: false
                          show_name: false
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#outdoors'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#everest'
                name: ''
                icon: mdi:star
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: none;
                      border-width: 2px;
                    }
                    .bubble-icon {
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                entity: device_tracker.fordpass_tracker
                scrolling_effect: true
                force_icon: false
                button_type: state
                slide_to_close_distance: ''
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
                close_by_clicking_outside: false
              - type: custom:bubble-card
                card_type: separator
                name: Status
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
              - type: picture-elements
                card_mod:
                  style: |
                    ha-card {
                      background-color: rgba(0,0,0,0);
                    }
                elements:
                  - type: custom:mod-card
                    style:
                      top: 10%
                      left: 23%
                      width: 40%
                    card_mod:
                      style: |
                        ha-card {
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: lock.fordpass_doorlock
                      show_attribute: true
                      show_state: true
                      name: Doors
                      styles: |-
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                        }

                        .bubble-icon {
                          color: var(--card-background-color) !important;
                        }

                        .bubble-icon-container {
                          filter: brightness(1.0);
                          background-color: var(--google-green) !important;
                        }
                  - type: custom:mod-card
                    style:
                      top: 30%
                      left: 23%
                      width: 40%
                    card_mod:
                      style: |
                        ha-card {
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: lock.fordpass_doorlock
                      show_attribute: true
                      show_state: true
                      name: Doors
                      styles: |-
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                        }

                        .bubble-icon {
                          color: var(--card-background-color) !important;
                        }

                        .bubble-icon-container {
                          filter: brightness(1.0);
                          background-color: var(--google-red) !important;
                        }
                  - type: custom:mod-card
                    style:
                      top: 50%
                      left: 23%
                      width: 40%
                    card_mod:
                      style: |
                        ha-card {
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: lock.fordpass_doorlock
                      show_attribute: true
                      show_state: true
                      name: Doors
                      styles: |-
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                        }

                        .bubble-icon {
                          color: var(--card-background-color) !important;
                        }

                        .bubble-icon-container {
                          filter: brightness(1.0);
                          background-color: var(--google-ha-blue) !important;
                        }
                image: local/cars/Everest/8.png
              - type: custom:bubble-card
                card_type: separator
                name: Location & Fuel
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
              - type: custom:mod-card
                style:
                  swipe-card$: |
                    .swiper-container {
                      margin: 0 0 0 0 !important;
                      padding-bottom: 42px !important;
                      magin-top: -40px !important;
                    }
                    .swiper-pagination-bullets>span {
                      background: var(--google-green); /* <---- */
                    }
                card:
                  type: custom:swipe-card
                  parameters:
                    slidesPerView: '1.0'
                    spaceBetween: 8
                    pagination:
                      type: bullets
                      hide: false
                      draggable: true
                      snapOnRelease: true
                  cards:
                    - type: map
                      entities:
                        - entity: device_tracker.fordpass_tracker
                        - entity: sensor.caringbah_pdl
                          label_mode: state
                          focus: false
                      theme_mode: auto
                      default_zoom: 12
                      aspect_ratio: '2:1'
                      card_mod:
                        style:
                          ha-map $ ha-entity-marker[entity-id="device_tracker.fordpass_tracker"] $: |
                            .marker {

                              /* Style person marker & adjust position to avoid blocking waypoints */
                              border: 3px solid var(--google-green) !important;
                              border-radius: 50% 50% 50% 0px !important;
                              transform: rotate(-45deg) translate(50%, -50%);
                              overflow: visible !important;
                              font-size: 12px !important;
                              background: var(--google-green) !important;
                            }

                            .entity-picture {

                              /* Correct orientation of person avatar */
                              transform: rotate(45deg);
                              border-radius: 50%;
                            }
                          ha-map $ ha-entity-marker[entity-id="sensor.caringbah_pdl"] $: |
                            .marker {

                              /* Style person marker & adjust position to avoid blocking waypoints */
                              border: none !important;
                              border-radius: 50% 50% 50% 0% !important;
                              transform: rotate(-0deg) translate(50%, -50%);
                              overflow: visible !important;
                              font-size: 10px !important;
                              font-weight: bold !important;
                              background: rgba(var(--color-red),0.6) !important;
                            }
                          ha-map $: |
                            path:first-child { 

                              /* Style accuracy radius */
                              stroke: var(--state-person);
                              fill: color-mix(in srgb, var(--state-person) 50%, transparent);
                              stroke-width: 0px;
                            }
                            path:nth-child(even) {

                              /* Styling for waypoints */
                              stroke: var(--google-violet);
                              stroke-width: 4px;
                            }
                            path:nth-child(odd):not(:first-child) { 

                              /* Styling for lines */
                              stroke: var(--google-violet);
                              stroke-width: 4px;
                            }

                            .leaflet-control-attribution {

                              /* Style attribution text */
                              background: rgba(var(--rgb-card-background-color), 0.4) !important;
                              font-size: 10px;
                            }
                            .leaflet-container a {

                              /* Set color of zoom icons & attribution text */
                              color: var(--primary-theme);
                            }

                            .leaflet-control-zoom-in,
                            .leaflet-control-zoom-out {

                              /* Style zoom buttons like Chips */
                              border-radius: var(--mush-chip-border-radius, 19px) !important;
                              padding: 3px;
                              box-shadow: none;
                              background: var(--card-background-color) !important;
                              margin: 8px 12px 0px;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;

                              border: none;
                            } 
                            .leaflet-top {

                              /* Move zoom buttons to bottom of map */
                              bottom: 0px !important;
                            }
                            .leaflet-control-zoom {

                              /* Allow buttons to be moved */
                              position: absolute !important;

                              /* Adjust spacing for border */
                              bottom: calc(2 * var(--ha-card-border-width, 1px) + 56px);

                              /* Remove extra margin */
                              margin: 0px !important;

                              /* Remove zoom control border */
                              border: none !important;
                              box-shadow: none !important;
                            }
                          ha-icon-button $ mwc-icon-button $: |
                            button {

                              /* Size center button to match Chip */
                              height: var(--mush-chip-height, 36px) !important;
                              width: var(--mush-chip-height, 36px) !important;
                              --mdc-icon-size: 22px;
                            }
                          .: |
                            ha-card {

                              /* Remove default card styling without affecting child elements */
                              box-shadow: none;
                              border-width: 0;
                              border-radius: 30px;

                              transition: all 0s;
                            }
                            :host {

                              /* Define Person State colors. Can be added to theme */
                              --state-person-home: var(--google-green);
                              --state-person-not-home: var(--google-red);
                              --state-person-zone: var(--google-blue);
                              --state-person-unknown: var(--google-grey);

                              /* Set person state color */
                              --state-person:
                              {% if is_state(config.entities[0].entity, ['home', 'not_home', 'unknown']) %}
                                var(--state-person-{{ states(config.entities[0].entity) | replace('_', '-') }})
                              {% else %}
                                var(--state-person-zone)
                              {% endif %};
                            }
                            ha-icon-button {

                              /* Position center button */
                              bottom: 12px;
                              left: 12px !important;
                              top: auto !important;

                              /* Style center button to match Chip */
                              color: white !important;
                              background: black;
                              border-radius: var(--mush-chip-border-radius, 19px);
                              border: none !important;
                            }
                    - type: horizontal-stack
                      cards:
                        - type: map
                          entities:
                            - entity: device_tracker.fordpass_tracker
                          hours_to_show: 24
                          theme_mode: auto
                          card_mod:
                            style:
                              ha-map $ ha-entity-marker $: |
                                .marker:first-child {

                                  /* Style person marker & adjust position to avoid blocking waypoints */
                                  border: 3px solid var(--google-green) !important;
                                  border-radius: 50% 50% 50% 0px !important;
                                  transform: rotate(-45deg) translate(50%, -50%);
                                  overflow: visible !important;
                                  font-size: 12px !important;
                                  background: var(--google-green) !important;
                                }
                                 .marker:second-child {

                                  /* Style person marker & adjust position to avoid blocking waypoints */
                                  border: 3px solid var(--google-green) !important;
                                  border-radius: 50% 50% 50% 0px !important;
                                  transform: rotate(0deg) translate(50%, -50%);
                                  overflow: visible !important;
                                  background: var(--google-green) !important;
                                }
                                .entity-picture {

                                  /* Correct orientation of person avatar */
                                  transform: rotate(45deg);
                                  border-radius: 50%;
                                }
                              ha-map $: |
                                path:first-child { 

                                  /* Style accuracy radius */
                                  stroke: var(--state-person);
                                  fill: color-mix(in srgb, var(--state-person) 50%, transparent);
                                  stroke-width: 0px;
                                }
                                path:nth-child(even) {

                                  /* Styling for waypoints */
                                  stroke: var(--google-violet);
                                  stroke-width: 4px;
                                }
                                path:nth-child(odd):not(:first-child) { 

                                  /* Styling for lines */
                                  stroke: var(--google-violet);
                                  stroke-width: 4px;
                                }

                                .leaflet-control-attribution {

                                  /* Style attribution text */
                                  background: rgba(var(--rgb-card-background-color), 0.4) !important;
                                  font-size: 10px;
                                }
                                .leaflet-container a {

                                  /* Set color of zoom icons & attribution text */
                                  color: var(--primary-theme);
                                }

                                .leaflet-control-zoom-in,
                                .leaflet-control-zoom-out {

                                  /* Style zoom buttons like Chips */
                                  border-radius: var(--mush-chip-border-radius, 19px) !important;
                                  padding: 3px;
                                  box-shadow: none;
                                  background: var(--card-background-color) !important;
                                  margin: 8px 12px 0px;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                  backdrop-filter: blur(2px) !important;

                                  border: none;
                                } 
                                .leaflet-top {

                                  /* Move zoom buttons to bottom of map */
                                  bottom: 0px !important;
                                }
                                .leaflet-control-zoom {

                                  /* Allow buttons to be moved */
                                  position: absolute !important;

                                  /* Adjust spacing for border */
                                  bottom: calc(2 * var(--ha-card-border-width, 1px) + 56px);

                                  /* Remove extra margin */
                                  margin: 0px !important;

                                  /* Remove zoom control border */
                                  border: none !important;
                                  box-shadow: none !important;
                                }
                              ha-icon-button $ mwc-icon-button $: |
                                button {

                                  /* Size center button to match Chip */
                                  height: var(--mush-chip-height, 36px) !important;
                                  width: var(--mush-chip-height, 36px) !important;
                                  --mdc-icon-size: 22px;
                                }
                              .: |
                                ha-card {

                                  /* Remove default card styling without affecting child elements */
                                  box-shadow: none;
                                  border-width: 0;
                                  border-radius: 30px;

                                  transition: all 0s;
                                }
                                :host {

                                  /* Define Person State colors. Can be added to theme */
                                  --state-person-home: var(--google-green);
                                  --state-person-not-home: var(--google-red);
                                  --state-person-zone: var(--google-blue);
                                  --state-person-unknown: var(--google-grey);

                                  /* Set person state color */
                                  --state-person:
                                  {% if is_state(config.entities[0].entity, ['home', 'not_home', 'unknown']) %}
                                    var(--state-person-{{ states(config.entities[0].entity) | replace('_', '-') }})
                                  {% else %}
                                    var(--state-person-zone)
                                  {% endif %};
                                }
                                ha-icon-button {

                                  /* Position center button */
                                  bottom: 12px;
                                  left: 12px !important;
                                  top: auto !important;

                                  /* Style center button to match Chip */
                                  color: white !important;
                                  background: black;
                                  border-radius: var(--mush-chip-border-radius, 19px);
                                  border: none !important;
                                }
                        - type: vertical-stack
                          cards:
                            - type: custom:bubble-card
                              card_type: button
                              modules:
                                - default
                              button_type: state
                              entity: sensor.fordpass_fuel
                              name: Fuel Remaining
                              styles: |-
                                :host{
                                    --color-ok-icon: var(--google-green);
                                    --color-reduced-icon: var(--google-yellow);
                                    --color-warning-icon: var(--google-orange);
                                    --color-alert-icon: var(--google-red);
                                    --color-ok: #C0E1D980;
                                    --color-warning: #fd996180;
                                    --color-reduced: #FEE78B80;
                                    --color-alert: #FD727480;
                                    --color-bar: ${state > 70 ? 'var(--color-ok)'
                                                   : state > 50 ? 'var(--color-reduced)'
                                                   : state > 20 ? 'var(--color-warning)'
                                                   : state === "off" ? 'var(--color-ok)'
                                                   : 'var(--color-alert)'} ;
                                    --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                                    --color-notification-bubble: red;
                                }

                                .bubble-icon {
                                  filter: brightness(1.0);
                                  color: var(--card-background-color) !important;
                                }
                                .bubble-icon-container {
                                  filter: brightness(1.0);
                                  background-color: var(${ state > 70 ? '--color-ok-icon':
                                                state > 50 ? '--color-reduced-icon' :
                                                state > 20 ? '--color-warning-icon' :
                                                state === 'off' ? '--color-ok-icon' :
                                                            '--color-alert-icon'}) 
                                            !important; }
                                .bubble-button-card-container {
                                    filter: brightness(1.0);
                                    background: linear-gradient(
                                  to right, 
                                  var(--color-bar) 0%, 
                                  var(--color-bar) ${Math.round(state)}%, 
                                  var(--card-background-color) ${Math.round(state)}%,
                                  var(--card-background-color) 100%
                                ) !important;
                                }
                            - type: custom:bubble-card
                              card_type: button
                              modules:
                                - default
                              button_type: state
                              entity: sensor.ford_to_empty
                              name: Distance to Empty
                              styles: |-
                                .bubble-button-background {
                                  background-color: var(--card-background-color) !important;
                                }
                                .bubble-button-card-container {
                                  background-color: rgba(0,0,0,0) !important;
                                }

                                .bubble-icon {
                                  color: var(--card-background-color) !important;
                                }

                                .bubble-icon-container {
                                  filter: brightness(1.0);
                                  background-color: ${state < 100 ? 'var(--google-red)' : state < 200 ? 'var(--google-orange)' : state < 300 ? 'var(--google-yellow)' : 'var(--google-green)'} !important;
                                }
                            - type: custom:bubble-card
                              card_type: button
                              modules:
                                - default
                              button_type: state
                              entity: sensor.cheapest_pdl
                              name: Cheapest Diesel
                              icon: mdi:currency-usd
                              styles: |-
                                .bubble-button-background {
                                  background-color: var(--card-background-color) !important;
                                }
                                .bubble-button-card-container {
                                  background-color: rgba(0,0,0,0) !important;
                                }

                                .bubble-icon {
                                  color: var(--card-background-color) !important;
                                }

                                .bubble-icon-container {
                                  filter: brightness(1.0);
                                  background-color: var(--google-green) !important;
                                }
              - type: custom:bubble-card
                card_type: separator
                name: Diagnostics
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
              - type: horizontal-stack
                cards:
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.fordpass_odometer
                    name: Odometer
                    tap_action:
                      action: none
                    double_tap_action:
                      action: none
                    card_layout: large
                    styles: |-
                      .bubble-button-background {
                        background-color: rgba(0,0,0,0) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                      }

                      .bubble-icon-container {
                        background-color: var(--google-teal) !important;
                      }

                      .bubble-icon {
                        color: var(--card-background-color) !important;
                      }
                    modules:
                      - default
                  - type: custom:bubble-card
                    card_type: button
                    button_type: state
                    entity: sensor.fordpass_coolanttemp
                    name: Temperature
                    tap_action:
                      action: none
                    double_tap_action:
                      action: none
                    card_layout: large
                    styles: |-
                      .bubble-button-background {
                        background-color: rgba(0,0,0,0) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                      }

                      .bubble-icon-container {
                        background-color: var(--google-teal) !important;
                      }

                      .bubble-icon {
                        color: var(--card-background-color) !important;
                      }
              - type: horizontal-stack
                cards:
                  - type: custom:bubble-card
                    card_type: button
                    modules:
                      - default
                    button_type: state
                    entity: sensor.ford_fuel_economy
                    name: Fuel Economy
                    styles: |-
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                      }

                      .bubble-icon {
                        color: var(--card-background-color) !important;
                      }

                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: ${state < 10 ? 'var(--google-green)' : state < 15 ? 'var(--google-yellow)' : state < 18 ? 'var(--google-orange)' : 'var(--google-red)'} !important;
                      }
                  - type: custom:bubble-card
                    entity: sensor.fordpass_battery
                    card_type: button
                    button_type: state
                    show_attribute: true
                    show_last_changed: false
                    show_state: true
                    tap_action:
                      action: more-info
                    styles: |-
                      :host{
                          --color-ok-icon: var(--google-green);
                          --color-reduced-icon: var(--google-yellow);
                          --color-warning-icon: var(--google-orange);
                          --color-alert-icon: var(--google-red);
                          --color-ok: #C0E1D980;
                          --color-warning: #fd996180;
                          --color-reduced: #FEE78B80;
                          --color-alert: #FD727480;
                          --color-bar: ${state > 70 ? 'var(--color-ok)'
                                         : state > 50 ? 'var(--color-reduced)'
                                         : state > 20 ? 'var(--color-warning)'
                                         : state === "off" ? 'var(--color-ok)'
                                         : 'var(--color-alert)'} ;
                          --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                          --color-notification-bubble: red;
                      }

                      .bubble-icon {
                        filter: brightness(1.0);
                        color: var(--card-background-color) !important;
                      }
                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: var(${ state > 70 ? '--color-ok-icon':
                                      state > 50 ? '--color-reduced-icon' :
                                      state > 20 ? '--color-warning-icon' :
                                      state === 'off' ? '--color-ok-icon' :
                                                  '--color-alert-icon'}) 
                                  !important; }
                      .bubble-button-card-container {
                          filter: brightness(1.0);
                          background: linear-gradient(
                        to right, 
                        var(--color-bar) 0%, 
                        var(--color-bar) ${Math.round(state)}%, 
                        var(--card-background-color) ${Math.round(state)}%,
                        var(--card-background-color) 100%
                      ) !important;
                      }
                    name: Battery
                    icon: ''
                    attribute: fuelRange
                    modules:
                      - default
              - type: horizontal-stack
                cards:
                  - type: custom:bubble-card
                    entity: sensor.fordpass_exhaustfluidlevel
                    card_type: button
                    button_type: state
                    show_attribute: false
                    show_last_changed: false
                    show_state: true
                    tap_action:
                      action: more-info
                    styles: |-
                      :host{
                          --color-ok-icon: var(--google-green);
                          --color-reduced-icon: var(--google-yellow);
                          --color-warning-icon: var(--google-orange);
                          --color-alert-icon: var(--google-red);
                          --color-ok: #C0E1D980;
                          --color-warning: #fd996180;
                          --color-reduced: #FEE78B80;
                          --color-alert: #FD727480;
                          --color-bar: ${state > 70 ? 'var(--color-ok)'
                                         : state > 50 ? 'var(--color-reduced)'
                                         : state > 20 ? 'var(--color-warning)'
                                         : state === "off" ? 'var(--color-ok)'
                                         : 'var(--color-alert)'} ;
                          --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                          --color-notification-bubble: red;
                      }

                      .bubble-icon {
                        filter: brightness(1.0);
                        color: var(--card-background-color) !important;
                      }
                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: var(${ state > 70 ? '--color-ok-icon':
                                      state > 50 ? '--color-reduced-icon' :
                                      state > 20 ? '--color-warning-icon' :
                                      state === 'off' ? '--color-ok-icon' :
                                                  '--color-alert-icon'}) 
                                  !important; }
                      .bubble-button-card-container {
                          filter: brightness(1.0);
                          background: linear-gradient(
                        to right, 
                        var(--color-bar) 0%, 
                        var(--color-bar) ${Math.round(state)}%, 
                        var(--card-background-color) ${Math.round(state)}%,
                        var(--card-background-color) 100%
                      ) !important;
                      }
                    name: Diesel Filter
                    modules:
                      - default
                  - type: custom:bubble-card
                    entity: sensor.fordpass_oil
                    card_type: button
                    button_type: state
                    show_attribute: false
                    show_last_changed: false
                    show_state: true
                    tap_action:
                      action: more-info
                    styles: |-
                      :host{
                          --color-ok-icon: var(--google-green);
                          --color-reduced-icon: var(--google-yellow);
                          --color-warning-icon: var(--google-orange);
                          --color-alert-icon: var(--google-red);
                          --color-ok: #C0E1D980;
                          --color-warning: #fd996180;
                          --color-reduced: #FEE78B80;
                          --color-alert: #FD727480;
                          --color-bar: ${state > 70 ? 'var(--color-ok)'
                                         : state > 50 ? 'var(--color-reduced)'
                                         : state > 20 ? 'var(--color-warning)'
                                         : state === "off" ? 'var(--color-ok)'
                                         : 'var(--color-alert)'} ;
                          --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                          --color-notification-bubble: red;
                      }

                      .bubble-icon {
                        filter: brightness(1.0);
                        color: var(--card-background-color) !important;
                      }
                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: var(${ state > 70 ? '--color-ok-icon':
                                      state > 50 ? '--color-reduced-icon' :
                                      state > 20 ? '--color-warning-icon' :
                                      state === 'off' ? '--color-ok-icon' :
                                                  '--color-alert-icon'}) 
                                  !important; }
                      .bubble-button-card-container {
                          filter: brightness(1.0);
                          background: linear-gradient(
                        to right, 
                        var(--color-bar) 0%, 
                        var(--color-bar) ${Math.round(state)}%, 
                        var(--card-background-color) ${Math.round(state)}%,
                        var(--card-background-color) 100%
                      ) !important;
                      }
                    name: Oil
          - type: vertical-stack
            title: Energy
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#energy'
                name: Energy
                icon: ''
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: none;
                      border-style: none;
                      border-width: 2px;
                      border-color: var(--google-blue) !important;
                    }
                    .bubble-icon {
                      color: var(--google-violet) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button:
                  - entity: sensor.current_consumption_kw
                    show_state: true
                    show_icon: false
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                entity: sensor.current_consumption_kw
                modules:
                  - default
                double_tap_action:
                  action: none
                tap_action:
                  action: none
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
              - type: custom:vertical-stack-in-card
                card_mod:
                  style: |
                    ha-card {
                      background: transparent;
                      box-shadow: none;
                      overflow: visible !important;
                    }
                cards:
                  - square: false
                    type: grid
                    columns: 3
                    cards:
                      - type: custom:vertical-stack-in-card
                        card_mod:
                          style: |
                            ha-card {
                              background: transparent;
                              box-shadow: none;
                              overflow: visible !important;
                            }
                        cards:
                          - square: false
                            type: grid
                            columns: 1
                            cards:
                              - type: custom:config-template-card
                                entities:
                                  - sensor.envoy_today_s_energy_importing
                                card:
                                  type: custom:mushroom-entity-card
                                  entity: sensor.envoy_today_s_energy_importing
                                  name: Imported
                                  icon_color: grey
                              - type: custom:config-template-card
                                entities:
                                  - sensor.envoy_today_s_energy_production
                                card:
                                  type: custom:mushroom-entity-card
                                  entity: sensor.envoy_today_s_energy_production
                                  name: Produced
                                  icon_color: '#01b4de'
                      - type: tile
                        entity: sensor.envoy_today_s_energy_consumption
                        grid_options:
                          columns: 6
                          rows: 1
                        vertical: true
                        color: '#f37320'
                        name: Consumed
                      - type: custom:vertical-stack-in-card
                        card_mod:
                          style: |
                            ha-card {
                              background: transparent;
                              box-shadow: none;
                              overflow: visible !important;
                            }
                        cards:
                          - square: false
                            type: grid
                            columns: 1
                            cards:
                              - type: custom:config-template-card
                                entities:
                                  - sensor.today_exported_kwh
                                card:
                                  type: custom:mushroom-entity-card
                                  entity: sensor.today_exported_kwh
                                  name: Exported
                                  icon_color: grey
                              - type: custom:config-template-card
                                entities:
                                  - sensor.today_net_imported_kwh
                                card:
                                  type: custom:mushroom-entity-card
                                  entity: sensor.today_net_imported_kwh
                                  name: Net imported
                                  icon_color: red
              - type: vertical-stack
                cards:
                  - type: custom:config-template-card
                    variables:
                      days: |
                        '-'+-states['input_number.days_back'].state+'d'
                    entities:
                      - input_number.days_back
                    card:
                      type: custom:apexcharts-card
                      span:
                        start: day
                        offset: ${days}
                      apex_config:
                        grid:
                          show: true
                          borderColor: rgba(123, 123, 123, 0.5)
                        chart:
                          height: 250px
                      graph_span: 24h
                      stacked: true
                      series:
                        - entity: sensor.envoy_current_energy_consumption
                          transform: return x *-1 ;
                          type: column
                          name: Consumed
                          color: '#F37320'
                          group_by:
                            func: avg
                            duration: 15min
                        - entity: sensor.envoy_current_energy_production
                          type: column
                          name: Produced
                          color: '#01B4DE'
                          group_by:
                            func: avg
                            duration: 15min
                        - entity: sensor.net_power_kw
                          transform: return x *-1 ;
                          type: column
                          name: Imported/Exported
                          color: '#656569'
                          group_by:
                            func: avg
                            duration: 15min
                      card_mod:
                        style: |
                          .apexcharts-xaxis,
                          .apexcharts-yaxis,
                          .apexcharts-xaxis-tick,
                          .apexcharts-gridline ~ line {
                            opacity: 0.3
                          }
                  - type: custom:vertical-stack-in-card
                    card_mod:
                      style: |
                        ha-card {
                          background: transparent;
                          box-shadow: none;
                          overflow: visible !important;
                        }
                    cards:
                      - square: false
                        type: grid
                        columns: 2
                        cards:
                          - type: custom:vertical-stack-in-card
                            cards:
                              - square: false
                                type: grid
                                columns: 1
                                cards:
                                  - entity: input_number.days_back
                                    type: custom:numberbox-card
                                    icon_plus: mdi:chevron-left
                                    icon_minus: mdi:chevron-right
                                    delay: 0
                                    unit: Day
                                    card_mod:
                                      style: |
                                        .padr,
                                        .padl {
                                          padding: 10px !important;
                                        }
                                        .cur-box {
                                            flex-direction: row !important;
                                        }
                                        .cur-num {
                                          display: flex;
                                          font-size: var(--paper-font-body1_-_font-size) !important;
                                          flex-direction: row-reverse;
                                        }
                                        .cur-unit {
                                          font-size: var(--paper-font-body1_-_font-size) !important;
                                          opacity: 1 !important;
                                          margin-right: 5px;
                                        }
                            card_mod:
                              style: |
                                ha-card {
                                  height: 100%;
                                  display: flex;
                                  align-items: center;
                                  justify-content: center;
                                }
                          - type: custom:vertical-stack-in-card
                            cards:
                              - square: false
                                type: grid
                                columns: 1
                                cards:
                                  - type: tile
                                    entity: sensor.grid_dependence
                                    color: grey
              - type: heading
                icon: mdi:lightning-bolt
                heading: Live Energy
                heading_style: title
              - type: custom:power-flow-card-plus
                min_flow_rate: 3
                display_zero_lines:
                  mode: hide
                entities:
                  battery:
                    color:
                      production: '#f37320'
                      consumption: '#f37320'
                  grid:
                    color:
                      production: '#01b4de'
                      consumption: grey
                    name: Importing
                    icon: mdi:transmission-tower
                    color_icon: consumption
                    entity:
                      consumption: sensor.power_import_kw
                      production: sensor.power_export
                  solar:
                    entity: sensor.power_production_w
                    icon: mdi:weather-sunny
                    color: '#01b4de'
                    color_value: true
                    name: Producing
                    kw_decimals: 3
                    color_icon: true
                  home:
                    entity: sensor.power_consumption_w
                    name: Consuming
                    color_icon: battery
                    color_value: battery
                    secondary_info: {}
                    circle_animation: false
                    icon: mdi:home-outline
                card_mod:
                  style: |
                    #grid-home-flow circle,
                    #solar-home-flow circle,
                    #solar-grid-flow circle {
                      stroke-opacity:0.3;
                      stroke-width: 6 !important;
                    }
                    circle {
                      stroke-width: 2 !important;
                    }
              - type: custom:vertical-stack-in-card
                card_mod:
                  style: |
                    ha-card {
                      background: transparent;
                      box-shadow: none;
                      overflow: visible !important;
                    }
                cards:
                  - square: false
                    type: grid
                    columns: 3
                    cards:
                      - type: custom:config-template-card
                        variables:
                          - states['sensor.net_power_rounded_kw']
                        entities:
                          - sensor.net_power_rounded_kw
                        card:
                          icon: >-
                            ${vars[0].state >= '0' ?
                            'mdi:transmission-tower-import' :
                            'mdi:transmission-tower-export'}
                          type: custom:mushroom-entity-card
                          entity: sensor.net_power_rounded_kw
                          name: '${vars[0].state >= ''0'' ? ''Importing'' : ''Exporting''}'
                          icon_color: grey
                      - type: custom:config-template-card
                        entities:
                          - sensor.power_export_rounded
                        card:
                          icon: mdi:white-balance-sunny
                          type: custom:mushroom-entity-card
                          entity: sensor.power_export_rounded
                          name: Producing
                          icon_color: '#01b4de'
                      - type: custom:config-template-card
                        entities:
                          - sensor.power_import_rounded
                        card:
                          type: custom:mushroom-entity-card
                          icon: mdi:home
                          entity: sensor.power_import_rounded
                          name: Consuming
                          icon_color: '#f37320'
            column_span: 1
    cards:
      - type: custom:mushroom-template-card
        card_mod:
          style: |
            ha-card  {
              background-color: rgba(0,0,0,0);
              box-shadow: none;
                --card-primary-font-size: 24px;
              --card-secondary-font-size: 20px;
              --icon-size:90px;
              padding-top: 0px !important;
              padding-bottom: 0px !important;
              margin-left: -20px !important;
            }
        primary: '{{states(''input_select.frontend_greeting'')}}'
        secondary: '{{ user }}'
        icon: none
        entity: weather.home
        picture: >-
          {% set condition = states(entity) %} {% if condition == 'partlycloudy'
          and is_state('sun.sun', 'above_horizon') %}
            {% set condition = condition + '-day' %}
          {% elif condition == 'partlycloudy' and is_state('sun.sun',
          'below_horizon')%}
            {% set condition = condition + '-night' %}
          {% elif condition == 'sunny' and is_state('sun.sun', 'above_horizon')
          %}
            {% set condition = condition + '-day' %}
          {% elif condition == 'sunny' and is_state('sun.sun', 'below_horizon')
          %}
            {% set condition = condition + '-night' %}
          {% elif condition == 'rainy' and is_state('sun.sun', 'above_horizon')
          %}
            {% set condition = condition + '-day' %}
          {% elif condition == 'rainy' and is_state('sun.sun', 'below_horizon')
          %}
            {% set condition = condition + '-night' %}
            {% endif %} /local/weather/{{ condition }}.png
        tap_action:
          action: more-info
      - type: custom:mod-card
        card_mod:
          style: |
            @media (min-width:180px)  {
              ha-card {
                z-index: 1;
                position: fixed;
                bottom: 20px;
                left: 10px;
                width: calc(100% - 20px);

                background: var(--primary-text-color);
                border-radius: 26px;
                opacity: 90%;
                backdrop-filter: blur(50px);
                -webkit-backdrop-filter: blur(50px);
                padding: 10px;
                box-shadow: none;
              }
            }
        card:
          type: grid
          square: false
          columns: 5
          cards:
            - type: custom:button-card
              icon: mdi:home
              tap_action:
                action: navigate
                navigation-path: home
              styles:
                icon:
                  - width: 28px
                  - color: var(--card-background-color)
                img_cell:
                  - width: 50px
                  - height: 45px
                card:
                  - background: none
                  - box-shadow: none
                  - padding: 0px
            - type: custom:button-card
              icon: mdi:security
              tap_action:
                action: navigate
                navigation-path: home
              styles:
                icon:
                  - width: 28px
                  - color: var(--card-background-color)
                img_cell:
                  - width: 50px
                  - height: 45px
                card:
                  - background: none
                  - box-shadow: none
                  - padding: 0px
            - type: custom:button-card
              icon: phu:roborock
              tap_action:
                action: navigate
                navigation-path: home
              styles:
                icon:
                  - width: 28px
                  - color: var(--card-background-color)
                img_cell:
                  - width: 50px
                  - height: 45px
                card:
                  - background: none
                  - box-shadow: none
                  - padding: 0px
            - type: custom:button-card
              icon: phu:sonos-one
              tap_action:
                action: navigate
                navigation-path: home
              styles:
                icon:
                  - width: 28px
                  - color: var(--card-background-color)
                img_cell:
                  - width: 50px
                  - height: 45px
                card:
                  - background: none
                  - box-shadow: none
                  - padding: 0px
            - type: custom:button-card
              icon: mdi:cog
              tap_action:
                action: navigate
                navigation-path: home
              styles:
                icon:
                  - width: 28px
                  - color: var(--card-background-color)
                img_cell:
                  - width: 50px
                  - height: 45px
                card:
                  - background: none
                  - box-shadow: none
                  - padding: 0px
      - type: custom:mushroom-chips-card
        alignment: start
        card_mod:
          style: |
            ha-card { 
              /* Overlap avatar Chips */
              --chip-spacing: calc(-1 * var(--mush-chip-spacing,10px));

              /* Set size of border around Chips */
              --chip-avatar-padding: 1px;
              left: 5px;
            }
        chips:
          - type: entity
            entity: device_tracker.audi
            content_info: none
            use_entity_picture: true
            card_mod:
              style: |

                /* Color border around avatar to show person status */
                ha-card {
                  --chip-avatar-padding: 2px;
                  --chip-height: 50px;
                  border-radius: 50% !important;
                  --chip-background:
                  {% if is_state(config.entity, ['home', 'not_home', 'unknown']) %}
                    rgb(var(--rgb-state-person-{{ states(config.entity) | replace('_', '-') }} ))
                  {% else %}
                    rgb(var(--rgb-state-person-zone))
                  {% endif %};
                } 

                /* Slightly enlarge & bring to front on hover */
                ha-card:hover {
                  transform: scale(1.2);
                  transform-origin: top center;
                  z-index: 1;
                  transition: all 1s;
                }  
          - type: entity
            entity: device_tracker.fordpass_tracker
            content_info: none
            use_entity_picture: true
            card_mod:
              style: |

                /* Color border around avatar to show person status */
                ha-card {
                  --chip-avatar-padding: 2px;
                  --chip-height: 50px;
                  border-radius: 50% !important;
                  --chip-background:
                  {% if is_state(config.entity, ['home', 'not_home', 'unknown']) %}
                    rgb(var(--rgb-state-person-{{ states(config.entity) | replace('_', '-') }} ))
                  {% else %}
                    rgb(var(--rgb-state-person-zone))
                  {% endif %};
                } 

                /* Slightly enlarge & bring to front on hover */
                ha-card:hover {
                  transform: scale(1.2);
                  transform-origin: top center;
                  z-index: 1;
                  transition: all 1s;
                }  
          - type: entity
            entity: person.jess
            content_info: none
            use_entity_picture: true
            card_mod:
              style: |

                /* Color border around avatar to show person status */
                ha-card {
                  --chip-avatar-padding: 2px;
                  --chip-height: 50px;
                  border-radius: 50% !important;
                  --chip-background:
                  {% if is_state(config.entity, ['home', 'not_home', 'unknown']) %}
                    rgb(var(--rgb-state-person-{{ states(config.entity) | replace('_', '-') }} ))
                  {% else %}
                    rgb(var(--rgb-state-person-zone))
                  {% endif %};
                } 

                /* Slightly enlarge & bring to front on hover */
                ha-card:hover {
                  transform: scale(1.2);
                  transform-origin: top center;
                  z-index: 1;
                  transition: all 1s;
                }  
          - type: entity
            entity: person.ben
            content_info: none
            use_entity_picture: true
            card_mod:
              style: |

                /* Color border around avatar to show person status */
                ha-card {
                  --chip-avatar-padding: 2px;
                  --chip-height: 50px;
                  border-radius: 50% !important;
                  --chip-background:
                  {% if is_state(config.entity, ['home', 'not_home', 'unknown']) %}
                    rgb(var(--rgb-state-person-{{ states(config.entity) | replace('_', '-') }} ))
                  {% else %}
                    rgb(var(--rgb-state-person-zone))
                  {% endif %};
                } 

                /* Slightly enlarge & bring to front on hover */
                ha-card:hover {
                  transform: scale(1.2);
                  transform-origin: top center;
                  z-index: 1;
                  transition: all 1s;
                }  
      - type: custom:button-card
        aspect_ratio: 1/1
        entity: alarm_control_panel.homebase
        icon: mdi:shield
        show_state: true
        size: 100px
        name: Eufy
        styles:
          card:
            - background-color: var(--google-green)
            - border-radius: 80px
            - color: var(--primary-font-color)
            - font-size: 50px
            - text-shadow: 0px
            - text-transform: capitalize
          name:
            - align-self: middle
            - justify-self: start
            - padding-left: 20px
            - padding-top: 40px
            - font-size: 80px
            - font-weight: normal
          state:
            - align-self: middle
            - justify-self: start
            - padding-left: 25px
            - padding-top: 40px
            - font-size: 30px
            - color: var(--primary-font-color)
          img_cell:
            - align-self: start
            - justify-self: start
            - margin-left: 20px
            - margin-top: 0px
            - border-radius: 50%
          grid:
            - grid-template-areas: >-
                "i item1 item2" "i item1 item2" "n n n" "s s s" "item3 item3
                item3"
            - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr
            - grid-template-columns: 1fr 1fr 1fr
        state:
          - value: 'off'
            styles:
              card:
                - color: null
              icon:
                - filter: grayscale(100%)
          - value: disarmed
            styles:
              card:
                - background-color: var(--google-green)
              icon:
                - color: var(--color-green)
              img_cell:
                - background-color: var(--google-green)
  - title: Security
    path: security
    type: sections
    sections:
      - type: grid
        cards:
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: auto auto
            cards:
              - type: custom:button-card
                name: Security
                icon: mdi:security
                entity: alarm_control_panel.homebase
                tap_action:
                  action: none
                styles:
                  icon:
                    - color: var(--card-background-color)
                    - height: 32px
                    - width: 32px
                    - align-self: start
                    - justify-self: start
                  img_cell:
                    - background: var(--google-red)
                    - height: 42px
                    - width: 42px
                    - border-radius: 100%
                  card:
                    - background: none
                  name:
                    - justify-self: start
                    - font-size: 20px
                    - margin-left: 10px
                    - font-weight: bold
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content auto
                state:
                  - value: disarmed
                    icon: mdi:shield-off
                    styles:
                      img_cell:
                        - background: var(--google-green)
                  - value: armed_away
                    icon: mdi:shield-lock
                    styles:
                      img_cell:
                        - background: var(--google-red)
              - type: custom:mushroom-chips-card
                alignment: end
                chips:
                  - type: back
                  - type: menu
                card_mod:
                  style: |
                    ha-card { 
                      padding-top: 8px;
                      padding-left: 40px;
                      margin-right: -10px;
                      --chip-height: 50px;
                      --chip-background: none;
                      --chip-box-shadow: none;
                    }
          - type: custom:bubble-card
            card_type: separator
            name: Cameras
            card_layout: normal
            styles: |2-
                .bubble-line {
                  background: none;
                  opacity: 0;
                }
                * { 
                  font-size: 14px !important;
                  height: 18px !important;
                  padding-bottom: 0px !important;
                  margin-bottom: -60px !important;
                }
          - type: custom:mod-card
            style:
              swipe-card$: |
                .swiper-container {
                  margin: 0 0 0 0 !important;
                  padding-bottom: 35px !important;
                  magin-top: -40px !important;
                }
                .swiper-pagination-bullets>span {
                  background: var(--google-red); /* <---- */
                }
            card:
              type: custom:swipe-card
              parameters:
                slidesPerView: '1.0'
                spaceBetween: 8
                pagination:
                  type: bullets
                  hide: false
                  draggable: true
                  snapOnRelease: true
              cards:
                - type: custom:state-switch
                  entity: camera.living_room
                  default: idle
                  states:
                    idle:
                      type: picture-elements
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: 36px;
                            border-style: none;
                          }
                      image: /local/Lounge Camera.png
                      camera_view: live
                      tap_action:
                        action: more-info
                      elements:
                        - type: custom:mod-card
                          style:
                            top: 84%
                            left: 50%
                            width: 96%
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: 36px;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: camera.living_room
                            force_icon: true
                            show_attribute: true
                            button_action:
                              tap_action:
                                action: none
                            card_layout: normal
                            sub_button:
                              - entity: sensor.living_room_battery_percentage
                                show_state: true
                              - entity: camera.living_room
                                icon: mdi:play
                                tap_action:
                                  action: call-service
                                  service: camera.turn_on
                                  target:
                                    entity_id: camera.living_room
                              - entity: camera.living_room
                                icon: mdi:chevron-double-left
                                tap_action:
                                  action: none
                              - entity: camera.living_room
                                icon: mdi:stop
                                tap_action:
                                  action: call-service
                                  service: camera.turn_off
                                  target:
                                    entity_id: camera.living_room
                            styles: |-
                              .bubble-button-card {
                                opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                background: rgba(0,0,0,0.1) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-button-background {
                                background-color: var(--card-background-color) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                                opacity: 1.0 !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                              }
                              .bubble-name {
                                font-size: auto !important;
                              }
                              .bubble-sub-button-container {
                                background: none !important;
                              }
                              .bubble-sub-button-1 {
                                background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                              }
                              .bubble-sub-button-2{
                                border-radius: 32px 0px 0px 32px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-3{
                                border-radius: 0px;
                                margin-left: -8px;
                                margin-right: -8px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-4{
                                border-radius: 0px 32px 32px 0px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                    streaming:
                      type: picture-elements
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: 36px;
                            border-style: none;
                          }
                      camera_image: camera.living_room
                      image: /local/Lounge Camera.png
                      camera_view: live
                      tap_action:
                        action: more-info
                      elements:
                        - type: custom:button-card
                          style:
                            top: 10%
                            left: 10%
                            width: 20%
                          show_name: true
                          show_state: false
                          name: Live
                          entity: camera.living_room
                          layout: icon_name
                          icon: mdi:record
                          styles:
                            card:
                              - border-radius: 24px
                              - border-style: none
                              - width: 120%
                              - background-color: rgba(0,0,0,0)
                            img_cell:
                              - width: 40px
                              - height: 20px
                              - background: none
                              - border-radius: 100%
                            icon:
                              - width: 20px
                              - color: var(--google-red)
                              - top: '-2px'
                            name:
                              - color: var(--primary--font-color)
                              - font-size: 10px
                              - justify-self: start
                        - type: custom:mod-card
                          style:
                            top: 84%
                            left: 50%
                            width: 96%
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: 36px;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: camera.living_room
                            force_icon: true
                            show_attribute: true
                            button_action:
                              tap_action:
                                action: none
                            card_layout: normal
                            sub_button:
                              - entity: sensor.living_room_battery_percentage
                                show_state: true
                              - entity: camera.living_room
                                icon: mdi:play
                                tap_action:
                                  action: call-service
                                  service: camera.turn_on
                                  target:
                                    entity_id: camera.living_room
                              - entity: camera.living_room
                                icon: mdi:chevron-double-right
                                tap_action:
                                  action: none
                              - entity: camera.living_room
                                icon: mdi:stop
                                tap_action:
                                  action: call-service
                                  service: camera.turn_off
                                  target:
                                    entity_id: camera.living_room
                            styles: |-
                              .bubble-button-card {
                                opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                background: rgba(0,0,0,0.1) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-button-background {
                                background-color: var(--card-background-color) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                                opacity: 1.0 !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                              }
                              .bubble-name {
                                font-size: auto !important;
                              }
                              .bubble-sub-button-container {
                                background: none !important;
                              }
                              .bubble-sub-button-1 {
                                background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                              }
                              .bubble-sub-button-2{
                                border-radius: 32px 0px 0px 32px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-3{
                                border-radius: 0px;
                                margin-left: -8px;
                                margin-right: -8px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-4{
                                border-radius: 0px 32px 32px 0px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                - type: custom:state-switch
                  entity: camera.backyard
                  default: idle
                  states:
                    idle:
                      type: picture-elements
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: 36px;
                            border-style: none;
                          }
                      image: /local/backyard.png
                      camera_view: live
                      tap_action:
                        action: more-info
                      elements:
                        - type: custom:mod-card
                          style:
                            top: 84%
                            left: 50%
                            width: 96%
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: 36px;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: camera.backyard
                            force_icon: true
                            show_attribute: true
                            button_action:
                              tap_action:
                                action: none
                            card_layout: normal
                            sub_button:
                              - entity: sensor.backyard_battery_percentage
                                show_state: true
                              - entity: camera.backyard
                                icon: mdi:play
                                tap_action:
                                  action: call-service
                                  service: camera.turn_on
                                  target:
                                    entity_id: camera.backyard
                              - entity: camera.backyard
                                icon: mdi:chevron-double-left
                                tap_action:
                                  action: none
                              - entity: camera.backyard
                                icon: mdi:stop
                                tap_action:
                                  action: call-service
                                  service: camera.turn_off
                                  target:
                                    entity_id: camera.backyard
                            styles: |-
                              .bubble-button-card {
                                opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                background: rgba(0,0,0,0.1) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-button-background {
                                background-color: var(--card-background-color) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                                opacity: 1.0 !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                              }
                              .bubble-name {
                                font-size: auto !important;
                              }
                              .bubble-sub-button-container {
                                background: none !important;
                              }
                              .bubble-sub-button-1 {
                                background-color: ${hass.states['sensor.backyard_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.backyard_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                display: ${hass.states['sensor.backyard_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                              }
                              .bubble-sub-button-2{
                                border-radius: 32px 0px 0px 32px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-3{
                                border-radius: 0px;
                                margin-left: -8px;
                                margin-right: -8px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-4{
                                border-radius: 0px 32px 32px 0px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                    streaming:
                      type: picture-elements
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: 36px;
                            border-style: none;
                          }
                      camera_image: camera.backyard
                      image: /local/backyard.png
                      camera_view: live
                      tap_action:
                        action: more-info
                      elements:
                        - type: custom:button-card
                          style:
                            top: 10%
                            left: 85%
                            width: 20%
                          card_mod:
                            style: |
                              ha-card  {
                                background-color: var(--folder-background);
                                backdrop-filter: blur(2px) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                              }
                          show_name: true
                          show_state: false
                          name: Live
                          entity: camera.backyard
                          layout: icon_name
                          icon: mdi:record
                          styles:
                            card:
                              - border-radius: 24px
                              - width: 120%
                            img_cell:
                              - width: 40px
                              - height: 20px
                              - background: none
                              - border-radius: 100%
                            icon:
                              - width: 20px
                              - color: var(--google-red)
                              - top: '-2px'
                            name:
                              - color: var(--primary--font-color)
                              - font-size: 10px
                              - justify-self: start
                        - type: custom:mod-card
                          style:
                            top: 84%
                            left: 50%
                            width: 96%
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: 36px;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: camera.backyard
                            force_icon: true
                            show_attribute: true
                            button_action:
                              tap_action:
                                action: none
                            card_layout: normal
                            sub_button:
                              - entity: sensor.backyard_battery_percentage
                                show_state: true
                              - entity: camera.backyard
                                icon: mdi:play
                                tap_action:
                                  action: call-service
                                  service: camera.turn_on
                                  target:
                                    entity_id: camera.backyard
                              - entity: camera.backyard
                                icon: mdi:chevron-double-right
                                tap_action:
                                  action: none
                              - entity: camera.backyard
                                icon: mdi:stop
                                tap_action:
                                  action: call-service
                                  service: camera.turn_off
                                  target:
                                    entity_id: camera.backyard
                            styles: |-
                              .bubble-button-card {
                                opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                                background: rgba(0,0,0,0.1) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-button-background {
                                background-color: var(--card-background-color) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                                opacity: 1.0 !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                              }
                              .bubble-name {
                                font-size: auto !important;
                              }
                              .bubble-sub-button-container {
                                background: none !important;
                              }
                              .bubble-sub-button-1 {
                                background-color: ${hass.states['sensor.backyard_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.backyard_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                                display: ${hass.states['sensor.backyard_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                              }
                              .bubble-sub-button-2{
                                border-radius: 32px 0px 0px 32px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-3{
                                border-radius: 0px;
                                margin-left: -8px;
                                margin-right: -8px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-4{
                                border-radius: 0px 32px 32px 0px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                - type: custom:state-switch
                  entity: camera.dafang1
                  default: idle
                  states:
                    idle:
                      type: picture-elements
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: 36px;
                            border-style: none;
                          }
                      camera_image: camera.dafang1
                      image: /local/Garage.png
                      camera_view: live
                      tap_action:
                        action: more-info
                      elements:
                        - type: custom:button-card
                          style:
                            top: 10%
                            left: 10%
                            width: 20%
                          show_name: true
                          show_state: false
                          name: Live
                          entity: camera.dafang1
                          layout: icon_name
                          icon: mdi:record
                          styles:
                            card:
                              - border-radius: 24px
                              - border-style: none
                              - width: 120%
                              - background-color: rgba(0,0,0,0)
                            img_cell:
                              - width: 40px
                              - height: 20px
                              - background: none
                              - border-radius: 100%
                            icon:
                              - width: 20px
                              - color: var(--google-red)
                              - top: '-2px'
                            name:
                              - color: var(--primary--font-color)
                              - font-size: 10px
                              - justify-self: start
                        - type: custom:mod-card
                          style:
                            top: 84%
                            left: 50%
                            width: 96%
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: 36px;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: camera.dafang1
                            force_icon: true
                            show_attribute: true
                            button_action:
                              tap_action:
                                action: none
                            card_layout: normal
                            sub_button:
                              - entity: camera.dafang1
                                icon: mdi:camera-plus-outline
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_snapshot
                              - entity: camera.dafang1
                                icon: mdi:pan-up
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_up
                              - entity: camera.dafang1
                                icon: mdi:pan-down
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_down
                              - entity: camera.dafang1
                                icon: mdi:pan-left
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_left
                              - entity: camera.dafang1
                                icon: mdi:pan-right
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_right
                            styles: |-
                              .bubble-button-card {
                                opacity: ${state === 'idle' ? '1.0' : '0.5'} !important;
                                background: rgba(0,0,0,0.1) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-button-background {
                                background-color: var(--card-background-color) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                                opacity: 1.0 !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'idle' ? 'var(--google-red)' : 'grey'} !important;
                              }
                              .bubble-name {
                                font-size: auto !important;
                              }
                              .bubble-sub-button-container {
                                background: none !important;
                              }
                              .bubble-sub-button-2{
                                border-radius: 32px 0px 0px 32px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-3{
                                border-radius: 0px;
                                margin-left: -8px;
                                margin-right: -4px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-4{
                                border-radius: 0px;
                                margin-left: -4px;
                                margin-right: -4px;
                                border-radius: 0px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-5{
                                border-radius: 0px 32px 32px 0px;
                                margin-left: -4px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-1{
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
                    unavailable:
                      type: picture-elements
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: 36px;
                            border-style: none;
                          }
                      camera_image: camera.dafang1
                      image: /local/Garage.png
                      camera_view: live
                      tap_action:
                        action: more-info
                      elements:
                        - type: custom:mod-card
                          style:
                            top: 84%
                            left: 50%
                            width: 96%
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: 36px;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                          card:
                            type: custom:bubble-card
                            card_type: button
                            button_type: state
                            entity: camera.dafang1
                            force_icon: true
                            show_attribute: true
                            button_action:
                              tap_action:
                                action: none
                            card_layout: normal
                            sub_button:
                              - entity: camera.dafang1
                                icon: mdi:camera-plus-outline
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_snapshot
                              - entity: camera.dafang1
                                icon: mdi:pan-up
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_up
                              - entity: camera.dafang1
                                icon: mdi:pan-down
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_down
                              - entity: camera.dafang1
                                icon: mdi:pan-left
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_left
                              - entity: camera.dafang1
                                icon: mdi:pan-right
                                tap_action:
                                  action: call-service
                                  service: script.turn_on
                                  data:
                                    entity_id: script.camera_right
                            styles: |-
                              .bubble-button-card {
                                opacity: ${state === 'idle' ? '1.0' : '0.5'} !important;
                                background: rgba(0,0,0,0.1) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-button-card-container {
                                background-color: rgba(0,0,0,0) !important;
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-button-background {
                                background-color: var(--card-background-color) !important;
                                filter: blur(50%) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                                opacity: 1.0 !important;
                              }
                              .bubble-icon-container {
                                background-color: ${state === 'idle' ? 'var(--google-red)' : 'grey'} !important;
                              }
                              .bubble-name {
                                font-size: auto !important;
                              }
                              .bubble-sub-button-container {
                                background: none !important;
                              }
                              .bubble-sub-button-2{
                                border-radius: 32px 0px 0px 32px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-3{
                                border-radius: 0px;
                                margin-left: -8px;
                                margin-right: -4px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-4{
                                border-radius: 0px;
                                margin-left: -4px;
                                margin-right: -4px;
                                border-radius: 0px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-5{
                                border-radius: 0px 32px 32px 0px;
                                margin-left: -4px;
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .bubble-sub-button-1{
                                background-color: rgba(var(--color-background),0.6);
                                -webkit-backdrop-filter: blur(2px) !important;
                                backdrop-filter: blur(2px) !important;
                              }
                              .is-on .bubble-icon {
                                filter: brightness(1.0);
                                opacity: 1;
                              }
          - type: custom:bubble-card
            card_type: separator
            name: Alarm
            card_layout: normal
            styles: |2-
                .bubble-line {
                  background: none;
                  opacity: 0;
                }
                * { 
                  font-size: 14px !important;
                  height: 18px !important;
                  padding-bottom: 0px !important;
                  margin-bottom: -60px !important;
                }
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: alarm_control_panel.homebase
            icon: ''
            show_attribute: true
            show_state: true
            name: Alarm
            card_layout: large
            styles: |2
                .bubble-icon {
                  opacity: 1.0 !important;
                  color: ${state === 'armed_away' ? 'var(--card-background-color)' : 'grey'} !important;
                }
                .bubble-icon-container {
                  background-color: ${state === 'armed_away' ? 'var(--google-red)' : ''} !important;
                  opacity: 1.0 !important;
                }

                .bubble-button-card {
                  opacity: ${state === 'disarmed' ? '0.5' : ''} !important;
                  background-color: ${state === 'armed_away' ? 'rgba(var(--color-red),0.5)' : ''} !important;
                }

                .bubble-sub-button-container {
                  opacity: 1.0 !important;
                }
            slider_live_update: false
            sub_button: []
            tap_action:
              action: toggle
            show_name: true
          - type: custom:bubble-card
            card_type: separator
            name: Doors
            card_layout: normal
            styles: |2-
                .bubble-line {
                  background: none;
                  opacity: 0;
                }
                * { 
                  font-size: 14px !important;
                  height: 18px !important;
                  padding-bottom: 0px !important;
                  margin-bottom: -60px !important;
                }
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: cover.garage
            icon: ''
            show_attribute: true
            show_state: true
            name: Garage
            card_layout: large
            styles: |2-
                .bubble-range-fill { 
                  background: var(--google-violet) !important;
                  opacity: 0.5 !important;
                }
                .bubble-icon {
                  color: ${state === 'open' ? 'var(--card-background-color)' : 'grey'} !important;
                }
                .bubble-icon-container {
                  background-color: ${state === 'open' ? 'var(--google-violet)' : ''} !important;
                  opacity: 1.0 !important;
                }

                .bubble-button-card {
                  opacity: ${state === 'closed' ? '0.5' : ''} !important;
                }

                .is-on .bubble-icon {
                  filter: brightness(1.0);
                  opacity: 1;
                }
               
                .bubble-sub-button-1{
                  border-radius: 32px 0px 0px 32px;
                  background-color: rgba(var(--color-background),0.6);
                  -webkit-backdrop-filter: blur(2px) !important;
                  backdrop-filter: blur(2px) !important;
                }
                .bubble-sub-button-2{
                  border-radius: 0px;
                  margin-left: -8px;
                  background-color: rgba(var(--color-background),0.6);
                  -webkit-backdrop-filter: blur(2px) !important;
                  backdrop-filter: blur(2px) !important;
                  margin-right:-8px;
                }
                .bubble-sub-button-3{
                  border-radius: 0px 32px 32px 0px;
                  background-color: rgba(var(--color-background),0.6);
                  -webkit-backdrop-filter: blur(2px) !important;
                  backdrop-filter: blur(2px) !important;
                }

              .bubble-button-card {
                opacity: ${state === 'off' ? '0.5' : ''} !important;
              }

              .is-on .bubble-icon {
                filter: brightness(1.0);
                opacity: 1;
              }
            slider_live_update: false
            sub_button:
              - entity: cover.garage
                show_icon: true
                icon: mdi:arrow-down
                state_background: false
                tap_action:
                  action: call-service
                  target:
                    entity_id: cover.garage
                  service: cover.close_cover
              - entity: cover.garage
                icon: mdi:square-outline
                state_background: false
                tap_action:
                  action: call-service
                  target:
                    entity_id: cover.garage
                  service: cover.stop_cover
              - entity: cover.garage
                icon: mdi:arrow-up
                state_background: false
                tap_action:
                  action: call-service
                  target:
                    entity_id: cover.garage
                  service: cover.open_cover
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.lounge_doors
                icon: ''
                show_attribute: true
                show_state: true
                name: Balcony Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.balcony_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.balcony_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.balcony_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.balcony_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.bedroom_sliding_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Sliding Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.bedroom_sliding_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.bedroom_sliding_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.bedroom_sliding_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.bedroom_sliding_door_battery
                    show_state: true
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.front_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Front Door
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.front_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.front_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.front_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.front_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.laundry_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Laundry
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.laundry_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.laundry_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.laundry_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.bedroom_sensor_battery
                    show_state: true
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.rumpus_sliding_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Rumpus
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.rumpus_sliding_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.rumpus_sliding_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.rumpus_sliding_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.rumpus_sliding_door_battery
                    show_state: true
              - type: custom:bubble-card
                card_type: empty-column
                button_type: state
                entity: binary_sensor.laundry_door
                icon: ''
                show_attribute: true
                show_state: true
                name: Laundry
                card_layout: large
                styles: |2-
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.laundry_door_battery'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.laundry_door_battery'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.laundry_door_battery'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-button-card {
                      opacity: ${state === 'off' ? '0.5' : ''} !important;
                    }
                    
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                  }
                    .bubble-icon {
                      color: ${state === 'on' ? 'var(--card-background-color)' : 'grey'} !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'on' ? 'var(--google-violet)' : ''} !important;
                      opacity: 1.0 !important;
                    }
                sub_button:
                  - entity: sensor.bedroom_sensor_battery
                    show_state: true
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px)  {
                  ha-card  {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    left: 10px;
                    width: calc(100% - 20px);
                    background-color: var(--dock-background);
                    border-radius: 36px;
                    -webkit-backdrop-filter: blur(10px) !important;
                    backdrop-filter: blur(10px) !important;
                    transform: translate3d(0, 0, 0);
                    padding: 5px;
                    box-shadow: 0px -5px 10px rgba(0, 0, 0, 0.1);
                  }
                }
                @media (min-width:480px)  {
                  ha-card  {
                    width: calc(60% - 30px);
                    left: calc(20% - 15px);
                  }
                }
            card:
              type: grid
              square: false
              columns: 6
              cards:
                - type: custom:button-card
                  icon: mdi:home-variant-outline
                  tap_action:
                    action: navigate
                    navigation_path: /dashboard-nextgen
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - border-radius: 100%
                      - padding: 0px
                - type: custom:button-card
                  icon: mdi:home-thermometer-outline
                  tap_action:
                    action: navigate
                    navigation_path: climate
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:shield
                  entity: alarm_control_panel.homebase
                  show_name: false
                  show_state: false
                  tap_action:
                    action: navigate
                    navigation_path: security
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--card-background-color)
                    img_cell:
                      - width: 50px
                      - height: 50px
                      - color: var(--google--red)
                    card:
                      - background: var(--google-red)
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                  state:
                    - value: disarmed
                      icon: mdi:shield-off
                      styles:
                        card:
                          - background: var(--google-green)
                    - value: armed_away
                      icon: mdi:shield-lock
                      styles:
                        card:
                          - background: var(--google-red)
                - type: custom:button-card
                  icon: mdi:vacuum-outline
                  tap_action:
                    action: navigate
                    navigation_path: robomac
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:music-circle-outline
                  tap_action:
                    action: navigate
                    navigation_path: sonos
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:cog-outline
                  tap_action:
                    action: navigate
                    navigation_path: settings
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
  - title: Robomac
    path: robomac
    icon: phu:roborock
    theme: nextgen-mobile
    type: sections
    sections:
      - type: grid
        cards:
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: auto auto
            cards:
              - type: custom:button-card
                name: Vacuums
                icon: phu:roborock
                tap_action:
                  action: none
                styles:
                  icon:
                    - color: var(--card-background-color)
                    - height: 36px
                    - width: 36px
                    - align-self: start
                    - justify-self: start
                  img_cell:
                    - background: var(--google-pink)
                    - height: 42px
                    - width: 42px
                    - border-radius: 100%
                  card:
                    - background: none
                  name:
                    - justify-self: start
                    - font-size: 20px
                    - margin-left: 10px
                    - font-weight: bold
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content auto
              - type: custom:mushroom-chips-card
                alignment: end
                chips:
                  - type: back
                  - type: menu
                card_mod:
                  style: |
                    ha-card { 
                      padding-top: 8px;
                      padding-left: 40px;
                      margin-right: -10px;
                      --chip-height: 50px;
                      --chip-background: none;
                      --chip-box-shadow: none;
                    }
          - type: horizontal-stack
            cards:
              - type: custom:mod-card
                style:
                  swipe-card$: |
                    .swiper-container {
                      margin: 0 0 0 0 !important;
                      padding-bottom: 42px !important;
                    }
                    .swiper-pagination-bullets>span {
                    background: var(--google-pink); /* <---- */
                    }
                card:
                  type: custom:swipe-card
                  parameters:
                    slidesPerView: '1.0'
                    spaceBetween: 8
                    pagination:
                      type: bullets
                      hide: false
                      draggable: true
                      snapOnRelease: true
                  cards:
                    - type: vertical-stack
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: var(--border-radius);
                            background-color: rgba(0,0,0,0);
                            box-shadow: none;
                          }
                      cards:
                        - type: custom:xiaomi-vacuum-map-card
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: var(--border-radius);
                                background-color: rgba(0,0,0,0);
                                box-shadow: var(--box-shadow);
                                --map-card-small-radius: 20px;
                                --map-card-primary-color: rgba(var(--color-pink),1.0);
                                --map-card-secondary-color: rgba(var(--color-pink),0.6);
                                --map-card-zoomer-background: rgba(var(--color-grey),0.05);
                                --map-card-room-icon-color: rgb(var(--color-grey));
                                --map-card-room-icon-color-selected: rgb(var(--color-pink));
                                --map-card-predefined-point-icon-color: rgb(var(--color-grey));
                                --map-card-predefined-point-icon-color-selected: rgb(var(--color-pink));
                              }
                          entity: vacuum.robomac
                          vacuum_platform: send_command
                          title: ''
                          map_source:
                            camera: camera.robomac_map
                            crop:
                              top: 20
                              bottom: 15
                          calibration_source:
                            camera: true
                          map_modes:
                            - template: vacuum_clean_segment
                              predefined_selections:
                                - id: 1
                                  icon:
                                    name: mdi:bunk-bed
                                    x: 15500
                                    'y': 18500
                                - id: 16
                                  icon:
                                    name: mdi:fridge
                                    x: 27000
                                    'y': 26000
                                - id: 17
                                  icon:
                                    name: mdi:bath
                                    x: 19000
                                    'y': 26000
                                - id: 19
                                  icon:
                                    name: mdi:airballoon
                                    x: 24550
                                    'y': 22100
                                - id: 20
                                  icon:
                                    name: mdi:bed-king
                                    x: 15000
                                    'y': 21000
                                - id: 21
                                  icon:
                                    name: mdi:bed-single
                                    x: 28000
                                    'y': 22100
                                - id: 22
                                  icon:
                                    name: mdi:bunk-bed
                                    x: 29700
                                    'y': 27200
                                - id: 23
                                  icon:
                                    name: mdi:airballoon
                                    x: 27500
                                    'y': 28000
                            - template: vacuum_clean_zone
                            - template: vacuum_goto
                          map_locked: true
                          two_finger_pan: false
                          tiles: []
                          icons:
                            - icon: mdi:play
                              conditions:
                                - entity: vacuum.robomac
                                  value_not: cleaning
                                - entity: vacuum.robomac
                                  value_not: error
                                - entity: vacuum.robomac
                                  value_not: returning
                              tooltip: Start
                              tap_action:
                                action: call-service
                                service: vacuum.start
                                service_data:
                                  entity_id: vacuum.robomac
                            - icon: mdi:pause
                              conditions:
                                - entity: vacuum.robomac
                                  value_not: docked
                                - entity: vacuum.robomac
                                  value_not: idle
                                - entity: vacuum.robomac
                                  value_not: error
                                - entity: vacuum.robomac
                                  value_not: paused
                              tooltip: Pause
                              tap_action:
                                action: call-service
                                service: vacuum.pause
                                service_data:
                                  entity_id: vacuum.robomac
                            - icon: mdi:stop
                              conditions:
                                - entity: vacuum.robomac
                                  value_not: docked
                                - entity: vacuum.robomac
                                  value_not: idle
                                - entity: vacuum.robomac
                                  value_not: error
                                - entity: vacuum.robomac
                                  value_not: paused
                              tooltip: Stop
                              tap_action:
                                action: call-service
                                service: vacuum.stop
                                service_data:
                                  entity_id: vacuum.robomac
                            - icon: mdi:home-map-marker
                              conditions:
                                - entity: vacuum.robomac
                                  value_not: docked
                                - entity: vacuum.robomac
                                  value_not: returning
                              tooltip: Return to base
                              tap_action:
                                action: call-service
                                service: vacuum.return_to_base
                                service_data:
                                  entity_id: vacuum.robomac
                            - icon: mdi:target-variant
                              conditions:
                                - entity: vacuum.robomac
                                  value_not: docked
                                - entity: vacuum.robomac
                                  value_not: error
                                - entity: vacuum.robomac
                                  value_not: cleaning
                                - entity: vacuum.robomac
                                  value_not: returning
                              tooltip: Clean spot
                              tap_action:
                                action: call-service
                                service: vacuum.clean_spot
                                service_data:
                                  entity_id: vacuum.robomac
                            - icon: mdi:map-marker
                              tooltip: Locate
                              tap_action:
                                action: call-service
                                service: vacuum.locate
                                service_data:
                                  entity_id: vacuum.robomac
                            - menu_id: fan_speed
                              icon: mdi:fan-off
                              label: 'Off'
                              conditions:
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value: 'off'
                              tooltip: Change fan speed
                              tap_action:
                                action: call-service
                                service: vacuum.set_fan_speed
                                service_data:
                                  entity_id: vacuum.robomac
                                  fan_speed: 'off'
                            - menu_id: fan_speed
                              icon: mdi:fan
                              label: Quiet
                              conditions:
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value: quiet
                              tooltip: Change fan speed
                              tap_action:
                                action: call-service
                                service: vacuum.set_fan_speed
                                service_data:
                                  entity_id: vacuum.robomac
                                  fan_speed: quiet
                            - menu_id: fan_speed
                              icon: mdi:fan-speed-1
                              label: Balanced
                              conditions:
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value: balanced
                              tooltip: Change fan speed
                              tap_action:
                                action: call-service
                                service: vacuum.set_fan_speed
                                service_data:
                                  entity_id: vacuum.robomac
                                  fan_speed: balanced
                            - menu_id: fan_speed
                              icon: mdi:fan-speed-2
                              label: Turbo
                              conditions:
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value: turbo
                              tooltip: Change fan speed
                              tap_action:
                                action: call-service
                                service: vacuum.set_fan_speed
                                service_data:
                                  entity_id: vacuum.robomac
                                  fan_speed: turbo
                            - menu_id: fan_speed
                              icon: mdi:fan-speed-3
                              label: Max
                              conditions:
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value: max
                              tooltip: Change fan speed
                              tap_action:
                                action: call-service
                                service: vacuum.set_fan_speed
                                service_data:
                                  entity_id: vacuum.robomac
                                  fan_speed: max
                            - menu_id: fan_speed
                              icon: mdi:fan-alert
                              label: Max Plus
                              conditions:
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value: max_plus
                              tooltip: Change fan speed
                              tap_action:
                                action: call-service
                                service: vacuum.set_fan_speed
                                service_data:
                                  entity_id: vacuum.robomac
                                  fan_speed: max_plus
                            - icon: mdi:fan-alert
                              conditions:
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value_not: 'off'
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value_not: quiet
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value_not: balanced
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value_not: turbo
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value_not: max
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value_not: custom
                                - entity: vacuum.robomac
                                  attribute: fan_speed
                                  value_not: max_plus
                              tooltip: Change fan speed
                              tap_action:
                                action: call-service
                                service: vacuum.set_fan_speed
                                service_data:
                                  entity_id: vacuum.robomac
                                  fan_speed: 'off'
                            - type: menu
                              menu_id: water_box_mode
                              icon_id: water_box_mode
                              available_values_attribute: options
                              icon: mdi:water
                              icon_mapping:
                                'off': mdi:water-off
                                mild: mdi:water-minus
                                moderate: mdi:water
                                intense: mdi:water-plus
                                custom: mdi:water-sync
                              tap_action:
                                action: call-service
                                service: select.select_option
                                service_data:
                                  option: '[[value]]'
                                  entity_id: '[[entity_id]]'
                              entity: select.roborock_qrevo_s_mop_intensity
                            - type: menu
                              menu_id: mop_mode
                              icon_id: mop_mode
                              available_values_attribute: options
                              icon: mdi:water
                              icon_mapping:
                                standard: mdi:wifi-strength-2
                                deep: mdi:wifi-strength-3
                                deep_plus: mdi:wifi-strength-4
                                custom: mdi:wifi-strength-4-alert
                              tap_action:
                                action: call-service
                                service: select.select_option
                                service_data:
                                  option: '[[value]]'
                                  entity_id: '[[entity_id]]'
                              entity: select.roborock_qrevo_s_route
                            - icon: mdi:wrench
                              tap_action:
                                action: navigate
                                navigation_path: '#robomac'
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          entity: vacuum.robomac
                          name: Status
                          show_state: true
                          button_action:
                            tap_action:
                              action: none
                          sub_button:
                            - entity: sensor.roborock_qrevo_s_battery
                              show_state: true
                              state_background: false
                              name: Battery
                              tap_action:
                                action: none
                          styles: |-
                            .bubble-button-background {
                              opacity: 0 !important;
                              background-color: none !important;
                            }
                            .bubble-sub-button {
                              background-color: rgba(0,0,0,0);
                            }
                            .bubble-icon-container {
                              background: var(--google-pink) !important;
                            }
                            .bubble-icon {
                              opacity: 1 !important;
                              color: var(--primary-font-color) !important;
                            }
                            .bubble-sub-button-1 {
                              background-color: ${hass.states['sensor.roborock_qrevo_s_battery'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.roborock_qrevo_s_battery'].state <= 40 ? 'var(--google-orange)' : ''} !important;
                            }
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          entity: sensor.robomac_last_clean_end_2
                          name: Sensors
                          show_state: false
                          icon: mdi:wrench
                          button_action:
                            tap_action:
                              action: none
                          sub_button:
                            - entity: sensor.robomac_filter
                              show_state: true
                              state_background: false
                              tap_action:
                                action: none
                            - entity: sensor.robomac_side_brush
                              show_state: true
                            - entity: sensor.robomac_brush
                              show_state: true
                            - entity: sensor.robomac_dirt_sensor
                              show_state: true
                          styles: |-
                            .bubble-button-background {
                              opacity: 0 !important;
                              background-color: none !important;
                            }
                            .bubble-icon-container {
                              background: var(--google-pink) !important;
                            }
                            .bubble-icon {
                              opacity: 1 !important;
                              color: var(--primary-font-color) !important;
                            }
                            .bubble-sub-button {
                              background-color: rgba(0,0,0,0);
                            }
                            .bubble-sub-button-1 {
                              background-color: ${hass.states['sensor.robomac_filter'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_filter'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_filter'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.robomac_filter'].state <= 40 ? '' : 'none' } !important;
                            }
                            .bubble-sub-button-2 {
                              background-color: ${hass.states['sensor.robomac_side_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_side_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_side_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.robomac_side_brush'].state <= 40 ? '' : 'none' } !important;
                            }
                            .bubble-sub-button-3 {
                              background-color: ${hass.states['sensor.robomac_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.robomac_brush'].state <= 40 ? '' : 'none' } !important;
                            }
                            .bubble-sub-button-4 {
                              background-color: ${hass.states['sensor.robomac_dirt_sensor'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_dirt_sensor'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_dirt_sensor'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.robomac_dirt_sensor'].state <= 40 ? '' : 'none' } !important;
                            }
                        - type: custom:bubble-card
                          card_type: button
                          card_layout: large
                          entity: sensor.robomac_last_clean_end_2
                          name: Last Clean
                          show_state: true
                          button_action:
                            tap_action:
                              action: none
                          styles: |-
                            .bubble-button-background {
                              opacity: 0 !important;
                              background-color: none !important;
                            }
                            .bubble-button-container {
                              opacity: 0 !important;
                              background-color: none !important;
                            }
                            .bubble-sub-button {
                              background-color: rgba(0,0,0,0);
                            }
                            .bubble-icon-container {
                              opacity: 1 !important;
                              background: var(--google-pink) !important;
                            }
                            .bubble-icon {
                              opacity: 1 !important;
                              color: var(--primary-font-color) !important;
                            }
                    - type: vertical-stack
                      card_mod:
                        style: |
                          ha-card {
                            border-radius: var(--border-radius);
                            background-color: rgba(0,0,0,0);
                            box-shadow: none;
                          }
                      cards:
                        - type: custom:xiaomi-vacuum-map-card
                          card_mod:
                            style: |
                              ha-card {
                                border-radius: var(--border-radius);
                                background-color: rgba(0,0,0,0);
                                box-shadow: none;
                                --map-card-small-radius: 20px;
                                --map-card-primary-color: rgba(var(--color-pink),1.0);
                                --map-card-secondary-color: rgba(var(--color-pink),0.4);
                                --map-card-zoomer-background: rgba(var(--color-grey),0.05);
                                --map-card-room-icon-color: rgb(var(--color-grey));
                                --map-card-room-icon-color-selected: (var(--primary-font-color));
                                --map-card-predefined-point-icon-color: rgb(var(--color-grey));
                                --map-card-predefined-point-icon-color-selected: rgb(var(--color-pink));
                              }
                          entity: vacuum.rumpusmac
                          map_source:
                            camera: camera.xiaomi_cloud_map_extractor
                            crop:
                              top: 95
                              bottom: 75
                              right: 80
                              left: 20
                          append_tiles: false
                          append_icons: true
                          map_locked: true
                          tiles: []
                          calibration_source:
                            camera: true
                          icons:
                            - icon: mdi:wrench
                              tap_action:
                                action: navigate
                                navigation_path: '#rumpusmac'
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          entity: vacuum.rumpusmac
                          name: Status
                          show_state: true
                          button_action:
                            tap_action:
                              action: none
                          sub_button:
                            - entity: sensor.rumpusmac
                              show_state: true
                              state_background: false
                              name: Battery
                              tap_action:
                                action: none
                          styles: |-
                            .bubble-button-background {
                              opacity: 0 !important;
                              background-color: none !important;
                            }
                            .bubble-sub-button {
                              background-color: rgba(0,0,0,0);
                            }
                            .bubble-icon-container {
                              background: var(--google-pink) !important;
                            }
                            .bubble-icon {
                              opacity: 1 !important;
                              color: var(--primary-font-color) !important;
                            }
                            .bubble-sub-button-1 {
                              background-color: ${hass.states['sensor.rumpusmac'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac'].state <= 40 ? 'var(--google-orange)' : ''} !important;
                            }
                        - type: custom:bubble-card
                          card_type: button
                          card_layout: large
                          entity: sensor.rumpusmac_brush
                          name: Sensors
                          icon: mdi:wrench
                          show_state: false
                          button_action:
                            tap_action:
                              action: none
                          sub_button:
                            - entity: sensor.rumpusmac_filter
                              show_state: true
                              state_background: false
                              name: ''
                              tap_action:
                                action: none
                            - entity: sensor.rumpusmac_side_brush
                              show_state: true
                            - entity: sensor.rumpusmac_brush
                              show_state: true
                            - entity: sensor.rumpusmac_dirt_sensor
                              show_state: true
                          styles: |-
                            .bubble-button-background {
                              opacity: 0 !important;
                              background-color: none !important;
                            }
                            .bubble-sub-button {
                              background-color: rgba(0,0,0,0);
                            }
                            .bubble-icon-container {
                              background: var(--google-pink) !important;
                            }
                            .bubble-icon {
                              opacity: 1 !important;
                              color: var(--primary-font-color) !important;
                            }
                            .bubble-sub-button-1 {
                              background-color: ${hass.states['sensor.rumpusmac_filter'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_filter'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_filter'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.rumpusmac_filter'].state <= 40 ? '' : 'none' } !important;
                            }
                            .bubble-sub-button-2 {
                              background-color: ${hass.states['sensor.rumpusmac_side_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_side_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_side_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.rumpusmac_side_brush'].state <= 40 ? '' : 'none' } !important;
                            }
                            .bubble-sub-button-3 {
                              background-color: ${hass.states['sensor.rumpusmac_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.rumpusmac_brush'].state <= 40 ? '' : 'none' } !important; 
                            }
                            .bubble-sub-button-4 {
                              background-color: ${hass.states['sensor.rumpusmac_dirt_sensor'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_dirt_sensor'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_dirt_sensor'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              display: ${hass.states['sensor.rumpusmac_dirt_sensor'].state <= 40 ? '' : 'none' } !important;
                            }
                        - type: custom:bubble-card
                          card_layout: large
                          card_type: button
                          entity: sensor.rumpusmac_last_clean
                          name: Last Clean
                          show_state: true
                          button_action:
                            tap_action:
                              action: none
                          styles: |-
                            .bubble-button-background {
                              opacity: 1 !important;
                              background-color: none !important;
                            }
                            .bubble-button-card-container {
                              opacity: 1 !important;
                              background-color: none !important;
                            }
                            .bubble-sub-button {
                              background-color: rgba(0,0,0,0);
                            }
                            .bubble-icon-container {
                              background: var(--google-pink) !important;
                            }
                            .bubble-icon {
                              opacity: 1 !important;
                              color: var(--primary-font-color) !important;
                            }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#robomac'
                name: Robomac Maintenance
                icon: mdi:wrench
                bg_color: var(--folder-background)
                bg_opacity: '50'
                bg_blur: '7'
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background: var(--google-pink) !important;
                              }
                              .bubble-icon {
                                color: var(--primary-font-color) !important;
                              }
                backdrop_blur: '10'
                entity: vacuum.rumpusmac
                card_layout: large
                margin_top_desktop: 0px
                margin_top_mobile: 40vh
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Press to Reset
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                entity: button.roborock_qrevo_s_reset_main_brush_consumable
                card_layout: large
                name: Main Brush
                icon: phu:vac_mbrush
                sub_button:
                  - entity: sensor.robomac_brush
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.robomac_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                                color: var(--primary-font-color) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: button.roborock_qrevo_s_reset_side_brush_consumable
                card_layout: large
                name: Side Brush
                icon: phu:vac_sbrush
                sub_button:
                  - entity: sensor.robomac_side_brush
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.robomac_side_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_side_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_side_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                                color: var(--primary-font-color) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: button.roborock_qrevo_s_reset_filter_consumable
                card_layout: large
                name: Filter
                icon: phu:vac_filter
                sub_button:
                  - entity: sensor.robomac_filter
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.robomac_filter'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_filter'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_filter'].state <= 100 ? 'var(--google-green)' : ''} !important;
                                color: var(--primary-font-color) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: button.roborock_qrevo_s_reset_sensor_consumable
                card_layout: large
                name: Sensors
                icon: mdi:signal-variant
                sub_button:
                  - entity: sensor.robomac_dirt_sensor
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.robomac_dirt_sensor'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.robomac_dirt_sensor'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.robomac_dirt_sensor'].state <= 100 ? 'var(--google-green)' : ''} !important;
                                color: var(--primary-font-color) !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                show_state: false
                force_icon: false
                modules:
                  - default
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#rumpusmac'
                name: Rumpusmac Maintenance
                icon: mdi:wrench
                bg_color: var(--folder-background)
                bg_opacity: '50'
                bg_blur: '7'
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background: var(--google-pink) !important;
                              }
                              .bubble-icon {
                                color: var(--primary-font-color) !important;
                              }
                backdrop_blur: '10'
                entity: vacuum.rumpusmac
                card_layout: large
                margin_top_desktop: 0px
                margin_top_mobile: 40vh
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Press to Reset
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                entity: button.robomac_reset_main_brush
                card_layout: large
                name: Main Brush
                icon: phu:vac_mbrush
                sub_button:
                  - entity: sensor.rumpusmac_brush
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.rumpusmac_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: button.robomac_reset_side_brush
                card_layout: large
                name: Side Brush
                icon: phu:vac_sbrush
                sub_button:
                  - entity: sensor.rumpusmac_side_brush
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.rumpusmac_side_brush'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_side_brush'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_side_brush'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: button.robomac_reset_filter
                card_layout: large
                name: Filter
                icon: phu:vac_filter
                sub_button:
                  - entity: sensor.rumpusmac_filter
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.rumpusmac_filter'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_filter'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_filter'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: button.robomac_reset_sensor_dirty
                card_layout: large
                name: Sensors
                icon: mdi:signal-variant
                sub_button:
                  - entity: sensor.rumpusmac_dirt_sensor
                    show_state: true
                    show_icon: false
                    show_attribute: false
                    tap_action:
                      action: none
                styles: |2-
                              .bubble-button-background {
                                opacity: 0 !important;
                                background-color: none !important;
                              }
                              .bubble-sub-button {
                                background-color: rgba(0,0,0,0);
                              }
                              .bubble-icon-container {
                                background-color: ${hass.states['sensor.rumpusmac_dirt_sensor'].state <= 20 ? 'var(--google-red)' : hass.states['sensor.rumpusmac_dirt_sensor'].state <= 40 ? 'var(--google-orange)' : hass.states['sensor.rumpusmac_dirt_sensor'].state <= 100 ? 'var(--google-green)' : ''} !important;
                              }
                              .bubble-icon {
                                color: var(--card-background-color) !important;
                              }
                tap_action:
                  action: toggle
                show_state: false
                force_icon: false
                modules:
                  - default
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px)  {
                  ha-card  {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    left: 10px;
                    width: calc(100% - 20px);
                    background-color: var(--dock-background);
                    border-radius: 36px;
                    -webkit-backdrop-filter: blur(10px) !important;
                    backdrop-filter: blur(10px) !important;
                    transform: translate3d(0, 0, 0);
                    padding: 5px;
                    box-shadow: 0px -5px 10px rgba(0, 0, 0, 0.1);
                  }
                }
                @media (min-width:480px)  {
                  ha-card  {
                    width: calc(60% - 30px);
                    left: calc(20% - 15px);
                  }
                }
            card:
              type: grid
              square: false
              columns: 6
              cards:
                - type: custom:button-card
                  icon: mdi:home-variant-outline
                  tap_action:
                    action: navigate
                    navigation_path: /dashboard-nextgen
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - border-radius: 100%
                      - padding: 0px
                - type: custom:button-card
                  icon: mdi:home-thermometer-outline
                  tap_action:
                    action: navigate
                    navigation_path: climate
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:shield-outline
                  entity: alarm_control_panel.homebase
                  show_name: false
                  show_state: false
                  tap_action:
                    action: navigate
                    navigation_path: security
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                  state:
                    - value: disarmed
                      icon: mdi:shield-off-outline
                    - value: armed_away
                      icon: mdi:shield-lock-outline
                - type: custom:button-card
                  icon: mdi:vacuum
                  tap_action:
                    action: navigate
                    navigation_path: robomac
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--card-background-color)
                    img_cell:
                      - width: 50px
                      - height: 50px
                      - color: var(--google-pink)
                    card:
                      - background: var(--google-pink)
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:music-circle-outline
                  tap_action:
                    action: navigate
                    navigation_path: sonos
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:cog-outline
                  tap_action:
                    action: navigate
                    navigation_path: settings
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
  - title: Sonos
    path: '#sonos'
    icon: phu:sonos-one
    theme: nextgen-mobile
    type: sections
    sections:
      - type: grid
        cards: []
  - title: Testing
    path: testing
    type: sections
    sections:
      - type: grid
        cards:
          - type: heading
            heading: New section
          - type: horizontal-stack
            cards:
              - type: custom:mod-card
                style:
                  swipe-card$: |
                    .swiper-container {
                      margin: 0 0 0 0 !important;
                      padding-bottom: 42px !important;
                      magin-top: -40px !important;
                    }
                    .swiper-pagination-bullets>span {
                      background: var(--google-ha-blue); /* <---- */
                    }
                card:
                  type: custom:swipe-card
                  parameters:
                    slidesPerView: '1.05'
                    spaceBetween: 8
                    pagination:
                      type: bullets
                      hide: false
                      draggable: true
                      snapOnRelease: true
                  cards:
                    - type: custom:button-card
                      aspect_ratio: 1/1
                      size: 60%
                      entity: light.lounge_lamp
                      name: Lounge Room
                      icon: mdi:sofa-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#lounge'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 32px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/sebs_room.jpeg");
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-yellow)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 7px
                            - border-radius: none
                            - align-items: end
                            - height: 100%
                            - margin-bottom: '-5px'
                      custom_fields:
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                @media (min-width:180px)  {
                                  ha-card  {;
                                    background-color: rgba(var(--color-background),0.7);
                                    border-radius: 36px;
                                    -webkit-backdrop-filter: blur(10px) !important;
                                    backdrop-filter: blur(10px) !important;
                                    transform: translate3d(0, 0, 0);
                                  }
                                }
                                @media (min-width:480px)  {
                                  ha-card  {
                                    width: calc(60% - 30px);
                                    left: calc(20% - 15px);
                                  }
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  icon: mdi:home-variant-outline
                                  tap_action:
                                    action: navigate
                                    navigation_path: /dashboard-nextgen
                                  styles:
                                    icon:
                                      - width: 30px
                                      - color: var(--primary-text-color)
                                      - opacity: 30%
                                    img_cell:
                                      - width: 50px
                                      - height: 50px
                                    card:
                                      - background: none
                                      - box-shadow: none
                                      - border-radius: 100%
                                      - padding: 0px
                                - type: custom:button-card
                                  icon: mdi:home-thermometer-outline
                                  tap_action:
                                    action: navigate
                                    navigation_path: climate
                                  styles:
                                    icon:
                                      - width: 30px
                                      - color: var(--primary-text-color)
                                      - opacity: 30%
                                    img_cell:
                                      - width: 50px
                                      - height: 50px
                                    card:
                                      - background: none
                                      - box-shadow: none
                                      - padding: 0px
                                      - border-radius: 100%
                                - type: custom:button-card
                                  icon: mdi:shield-outline
                                  entity: alarm_control_panel.homebase
                                  show_name: false
                                  show_state: false
                                  tap_action:
                                    action: navigate
                                    navigation_path: security
                                  styles:
                                    icon:
                                      - width: 30px
                                      - color: var(--secondary-text-color)
                                      - opacity: 30%
                                    img_cell:
                                      - width: 50px
                                      - height: 50px
                                    card:
                                      - background: none
                                      - box-shadow: none
                                      - padding: 0px
                                      - border-radius: 100%
                                  state:
                                    - value: disarmed
                                      icon: mdi:shield-off-outline
                                    - value: armed_away
                                      icon: mdi:shield-lock-outline
                                - type: custom:button-card
                                  icon: mdi:vacuum-outline
                                  tap_action:
                                    action: navigate
                                    navigation_path: robomac
                                  styles:
                                    icon:
                                      - width: 30px
                                      - color: var(--primary-text-color)
                                      - opacity: 30%
                                    img_cell:
                                      - width: 50px
                                      - height: 50px
                                    card:
                                      - background: none
                                      - box-shadow: none
                                      - padding: 0px
                                      - border-radius: 100%
                    - type: custom:button-card
                      aspect_ratio: 1/1
                      size: 60%
                      entity: sensor.bedroom_sensor_temperature
                      name: Main Bedroom
                      icon: mdi:bed-king-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#main-bedroom'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/sebs_room.jpeg");
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-green)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                          chip:
                            - justify-self: end
                            - margin-top: '-15px'
                            - margin-bottom: 0px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        chip:
                          card:
                            type: custom:button-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background-color: var(--folder-background);
                                  backdrop-filter: blur(2px) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                }
                            show_name: false
                            show_state: true
                            entity: sensor.bedroom_sensor_temperature
                            styles:
                              grid:
                                - grid-template-areas: '"i s"'
                              card:
                                - padding: 4px
                                - border-radius: 24px
                              img_cell:
                                - width: 40px
                                - height: 40px
                                - background: var(--google-green)
                                - border-radius: 100%
                              icon:
                                - width: 20px
                                - height: 30px
                                - color: var(--primary-theme)
                              state:
                                - color: var(--primary--font-color)
                                - font-size: 14px
                                - font-weight: 200
                                - padding: 0 10px
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.ben_lamp
                                  icon: mdi:lamp-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.bedroom_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: binary_sensor.bedroom_sliding_door
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.bedroom_google_home
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: white
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: white
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                    - type: custom:button-card
                      aspect_ratio: 1/1
                      size: 60%
                      entity: sensor.girls_sensor_temperature
                      name: Girl's Bedroom
                      icon: mdi:bed-double-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#girls-bedroom'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/Kids_Room.png");
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-pink)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                          chip:
                            - justify-self: end
                            - margin-top: '-15px'
                            - margin-bottom: 0px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        chip:
                          card:
                            type: custom:button-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background-color: var(--folder-background);
                                  backdrop-filter: blur(2px) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                }
                            show_name: false
                            show_state: true
                            entity: sensor.girls_sensor_temperature
                            styles:
                              grid:
                                - grid-template-areas: '"i s"'
                              card:
                                - padding: 4px
                                - border-radius: 24px
                              img_cell:
                                - width: 40px
                                - height: 40px
                                - background: var(--google-pink)
                                - border-radius: 100%
                              icon:
                                - width: 20px
                                - height: 30px
                                - color: var(--primary-theme)
                              state:
                                - color: var(--primary--font-color)
                                - font-size: 14px
                                - font-weight: 200
                                - padding: 0 10px
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.girls_room_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.bedtime
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.elaine
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.kids_google_home
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                    - type: custom:button-card
                      aspect_ratio: 1/1
                      size: 60%
                      entity: sensor.sebs_sensor_temperature
                      name: Seb's Bedroom
                      icon: mdi:bed-single-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#seb-bedroom'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/sebs_room.jpeg");
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-blue)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                          chip:
                            - justify-self: end
                            - margin-top: '-15px'
                            - margin-bottom: 0px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        chip:
                          card:
                            type: custom:button-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background-color: var(--folder-background);
                                  backdrop-filter: blur(2px) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                }
                            show_name: false
                            show_state: true
                            entity: sensor.sebs_sensor_temperature
                            styles:
                              grid:
                                - grid-template-areas: '"i s"'
                              card:
                                - padding: 4px
                                - border-radius: 24px
                              img_cell:
                                - width: 40px
                                - height: 40px
                                - background: var(--google-blue)
                                - border-radius: 100%
                              icon:
                                - width: 20px
                                - height: 30px
                                - color: var(--primary-theme)
                              state:
                                - color: var(--primary--font-color)
                                - font-size: 14px
                                - font-weight: 200
                                - padding: 0 10px
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.sebs_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.boys_bedtime
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.elaine2
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.boys_google_home
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
          - type: custom:state-switch
            entity: camera.living_room
            default: idle
            states:
              idle:
                type: picture-elements
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 36px;
                    }
                image: /local/Lounge Camera.png
                camera_view: live
                tap_action:
                  action: more-info
                elements:
                  - type: custom:mod-card
                    style:
                      top: 84%
                      left: 50%
                      width: 96%
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 36px;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: camera.living_room
                      force_icon: true
                      show_attribute: true
                      button_action:
                        tap_action:
                          action: none
                      card_layout: normal
                      sub_button:
                        - entity: sensor.living_room_battery_percentage
                          show_state: true
                        - entity: camera.living_room
                          icon: mdi:play
                          tap_action:
                            action: call-service
                            service: camera.turn_on
                            target:
                              entity_id: camera.living_room
                        - entity: camera.living_room
                          icon: mdi:chevron-double-left
                          tap_action:
                            action: none
                        - entity: camera.living_room
                          icon: mdi:stop
                          tap_action:
                            action: call-service
                            service: camera.turn_off
                            target:
                              entity_id: camera.living_room
                      styles: |-
                        .bubble-button-card {
                          opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--card-background-color) !important;
                          opacity: 1.0 !important;
                        }
                        .bubble-icon-container {
                          background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }
                        .bubble-sub-button-container {
                          background: none !important;
                        }
                        .bubble-sub-button-1 {
                          background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                          display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                        }
                        .bubble-sub-button-2{
                          border-radius: 32px 0px 0px 32px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-sub-button-3{
                          border-radius: 0px;
                          margin-left: -8px;
                          margin-right: -8px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-sub-button-4{
                          border-radius: 0px 32px 32px 0px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .is-on .bubble-icon {
                          filter: brightness(1.0);
                          opacity: 1;
                        }
              streaming:
                type: picture-elements
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 36px;
                    }
                camera_image: camera.living_room
                image: /local/Lounge Camera.png
                camera_view: live
                tap_action:
                  action: more-info
                elements:
                  - type: custom:button-card
                    style:
                      top: 10%
                      left: 10%
                      width: 20%
                    show_name: true
                    show_state: false
                    name: Live
                    entity: camera.living_room
                    layout: icon_name
                    icon: mdi:record
                    styles:
                      card:
                        - border-radius: 24px
                        - border-style: none
                        - width: 120%
                        - background-color: rgba(0,0,0,0)
                      img_cell:
                        - width: 40px
                        - height: 20px
                        - background: none
                        - border-radius: 100%
                      icon:
                        - width: 20px
                        - color: var(--google-red)
                        - top: '-2px'
                      name:
                        - color: var(--primary--font-color)
                        - font-size: 10px
                        - justify-self: start
                  - type: custom:mod-card
                    style:
                      top: 84%
                      left: 50%
                      width: 96%
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 36px;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: camera.living_room
                      force_icon: true
                      show_attribute: true
                      button_action:
                        tap_action:
                          action: none
                      card_layout: normal
                      sub_button:
                        - entity: sensor.living_room_battery_percentage
                          show_state: true
                        - entity: camera.living_room
                          icon: mdi:play
                          tap_action:
                            action: call-service
                            service: camera.turn_on
                            target:
                              entity_id: camera.living_room
                        - entity: camera.living_room
                          icon: mdi:chevron-double-right
                          tap_action:
                            action: none
                        - entity: camera.living_room
                          icon: mdi:stop
                          tap_action:
                            action: call-service
                            service: camera.turn_off
                            target:
                              entity_id: camera.living_room
                      styles: |-
                        .bubble-button-card {
                          opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--card-background-color) !important;
                          opacity: 1.0 !important;
                        }
                        .bubble-icon-container {
                          background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }
                        .bubble-sub-button-container {
                          background: none !important;
                        }
                        .bubble-sub-button-1 {
                          background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                          display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                        }
                        .bubble-sub-button-2{
                          border-radius: 32px 0px 0px 32px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-sub-button-3{
                          border-radius: 0px;
                          margin-left: -8px;
                          margin-right: -8px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-sub-button-4{
                          border-radius: 0px 32px 32px 0px;
                          background-color: rgba(var(--color-background),0.6);
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .is-on .bubble-icon {
                          filter: brightness(1.0);
                          opacity: 1;
                        }
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 1/1
                size: 50%
                entity: alarm_control_panel.homebase
                name: Security
                icon: mdi:security
                show_state: true
                styles:
                  card:
                    - border-radius: 30px
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 14px
                    - font-weight: 600
                    - color: black
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 12px
                    - color: black
                  img_cell:
                    - height: 55px
                    - width: 55px
                    - background-color: white
                    - border-radius: 50%
                    - margin-top: '-5px'
                    - margin-left: 5px
                  grid:
                    - grid-template-areas: >-
                        "i blank blank" "i blank blank" "n n n" "s s s" "buttons
                        buttons buttons" "buttons buttons buttons"
                    - grid-template-columns: 1fr 1fr 1fr
                    - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr
                  custom_fields:
                    buttons:
                      - margin-top: 10px
                      - margin-bottom: 10px
                      - background-color: none
                      - margin-left: 5px
                      - margin-right: 5px
                      - border-radius: none
                      - height: 100%
                state:
                  - value: disarmed
                    styles:
                      card:
                        - background-color: var(--google-green)
                      icon:
                        - color: var(--primary-theme)
                  - value: armed_away
                    styles:
                      card:
                        - background-color: var(--google-red)
                      icon:
                        - color: var(--primary-theme)
                custom_fields:
                  buttons:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card  {
                            background: rgba(var(--color-background),0.5);
                            border-radius: 30px;
                            height: 100%;
                            padding-right: 10px;
                          }
                      card:
                        type: grid
                        square: false
                        columns: 3
                        cards:
                          - type: custom:button-card
                            entity: alarm_control_panel.homebase
                            show_name: false
                            aspect_ratio: 1/1
                            icon: mdi:shield-off-outline
                            tap_action:
                              action: call-service
                              service: alarm_control_panel.alarm_disarm
                              data:
                                entity_id: alarm_control_panel.homebase
                            styles:
                              icon:
                                - width: 28px
                                - color: white
                              card:
                                - background: black
                                - box-shadow: none
                                - padding: 0px
                                - border-radius: 50%
                                - margin-top: 5px
                                - margin-left: 5px
                                - margin-bottom: 5px
                                - margin-right: 5px
                                - height: 95%
                            state:
                              - value: disarmed
                                styles:
                                  card:
                                    - background-color: black
                                  icon:
                                    - color: white
                              - value: armed_away
                                styles:
                                  card:
                                    - background-color: var(--card-background-color)
                                    - opacity: 0.6
                                  icon:
                                    - color: var(--primary-theme)
                          - type: custom:button-card
                            aspect_ratio: 1/1
                            icon: mdi:chevron-double-right
                            entity: alarm_control_panel.homebase
                            show_name: false
                            tap_action:
                              action: none
                            styles:
                              icon:
                                - width: 20px
                                - color: black
                              card:
                                - background: none
                                - box-shadow: none
                                - padding: 0px
                                - border-radius: 50%
                                - margin-top: 5px
                                - margin-left: 5px
                                - margin-bottom: 5px
                                - margin-right: 5px
                                - height: 95%
                            state:
                              - value: disarmed
                                icon: mdi:chevron-double-right
                              - value: armed_away
                                icon: mdi:chevron-double-left
                          - type: custom:button-card
                            aspect_ratio: 1/1
                            icon: mdi:shield-outline
                            entity: alarm_control_panel.homebase
                            show_name: false
                            tap_action:
                              action: call-service
                              service: alarm_control_panel.alarm_arm_away
                              data:
                                entity_id: alarm_control_panel.homebase
                            styles:
                              icon:
                                - width: 28px
                                - color: black
                              card:
                                - background: var(--google-grey)
                                - box-shadow: none
                                - padding: 0px
                                - border-radius: 50%
                                - margin-top: 5px
                                - margin-left: 5px
                                - margin-bottom: 5px
                                - margin-right: 5px
                                - height: 95%
                                - position: null
                            state:
                              - value: armed_away
                                styles:
                                  card:
                                    - background-color: black
                                  icon:
                                    - color: white
                              - value: disarmed
                                styles:
                                  card:
                                    - background-color: var(--card-background-color)
                                    - opacity: 0.6
                                  icon:
                                    - color: var(--primary-theme)
              - type: custom:button-card
                aspect_ratio: 1/1
                size: 50%
                entity: cover.garage
                name: Garage
                show_state: true
                tap_action:
                  action: more-info
                styles:
                  card:
                    - border-radius: 30px
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 14px
                    - font-weight: 600
                    - color: black
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 12px
                    - color: black
                  img_cell:
                    - height: 55px
                    - width: 55px
                    - background-color: white
                    - border-radius: 50%
                    - margin-top: '-5px'
                    - margin-left: 5px
                  grid:
                    - grid-template-areas: >-
                        "i blank blank" "i blank blank" "n n n" "s s s" "buttons
                        buttons buttons" "buttons buttons buttons"
                    - grid-template-columns: 1fr 1fr 1fr
                    - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr
                  custom_fields:
                    buttons:
                      - margin-top: 10px
                      - margin-bottom: 10px
                      - background-color: none
                      - margin-left: 5px
                      - margin-right: 5px
                      - border-radius: none
                      - height: 100%
                state:
                  - value: closed
                    styles:
                      card:
                        - background-color: var(--google-green)
                      icon:
                        - color: var(--primary-theme)
                  - value: open
                    styles:
                      card:
                        - background-color: var(--google-red)
                      icon:
                        - color: var(--primary-theme)
                custom_fields:
                  buttons:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card  {
                            background: rgba(var(--color-background),0.5);
                            border-radius: 30px;
                            height: 100%;
                            padding-right: 10px;
                          }
                      card:
                        type: grid
                        square: false
                        columns: 3
                        cards:
                          - type: custom:button-card
                            entity: cover.garage
                            show_name: false
                            aspect_ratio: 1/1
                            icon: mdi:garage-lock
                            tap_action:
                              action: call-service
                              service: cover.close_cover
                              data:
                                entity_id: cover.garage
                            styles:
                              icon:
                                - width: 28px
                                - color: white
                              card:
                                - background: black
                                - box-shadow: none
                                - padding: 0px
                                - border-radius: 50%
                                - margin-top: 5px
                                - margin-left: 5px
                                - margin-bottom: 5px
                                - margin-right: 5px
                                - height: 95%
                            state:
                              - value: closed
                                styles:
                                  card:
                                    - background-color: black
                                  icon:
                                    - color: white
                              - value: open
                                styles:
                                  card:
                                    - background-color: var(--card-background-color)
                                    - opacity: 0.6
                                  icon:
                                    - color: var(--primary-theme)
                          - type: custom:button-card
                            aspect_ratio: 1/1
                            icon: mdi:chevron-double-up
                            entity: cover.garage
                            show_name: false
                            tap_action:
                              action: none
                            styles:
                              icon:
                                - width: 20px
                                - color: black
                              card:
                                - background: none
                                - box-shadow: none
                                - padding: 0px
                                - border-radius: 50%
                                - margin-top: 5px
                                - margin-left: 5px
                                - margin-bottom: 5px
                                - margin-right: 5px
                                - height: 95%
                            state:
                              - value: closed
                                icon: mdi:chevron-double-up
                              - value: open
                                icon: mdi:chevron-double-down
                          - type: custom:button-card
                            aspect_ratio: 1/1
                            icon: mdi:garage-open
                            entity: cover.garage
                            show_name: false
                            tap_action:
                              action: call-service
                              service: cover.open_cover
                              data:
                                entity_id: cover.garage
                            styles:
                              icon:
                                - width: 28px
                                - color: black
                              card:
                                - background: var(--google-grey)
                                - box-shadow: none
                                - padding: 0px
                                - border-radius: 50%
                                - margin-top: 5px
                                - margin-left: 5px
                                - margin-bottom: 5px
                                - margin-right: 5px
                                - height: 95%
                                - position: null
                            state:
                              - value: open
                                styles:
                                  card:
                                    - background-color: black
                                  icon:
                                    - color: white
                              - value: closed
                                styles:
                                  card:
                                    - background-color: var(--card-background-color)
                                    - opacity: 0.6
                                  icon:
                                    - color: var(--primary-theme)
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: sensor.bedroom_sensor_temperature
            name: Main Bedroom
            icon: mdi:bed-king-outline
            show_state: true
            tap_action:
              action: navigate
              navigation_path: '#main-bedroom'
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#main-bedroom'
            styles: |-
              .bubble-button-card {
                opacity: 1.0;
                background: rgba(0,0,0,0.1) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
              }
              .bubble-button-card-container {
                background-color: rgba(0,0,0,0) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                filter: blur(50%) !important;
              }
              .bubble-button-background {
                background-color: var(--card-background-color) !important;
                filter: blur(50%) !important;
              }
              .bubble-icon {
                color: var(--google-green) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: rgba(0,0,0,0) !important;
                border-style: solid !important;
                border-width: 2px;
                color: var(--google-green) !important;
              }
              .bubble-name {
                font-size: auto !important;
              }

              .bubble-sub-button-1{
                background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-2{
                background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-3{
                background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-4{
                background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
              }
            sub_button:
              - entity: light.ben_lamp
                state_background: false
                show_background: false
                tap_action:
                  action: toggle
              - entity: light.bedroom_downlights
                state_background: false
                show_background: true
                tap_action:
                  action: toggle
              - entity: binary_sensor.bedroom_sliding_door
                state_background: false
                tap_action:
                  action: more-info
              - entity: sensor.bedroom_sensor_temperature
          - type: horizontal-stack
            cards:
              - type: custom:mod-card
                style:
                  swipe-card$: |
                    .swiper-container {
                      margin: 0 0 0 0 !important;
                      padding-bottom: 35px !important;
                      magin-top: -40px !important;
                    }
                    .swiper-pagination-bullets>span {
                      background: var(--google-ha-blue); /* <---- */
                    }
                card:
                  type: custom:swipe-card
                  parameters:
                    slidesPerView: '1.05'
                    spaceBetween: 8
                    pagination:
                      type: bullets
                      hide: false
                      draggable: true
                      snapOnRelease: true
                  cards:
                    - type: custom:button-card
                      aspect_ratio: 1/1.1
                      size: 60%
                      entity: light.lounge_lamp
                      name: Lounge Room
                      icon: mdi:sofa-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#lounge'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/Living_Room.png")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-yellow)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.lounge_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.lounge_lamp
                                  icon: mdi:lamp-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: binary_sensor.balcony_door
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.lounge_room_sonos
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: white
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: white
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                    - type: custom:button-card
                      aspect_ratio: 1/1.1
                      size: 60%
                      entity: sensor.bedroom_sensor_temperature
                      name: Main Bedroom
                      icon: mdi:bed-king-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#main-bedroom'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/bedroom_2.jpeg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-green)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                          chip:
                            - justify-self: end
                            - margin-top: '-15px'
                            - margin-bottom: 0px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        chip:
                          card:
                            type: custom:button-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background-color: var(--folder-background);
                                  backdrop-filter: blur(2px) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                }
                            show_name: false
                            show_state: true
                            entity: sensor.bedroom_sensor_temperature
                            styles:
                              grid:
                                - grid-template-areas: '"i s"'
                              card:
                                - padding: 4px
                                - border-radius: 24px
                              img_cell:
                                - width: 40px
                                - height: 40px
                                - background: var(--google-green)
                                - border-radius: 100%
                              icon:
                                - width: 20px
                                - height: 30px
                                - color: var(--primary-theme)
                              state:
                                - color: var(--primary--font-color)
                                - font-size: 14px
                                - font-weight: 200
                                - padding: 0 10px
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.ben_lamp
                                  icon: mdi:lamp-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.bedroom_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: binary_sensor.bedroom_sliding_door
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.bedroom_google_home
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: white
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: white
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                    - type: custom:button-card
                      aspect_ratio: 1/1.1
                      size: 60%
                      entity: sensor.girls_sensor_temperature
                      name: Girl's Bedroom
                      icon: mdi:bed-double-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#girls-bedroom'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/Kids_Room.png")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-pink)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                          chip:
                            - justify-self: end
                            - margin-top: '-15px'
                            - margin-bottom: 0px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        chip:
                          card:
                            type: custom:button-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background-color: var(--folder-background);
                                  backdrop-filter: blur(2px) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                }
                            show_name: false
                            show_state: true
                            entity: sensor.girls_sensor_temperature
                            styles:
                              grid:
                                - grid-template-areas: '"i s"'
                              card:
                                - padding: 4px
                                - border-radius: 24px
                              img_cell:
                                - width: 40px
                                - height: 40px
                                - background: var(--google-pink)
                                - border-radius: 100%
                              icon:
                                - width: 20px
                                - height: 30px
                                - color: var(--primary-theme)
                              state:
                                - color: var(--primary--font-color)
                                - font-size: 14px
                                - font-weight: 200
                                - padding: 0 10px
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.girls_room_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.bedtime
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.elaine
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.kids_google_home
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                    - type: custom:button-card
                      aspect_ratio: 1/1.1
                      size: 60%
                      entity: sensor.sebs_sensor_temperature
                      name: Seb's Bedroom
                      icon: mdi:bed-single-outline
                      tap_action:
                        action: navigate
                        navigation_path: '#seb-bedroom'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/sebs_room.jpeg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-blue)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                          chip:
                            - justify-self: end
                            - margin-top: '-15px'
                            - margin-bottom: 0px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        chip:
                          card:
                            type: custom:button-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background-color: var(--folder-background);
                                  backdrop-filter: blur(2px) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                }
                            show_name: false
                            show_state: true
                            entity: sensor.sebs_sensor_temperature
                            styles:
                              grid:
                                - grid-template-areas: '"i s"'
                              card:
                                - padding: 4px
                                - border-radius: 24px
                              img_cell:
                                - width: 40px
                                - height: 40px
                                - background: var(--google-blue)
                                - border-radius: 100%
                              icon:
                                - width: 20px
                                - height: 30px
                                - color: var(--primary-theme)
                              state:
                                - color: var(--primary--font-color)
                                - font-size: 14px
                                - font-weight: 200
                                - padding: 0 10px
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.sebs_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.boys_bedtime
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.elaine2
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.boys_google_home
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                    - type: custom:button-card
                      aspect_ratio: 1/1.1
                      size: 60%
                      entity: sensor.home_realfeel_temperature
                      name: Outdoors
                      icon: mdi:tree
                      tap_action:
                        action: navigate
                        navigation_path: '#outdoors'
                      show_state: false
                      styles:
                        card:
                          - border-radius: 30px
                          - box-shadow: var(--icon-shadow)
                          - background-image: url("/local/outdoors2.jpg")
                          - background-position: center
                          - background-size: cover
                        name:
                          - justify-self: start
                          - padding-left: 10px
                          - padding-top: 0px
                          - font-size: 16px
                          - font-weight: 600
                          - color: var(--primary-theme)
                        state:
                          - justify-self: start
                          - padding-left: 10px
                          - margin-top: '-15px'
                          - font-size: 14px
                          - color: var(--primary-font-color)
                        img_cell:
                          - height: 80px
                          - width: 70px
                          - background-color: var(--google-orange)
                          - border-radius: 100%
                          - margin-top: '-17px'
                          - margin-left: 5px
                        icon:
                          - color: var(--primary-theme)
                        grid:
                          - grid-template-areas: >-
                              "i . . . chip chip" "n n n n n n" ". . . . . ." ".
                              . . . . ." ". . . . . ." ". . . . . ." ". . . . .
                              ." ". . buttons1 buttons1 buttons1 buttons1"
                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                          - grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr
                        custom_fields:
                          buttons1:
                            - margin-top: 10px
                            - margin-bottom: 0px
                            - background-color: none
                            - margin-left: 5px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                          chip:
                            - justify-self: end
                            - margin-top: '-15px'
                            - margin-bottom: 0px
                            - margin-right: 5px
                            - border-radius: none
                            - height: 100%
                      custom_fields:
                        chip:
                          card:
                            type: custom:button-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background-color: var(--folder-background);
                                  backdrop-filter: blur(2px) !important;
                                  -webkit-backdrop-filter: blur(2px) !important;
                                }
                            show_name: false
                            show_state: true
                            entity: sensor.home_realfeel_temperature
                            styles:
                              grid:
                                - grid-template-areas: '"i s"'
                              card:
                                - padding: 4px
                                - border-radius: 24px
                              img_cell:
                                - width: 40px
                                - height: 40px
                                - background: var(--google-orange)
                                - border-radius: 100%
                              icon:
                                - width: 20px
                                - height: 30px
                                - color: var(--primary-theme)
                              state:
                                - color: var(--primary--font-color)
                                - font-size: 14px
                                - font-weight: 200
                                - padding: 0 10px
                        buttons1:
                          card:
                            type: custom:mod-card
                            card_mod:
                              style: |
                                ha-card  {
                                  background: var(--folder-background);
                                  border-radius: 30px;
                                  height: 100%;
                                  padding-right: 10px;
                                  -webkit-backdrop-filter: blur(3px) !important;
                                  backdrop-filter: blur(3px) !important;
                                }
                            card:
                              type: grid
                              square: false
                              columns: 4
                              cards:
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: light.sebs_downlights
                                  icon: mdi:lightbulb-on-outline
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.boys_bedtime
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: input_boolean.elaine2
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--secondary-text-color)
                                        icon:
                                          - color: var(--card-background-color)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                - type: custom:button-card
                                  aspect_ratio: 1/1
                                  entity: media_player.boys_google_home
                                  show_name: false
                                  styles:
                                    icon:
                                      - width: 26px
                                      - color: var(--primary-theme)
                                    card:
                                      - background: var(--card-background-color)
                                      - box-shadow: none
                                      - border: none
                                      - padding: 0px
                                      - border-radius: 50%
                                      - margin-top: 5px
                                      - margin-left: 5px
                                      - margin-bottom: 5px
                                      - margin-right: 5px
                                      - height: 95%
                                      - position: null
                                  state:
                                    - value: 'on'
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: playing
                                      styles:
                                        card:
                                          - background-color: var(--google-grey)
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: 'off'
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: idle
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
                                    - value: paused
                                      styles:
                                        card:
                                          - background-color: var(--card-background-color)
                                          - opacity: 0.6
                                        icon:
                                          - color: var(--primary-theme)
          - type: picture-elements
            card_mod:
              style: |
                ha-card {
                  border-radius: 36px;
                }
            image: /local/bedroom_2.jpeg
            aspect_ratio: '16:9'
            elements:
              - type: custom:mod-card
                style:
                  top: 14%
                  left: 90%
                  width: 10%
                card_mod:
                  style: |
                    ha-card {
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                card:
                  type: custom:button-card
                  style: |
                    ha-card {
                      -webkit-backdrop-filter: blur(4px) !important;
                      backdrop-filter: blur(4px) !important;
                    }
                  entity: {}
                  icon: mdi:arrow-top-right
                  color: rgba(0,0,0,0.7)
                  color_type: card
                  tap_action:
                    action: navigate
                    navigation_path: '#main-bedroom'
                  styles:
                    card:
                      - height: 50px
                      - width: 50px
                      - border-radius: 80px
              - type: custom:mod-card
                style:
                  top: 80%
                  left: 50%
                  width: 96%
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 36px;
                      -webkit-backdrop-filter: blur(4px) !important;
                      backdrop-filter: blur(4px) !important;
                    }
                card:
                  type: custom:bubble-card
                  card_type: button
                  button_type: state
                  entity: sensor.bedroom_sensor_temperature
                  name: Main Bedroom
                  icon: mdi:bed-king
                  show_state: true
                  tap_action:
                    action: navigate
                    navigation_path: '#main-bedroom'
                  button_action:
                    tap_action:
                      action: navigate
                      navigation_path: '#main-bedroom'
                  styles: |-
                    .bubble-button-card {
                      opacity: 1.0;
                      background: rgba(0,0,0,0.1) !important;
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .bubble-button-card-container {
                      background-color: rgba(0,0,0,0) !important;
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                      filter: blur(50%) !important;
                    }
                    .bubble-button-background {
                      background-color: var(--card-background-color) !important;
                      filter: blur(50%) !important;
                    }
                    .bubble-icon {
                      color: var(--google-green) !important;
                      opacity: 1.0 !important;
                      filter: brightness(1.0);
                    }
                    .bubble-icon-container {
                      background-color: rgba(0,0,0,0) !important;
                      border-style: solid !important;
                      border-width: 2px;
                      color: var(--google-green) !important;
                    }
                    .bubble-name {
                      font-size: auto !important;
                    }

                    .bubble-sub-button-1{
                      background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                      opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                    }
                    .bubble-sub-button-2{
                      background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                      opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                    }
                    .bubble-sub-button-3{
                      background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                      opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                    }
                    .bubble-sub-button-4{
                      background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                      opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                    }
                  sub_button:
                    - entity: light.ben_lamp
                      state_background: false
                      show_background: false
                      tap_action:
                        action: toggle
                    - entity: light.bedroom_downlights
                      state_background: false
                      show_background: true
                      tap_action:
                        action: toggle
                    - entity: binary_sensor.bedroom_sliding_door
                      state_background: false
                      triggers_update: all
                      tap_action:
                        action: more-info
                    - entity: media_player.bedroom_google_home
                      state_background: false
          - type: custom:bubble-card
            card_type: separator
            name: ''
            card_layout: large
            styles: |-
              .bubble-line {
                background: none;
                opacity: 0;
              }
              .bubble-separator {
                margin-top: 20px !important;
                height: 25px !important;
              }
              .bubble-name {
                margin: 0px;
              }
            sub_button:
              - entity: input_select.room_view
                show_arrow: false
                icon: mdi:format-list-bulleted
                show_background: false
              - entity: input_select.room_view
                show_arrow: false
                state_background: true
                icon: mdi:shape-square-rounded-plus
                show_background: false
              - entity: input_select.room_view
                icon: mdi:square-rounded-outline
                show_arrow: false
                show_background: false
            icon: ''
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: light.lounge_lamp
                name: Lounge Room
                icon: mdi:sofa
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/Living_Room.png")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-yellow)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: light.lounge_lamp
                      name: Lounge Room
                      icon: mdi:sofa
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#lounge'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#lounge'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-yellow) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-yellow) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }

                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.lounge_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.lounge_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['light.lounge_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.lounge_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-3{
                          background-color: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-4{
                          background-color: ${hass.states['cover.lounge_blind'].state === 'open' ? 'var(--google-violet)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['cover.lounge_blind'].state === 'open' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: light.lounge_lamp
                          icon: mdi:floor-lamp
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: light.lounge_downlights
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: binary_sensor.balcony_door
                          state_background: false
                          tap_action:
                            action: more-info
                        - entity: cover.lounge_blind
                          state_background: false
                          tap_action:
                            action: toggle
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#lounge'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: sensor.bedroom_sensor_temperature
                name: Main Bedroom
                icon: mdi:sofa-outline
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/bedroom_2.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-yellow)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.bedroom_sensor_temperature
                      name: Main Bedroom
                      icon: mdi:bed-king
                      show_state: true
                      tap_action:
                        action: navigate
                        navigation_path: '#main-bedroom'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#main-bedroom'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-green) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-green) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }

                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-3{
                          background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-4{
                          background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: light.ben_lamp
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: light.bedroom_downlights
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: binary_sensor.bedroom_sliding_door
                          state_background: false
                          tap_action:
                            action: more-info
                        - entity: media_player.bedroom_google_home
                          state_background: false
                          tap_action:
                            action: more-info
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#main-bedroom'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: sensor.girls_sensor_temperature
                name: Girls Bedroom
                icon: mdi:bunk-bed
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/girls_room.jpg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-pink)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.girls_sensor_temperature
                      name: Girls Room
                      icon: mdi:bunk-bed
                      show_state: true
                      tap_action:
                        action: navigate
                        navigation_path: '#girls-bedroom'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#girls-bedroom'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-pink) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                          width: 22px;
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-pink) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }

                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.girls_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.girls_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['input_boolean.bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['input_boolean.bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-3{
                          background-color: ${hass.states['input_boolean.elaine'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['input_boolean.elaine'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-4{
                          background-color: ${hass.states['media_player.kids_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['media_player.kids_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: light.girls_room_downlights
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: input_boolean.bedtime
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: input_boolean.elaine
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: media_player.kids_google_home
                          state_background: false
                          tap_action:
                            action: more-info
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#girls-bedroom'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: sensor.sebs_sensor_temperature
                name: Sebs Bedroom
                icon: mdi:bed-single
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/sebs_room.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-blue)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.sebs_sensor_temperature
                      name: Sebs Room
                      icon: mdi:bed-single
                      show_state: true
                      tap_action:
                        action: navigate
                        navigation_path: '#sebs-bedroom'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#sebs-bedroom'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-blue) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-blue) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }

                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.sebs_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.sebs_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-3{
                          background-color: ${hass.states['input_boolean.elaine2'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['input_boolean.elaine2'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-4{
                          background-color: ${hass.states['media_player.boys_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['media_player.boys_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: light.sebs_downlights
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: input_boolean.boys_bedtime
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: input_boolean.elaine2
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: media_player.boys_google_home
                          state_background: false
                          tap_action:
                            action: more-info
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#sebs-bedroom'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: sensor.rumpus_sensor_temperature
                name: Rumpus
                icon: mdi:desk
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/Rumpus.png")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-teal)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.rumpus_sensor_temperature
                      name: Rumpus
                      icon: mdi:desk
                      show_state: true
                      tap_action:
                        action: navigate
                        navigation_path: '#rumpus'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#rumpus'
                      styles: >-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }

                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }

                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }

                        .bubble-icon {
                          color: var(--google-teal) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }

                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-teal) !important;
                        }

                        .bubble-name {
                          font-size: auto !important;
                        }


                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.rumpus'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.rumpus'].state === 'on' ? '1.0' : '0.6'} !important;
                        }

                        .bubble-sub-button-2{
                          background-color: ${hass.states['light.desk_strip'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.desk_strip'].state === 'on' ? '1.0' : '0.6'} !important;
                        }

                        .bubble-sub-button-3{
                          background-color: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                        }

                        .bubble-sub-button-4{
                          background-color: ${hass.states['sensor.desky_height'].state >= 90.0 ? 'var(--google-teal)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['sensor.desky_height'].state >= 90.0 ? '1.0' : '0.6'} !important;
                        }


                        ${subButtonIcon[3].setAttribute("icon",
                        hass.states['sensor.desky_height'].state >= 90.0 ?
                        'phu:desk-stand-alt' : 'phu:desk-sit-alt')}
                      sub_button:
                        - entity: light.rumpus
                          icon: mdi:ceiling-light-multiple
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: light.desk_strip
                          icon: mdi:led-strip-variant
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: binary_sensor.rumpus_sliding_door
                          state_background: false
                          tap_action:
                            action: more-info
                        - entity: sensor.desky_height
                          icon: phu:desk-sit-alt
                          state_background: false
                          tap_action:
                            action: call-service
                            service: script.turn_on
                            target:
                              entity_id: script.desk_up_down
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#rumpus'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: light.play_room_downlights
                name: Play Room
                icon: mdi:airballoon
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/play_room.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-ha-blue)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: light.play_room_desk
                      name: Play Room
                      icon: mdi:airballoon
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#play-room'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#play-room'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-violet) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-violet) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }

                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.play_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.play_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['light.play_room_desk'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.play_room_desk'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-3{
                          background-color: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-4{
                          background-color: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: light.play_room_downlights
                          icon: mdi:light-recessed
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: light.play_room_desk
                          icon: mdi:led-strip-variant
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: media_player.playroom_sonos
                          state_background: false
                          tap_action:
                            action: more-info
                        - entity: media_player.play_room_google_home
                          icon: phu:google-home
                          state_background: false
                          tap_action:
                            action: more-info
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#play-room'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: light.kitchen_lights
                name: Kitchen
                icon: mdi:fridge
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/Kitchen.png")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-red)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: light.kitchen_lights
                      name: Kitchen & Dining
                      icon: mdi:fridge
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#kitchen'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#kitchen'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-red) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-red) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }

                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.kitchen_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.kitchen_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-3{
                          background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-4{
                          background-color: ${hass.states['vacuum.robomac'].state === 'cleaning' ? 'var(--google-pink)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['vacuum.robomac'].state === 'cleaning' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: light.kitchen_lights
                          icon: mdi:light-recessed
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: binary_sensor.coffee_machine
                          icon: mdi:coffee
                          state_background: false
                          tap_action:
                            action: more-info
                        - entity: binary_sensor.dishwasher
                          state_background: false
                          tap_action:
                            action: more-info
                        - entity: vacuum.robomac
                          state_background: false
                          tap_action:
                            action: more-info
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#kitchen'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: binary_sensor.washer_dryer
                name: Laundry
                icon: mdi:washing-machine
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/laundry.jpg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-ha-blue)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: binary_sensor.washer_dryer
                      name: Laundry
                      icon: mdi:washing-machine
                      show_state: false
                      tap_action:
                        action: navigate
                        navigation_path: '#laundry'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#laundry'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-ha-blue) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-ha-blue) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }
                        .bubble-sub-button-1{
                          background-color: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: binary_sensor.laundry_door
                          state_background: false
                          tap_action:
                            action: more-info
                        - entity: binary_sensor.washer_dryer
                          icon: mdi:washing-machine
                          state_background: false
                          tap_action:
                            action: more-info
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#laundry'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 16/9
                size: 60%
                entity: sensor.sydney_temp
                name: Outdoors
                icon: mdi:tree
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/outdoors.jpeg")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-orange)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:bubble-card
                      card_type: button
                      button_type: state
                      entity: sensor.home_realfeel_temperature
                      name: Outdoors
                      icon: mdi:tree
                      show_state: true
                      tap_action:
                        action: navigate
                        navigation_path: '#outdoors'
                      button_action:
                        tap_action:
                          action: navigate
                          navigation_path: '#outdoors'
                      styles: |-
                        .bubble-button-card {
                          opacity: 1.0;
                          background: rgba(0,0,0,0.1) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                        }
                        .bubble-button-card-container {
                          background-color: rgba(0,0,0,0) !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-button-background {
                          background-color: var(--card-background-color) !important;
                          filter: blur(50%) !important;
                        }
                        .bubble-icon {
                          color: var(--google-orange) !important;
                          opacity: 1.0 !important;
                          filter: brightness(1.0);
                        }
                        .bubble-icon-container {
                          background-color: rgba(0,0,0,0) !important;
                          border-style: solid !important;
                          border-width: 2px;
                          color: var(--google-orange) !important;
                        }
                        .bubble-name {
                          font-size: auto !important;
                        }

                        .bubble-sub-button-1{
                          background-color: ${hass.states['light.front_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['light.front_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-2{
                          background-color: ${hass.states['switch.pool_pump'].state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['switch.pool_pump'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-3{
                          background-color: ${hass.states['switch.vege_patch_zone'].state === 'on' ? 'var(--google-green)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['switch.vege_patch_zone'].state === 'on' ? '1.0' : '0.6'} !important;
                        }
                        .bubble-sub-button-4{
                          background-color: ${hass.states['climate.outdoor_heater'].state === 'heat' ? 'var(--google-red)' : ''} !important;
                          -webkit-backdrop-filter: blur(2px) !important;
                          backdrop-filter: blur(2px) !important;
                          opacity: ${hass.states['climate.outdoor_heater'].state === 'heat' ? '1.0' : '0.6'} !important;
                        }
                      sub_button:
                        - entity: light.front_lights
                          icon: mdi:ceiling-light-multiple
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: switch.pool_pump
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: switch.vege_patch_zone
                          state_background: false
                          tap_action:
                            action: toggle
                        - entity: climate.outdoor_heater
                          state_background: false
                          tap_action:
                            action: more-info
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#outdoors'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: light.lounge_lamp
                name: Lounge Room
                icon: mdi:sofa
                show_state: false
                tap_action:
                  action: navigate
                  navigation_path: '#lounge'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#lounge'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-yellow) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-yellow) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.lounge_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.lounge_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['light.lounge_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.lounge_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['cover.lounge_blind'].state === 'open' ? 'var(--google-violet)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['cover.lounge_blind'].state === 'open' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.lounge_lamp
                    icon: mdi:floor-lamp
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: light.lounge_downlights
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.balcony_door
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: cover.lounge_blind
                    state_background: false
                    tap_action:
                      action: toggle
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.bedroom_sensor_temperature
                name: Main Bedroom
                icon: mdi:bed-king
                show_state: true
                tap_action:
                  action: navigate
                  navigation_path: '#main-bedroom'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#main-bedroom'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-green) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-green) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.ben_lamp
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_downlights
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.bedroom_sliding_door
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: media_player.bedroom_google_home
                    state_background: false
                    tap_action:
                      action: more-info
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.girls_sensor_temperature
                name: Girls Room
                icon: mdi:bunk-bed
                show_state: true
                tap_action:
                  action: navigate
                  navigation_path: '#girls-bedroom'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#girls-bedroom'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-pink) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                    width: 22px;
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-pink) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.girls_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.girls_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['input_boolean.bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['input_boolean.bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['input_boolean.elaine'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['input_boolean.elaine'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['media_player.kids_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['media_player.kids_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.girls_room_downlights
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: input_boolean.bedtime
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: input_boolean.elaine
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: media_player.kids_google_home
                    state_background: false
                    tap_action:
                      action: more-info
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.sebs_sensor_temperature
                name: Sebs Room
                icon: mdi:bed-single
                show_state: true
                tap_action:
                  action: navigate
                  navigation_path: '#sebs-bedroom'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#sebs-bedroom'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-blue) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-blue) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.sebs_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.sebs_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['input_boolean.elaine2'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['input_boolean.elaine2'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['media_player.boys_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['media_player.boys_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.sebs_downlights
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: input_boolean.boys_bedtime
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: input_boolean.elaine2
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: media_player.boys_google_home
                    state_background: false
                    tap_action:
                      action: more-info
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: light.play_room_desk
                name: Play Room
                icon: mdi:airballoon
                show_state: false
                tap_action:
                  action: navigate
                  navigation_path: '#play-room'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#play-room'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-violet) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-violet) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.play_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.play_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['light.play_room_desk'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.play_room_desk'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.play_room_downlights
                    icon: mdi:light-recessed
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: light.play_room_desk
                    icon: mdi:led-strip-variant
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: media_player.playroom_sonos
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: media_player.play_room_google_home
                    icon: phu:google-home
                    state_background: false
                    tap_action:
                      action: more-info
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.rumpus_sensor_temperature
                name: Rumpus
                icon: mdi:desk
                show_state: true
                tap_action:
                  action: navigate
                  navigation_path: '#rumpus'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#rumpus'
                styles: >-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }

                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }

                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }

                  .bubble-icon {
                    color: var(--google-teal) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }

                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-teal) !important;
                  }

                  .bubble-name {
                    font-size: auto !important;
                  }


                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.rumpus'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.rumpus'].state === 'on' ? '1.0' : '0.6'} !important;
                  }

                  .bubble-sub-button-2{
                    background-color: ${hass.states['light.desk_strip'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.desk_strip'].state === 'on' ? '1.0' : '0.6'} !important;
                  }

                  .bubble-sub-button-3{
                    background-color: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                  }

                  .bubble-sub-button-4{
                    background-color: ${hass.states['sensor.desky_height'].state >= 90.0 ? 'var(--google-teal)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['sensor.desky_height'].state >= 90.0 ? '1.0' : '0.6'} !important;
                  }


                  ${subButtonIcon[3].setAttribute("icon",
                  hass.states['sensor.desky_height'].state >= 90.0 ?
                  'phu:desk-stand-alt' : 'phu:desk-sit-alt')}
                sub_button:
                  - entity: light.rumpus
                    icon: mdi:ceiling-light-multiple
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: light.desk_strip
                    icon: mdi:led-strip-variant
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.rumpus_sliding_door
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: sensor.desky_height
                    icon: phu:desk-sit-alt
                    state_background: false
                    tap_action:
                      action: call-service
                      service: script.turn_on
                      target:
                        entity_id: script.desk_up_down
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: light.kitchen_lights
                name: Kitchen & Dining
                icon: mdi:fridge
                show_state: false
                tap_action:
                  action: navigate
                  navigation_path: '#kitchen'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#kitchen'
                styles: |-
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-red) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-red) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.kitchen_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.kitchen_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['vacuum.robomac'].state === 'cleaning' ? 'var(--google-pink)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['vacuum.robomac'].state === 'cleaning' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.kitchen_lights
                    icon: mdi:light-recessed
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.coffee_machine
                    icon: mdi:coffee
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: binary_sensor.dishwasher
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: vacuum.robomac
                    state_background: false
                    tap_action:
                      action: more-info
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.washer_dryer
                name: Laundry
                icon: mdi:washing-machine
                show_state: false
                tap_action:
                  action: navigate
                  navigation_path: '#laundry'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#laundry'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-ha-blue) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-ha-blue) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }
                  .bubble-sub-button-1{
                    background-color: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: binary_sensor.laundry_door
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: binary_sensor.washer_dryer
                    icon: mdi:washing-machine
                    state_background: false
                    tap_action:
                      action: more-info
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.home_realfeel_temperature
                name: Outdoors
                icon: mdi:tree
                show_state: true
                tap_action:
                  action: navigate
                  navigation_path: '#outdoors'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#outdoors'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(var(--card-background),0.2) !important;
                    -webkit-backdrop-filter: blur(4px) !important;
                    backdrop-filter: blur(4px) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-button-background {
                    background-color: var(--card-background-color) !important;
                    filter: blur(50%) !important;
                  }
                  .bubble-icon {
                    color: var(--google-orange) !important;
                    opacity: 1.0 !important;
                    filter: brightness(1.0);
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-orange) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.front_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.front_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['switch.pool_pump'].state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['switch.pool_pump'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['switch.vege_patch_zone'].state === 'on' ? 'var(--google-green)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['switch.vege_patch_zone'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['climate.outdoor_heater'].state === 'heat' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['climate.outdoor_heater'].state === 'heat' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.front_lights
                    icon: mdi:ceiling-light-multiple
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: switch.pool_pump
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: switch.vege_patch_zone
                    state_background: false
                    tap_action:
                      action: toggle
                  - entity: climate.outdoor_heater
                    state_background: false
                    tap_action:
                      action: more-info
          - type: horizontal-stack
            cards:
              - type: custom:mod-card
                style:
                  swipe-card$: |
                    .swiper-container {
                      margin: 0 0 0 0 !important;
                      padding-bottom: 35px !important;
                      magin-top: -40px !important;
                    }
                    .swiper-pagination-bullets>span {
                      background: var(--google-ha-blue); /* <---- */
                    }
                card:
                  type: custom:swipe-card
                  parameters:
                    slidesPerView: '1.0'
                    spaceBetween: 8
                    pagination:
                      type: bullets
                      hide: false
                      draggable: true
                      snapOnRelease: true
                  cards:
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: light.lounge_lamp
                          name: Lounge Room
                          icon: mdi:sofa
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/Living_Room.png")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-yellow)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: light.lounge_lamp
                                name: Lounge Room
                                icon: mdi:sofa
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#lounge'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#lounge'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-yellow) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-yellow) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.lounge_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.lounge_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.lounge_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.lounge_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.balcony_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['cover.lounge_blind'].state === 'open' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['cover.lounge_blind'].state === 'open' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.lounge_lamp
                                    icon: mdi:floor-lamp
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.lounge_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.balcony_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: cover.lounge_blind
                                    state_background: false
                                    tap_action:
                                      action: toggle
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#lounge'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.bedroom_sensor_temperature
                          name: Main Bedroom
                          icon: mdi:sofa-outline
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/bedroom_2.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-yellow)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.bedroom_sensor_temperature
                                name: Main Bedroom
                                icon: mdi:bed-king
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#main-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#main-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-green) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-green) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.ben_lamp
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.bedroom_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.bedroom_sliding_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: media_player.bedroom_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#main-bedroom'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.girls_sensor_temperature
                          name: Girls Bedroom
                          icon: mdi:bunk-bed
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/girls_room.jpg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-pink)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.girls_sensor_temperature
                                name: Girls Room
                                icon: mdi:bunk-bed
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#girls-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#girls-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-pink) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                    width: 22px;
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-pink) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.girls_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.girls_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['input_boolean.bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['input_boolean.elaine'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.elaine'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.kids_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.kids_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.girls_room_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.bedtime
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.elaine
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.kids_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#girls-bedroom'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.sebs_sensor_temperature
                          name: Sebs Bedroom
                          icon: mdi:bed-single
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/sebs_room.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-blue)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.sebs_sensor_temperature
                                name: Sebs Room
                                icon: mdi:bed-single
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#sebs-bedroom'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#sebs-bedroom'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-blue) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-blue) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.sebs_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.sebs_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.boys_bedtime'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['input_boolean.elaine2'].state === 'on' ? 'var(--google-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['input_boolean.elaine2'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.boys_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.boys_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.sebs_downlights
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.boys_bedtime
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: input_boolean.elaine2
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.boys_google_home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#sebs-bedroom'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: light.play_room_downlights
                          name: Play Room
                          icon: mdi:airballoon
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/play_room.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-ha-blue)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: light.play_room_desk
                                name: Play Room
                                icon: mdi:airballoon
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#play-room'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#play-room'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-violet) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-violet) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.play_room_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.play_room_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.play_room_desk'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.play_room_desk'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.playroom_sonos'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['media_player.play_room_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.play_room_downlights
                                    icon: mdi:light-recessed
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.play_room_desk
                                    icon: mdi:led-strip-variant
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: media_player.playroom_sonos
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: media_player.play_room_google_home
                                    icon: phu:google-home
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#play-room'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.rumpus_sensor_temperature
                          name: Rumpus
                          icon: mdi:desk
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/Rumpus.png")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-teal)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.rumpus_sensor_temperature
                                name: Rumpus
                                icon: mdi:desk
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#rumpus'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#rumpus'
                                styles: >-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }

                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }

                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }

                                  .bubble-icon {
                                    color: var(--google-teal) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }

                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-teal) !important;
                                  }

                                  .bubble-name {
                                    font-size: auto !important;
                                  }


                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.rumpus'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.rumpus'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }

                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['light.desk_strip'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.desk_strip'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }

                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.rumpus_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }

                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['sensor.desky_height'].state >= 90.0 ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['sensor.desky_height'].state >= 90.0 ? '1.0' : '0.6'} !important;
                                  }


                                  ${subButtonIcon[3].setAttribute("icon",
                                  hass.states['sensor.desky_height'].state >=
                                  90.0 ? 'phu:desk-stand-alt' :
                                  'phu:desk-sit-alt')}
                                sub_button:
                                  - entity: light.rumpus
                                    icon: mdi:ceiling-light-multiple
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: light.desk_strip
                                    icon: mdi:led-strip-variant
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.rumpus_sliding_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: sensor.desky_height
                                    icon: phu:desk-sit-alt
                                    state_background: false
                                    tap_action:
                                      action: call-service
                                      service: script.turn_on
                                      target:
                                        entity_id: script.desk_up_down
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#rumpus'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: light.kitchen_lights
                          name: Kitchen
                          icon: mdi:fridge
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/Kitchen.png")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-red)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: light.kitchen_lights
                                name: Kitchen & Dining
                                icon: mdi:fridge
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#kitchen'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#kitchen'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-red) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-red) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.kitchen_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.kitchen_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.dishwasher'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['vacuum.robomac'].state === 'cleaning' ? 'var(--google-pink)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['vacuum.robomac'].state === 'cleaning' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.kitchen_lights
                                    icon: mdi:light-recessed
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: binary_sensor.coffee_machine
                                    icon: mdi:coffee
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: binary_sensor.dishwasher
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: vacuum.robomac
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#kitchen'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: binary_sensor.washer_dryer
                          name: Laundry
                          icon: mdi:washing-machine
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/laundry.jpg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-ha-blue)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: binary_sensor.washer_dryer
                                name: Laundry
                                icon: mdi:washing-machine
                                show_state: false
                                tap_action:
                                  action: navigate
                                  navigation_path: '#laundry'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#laundry'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-ha-blue) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-ha-blue) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }
                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.laundry_door'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? 'var(--google-teal)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['binary_sensor.washer_dryer'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: binary_sensor.laundry_door
                                    state_background: false
                                    tap_action:
                                      action: more-info
                                  - entity: binary_sensor.washer_dryer
                                    icon: mdi:washing-machine
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#laundry'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          aspect_ratio: 16/9
                          size: 60%
                          entity: sensor.sydney_temp
                          name: Outdoors
                          icon: mdi:tree
                          tap_action:
                            action: none
                          show_state: false
                          show_name: false
                          show_icon: false
                          styles:
                            card:
                              - border-radius: 30px
                              - box-shadow: var(--icon-shadow)
                              - background-image: url("/local/outdoors.jpeg")
                              - background-position: center
                              - background-size: cover
                            name:
                              - justify-self: start
                              - padding-left: 10px
                              - padding-top: 0px
                              - font-size: 16px
                              - font-weight: 600
                              - color: var(--primary-theme)
                            state:
                              - justify-self: start
                              - padding-left: 10px
                              - margin-top: '-15px'
                              - font-size: 14px
                              - color: var(--primary-font-color)
                            img_cell:
                              - height: 80px
                              - width: 70px
                              - background-color: var(--google-orange)
                              - border-radius: 100%
                              - margin-top: '-17px'
                              - margin-left: 5px
                            icon:
                              - color: var(--primary-theme)
                            custom_fields:
                              bubble:
                                - position: absolute
                                - width: 96%
                                - left: 2%
                                - top: 74%
                              pop_out:
                                - position: absolute
                                - height: 43px
                                - width: 43px
                                - border-radius: 80px
                                - left: 86%
                                - top: 3%
                          custom_fields:
                            bubble:
                              card:
                                type: custom:bubble-card
                                card_type: button
                                button_type: state
                                entity: sensor.home_realfeel_temperature
                                name: Outdoors
                                icon: mdi:tree
                                show_state: true
                                tap_action:
                                  action: navigate
                                  navigation_path: '#outdoors'
                                button_action:
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#outdoors'
                                styles: |-
                                  .bubble-button-card {
                                    opacity: 1.0;
                                    background: rgba(0,0,0,0.1) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                  }
                                  .bubble-button-card-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-button-background {
                                    background-color: var(--card-background-color) !important;
                                    filter: blur(50%) !important;
                                  }
                                  .bubble-icon {
                                    color: var(--google-orange) !important;
                                    opacity: 1.0 !important;
                                    filter: brightness(1.0);
                                  }
                                  .bubble-icon-container {
                                    background-color: rgba(0,0,0,0) !important;
                                    border-style: solid !important;
                                    border-width: 2px;
                                    color: var(--google-orange) !important;
                                  }
                                  .bubble-name {
                                    font-size: auto !important;
                                  }

                                  .bubble-sub-button-1{
                                    background-color: ${hass.states['light.front_lights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['light.front_lights'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-2{
                                    background-color: ${hass.states['switch.pool_pump'].state === 'on' ? 'var(--google-ha-blue)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['switch.pool_pump'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-3{
                                    background-color: ${hass.states['switch.vege_patch_zone'].state === 'on' ? 'var(--google-green)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['switch.vege_patch_zone'].state === 'on' ? '1.0' : '0.6'} !important;
                                  }
                                  .bubble-sub-button-4{
                                    background-color: ${hass.states['climate.outdoor_heater'].state === 'heat' ? 'var(--google-red)' : ''} !important;
                                    -webkit-backdrop-filter: blur(2px) !important;
                                    backdrop-filter: blur(2px) !important;
                                    opacity: ${hass.states['climate.outdoor_heater'].state === 'heat' ? '1.0' : '0.6'} !important;
                                  }
                                sub_button:
                                  - entity: light.front_lights
                                    icon: mdi:ceiling-light-multiple
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: switch.pool_pump
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: switch.vege_patch_zone
                                    state_background: false
                                    tap_action:
                                      action: toggle
                                  - entity: climate.outdoor_heater
                                    state_background: false
                                    tap_action:
                                      action: more-info
                            pop_out:
                              card:
                                type: custom:mod-card
                                card_mod:
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                card:
                                  type: custom:button-card
                                  style: |
                                    ha-card {
                                      -webkit-backdrop-filter: blur(4px) !important;
                                      backdrop-filter: blur(4px) !important;
                                    }
                                  icon: mdi:arrow-top-right
                                  color: rgba(0,0,0,0.7)
                                  color_type: card
                                  tap_action:
                                    action: navigate
                                    navigation_path: '#outdoors'
                                  styles:
                                    card:
                                      - height: 45px
                                      - width: 45px
                                      - border-radius: 80px
                                      - border-weight: 0px
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: sensor.bedroom_sensor_temperature
            name: Main Bedroom
            icon: mdi:bed-king-outline
            show_state: false
            tap_action:
              action: navigate
              navigation_path: '#main-bedroom'
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#main-bedroom'
            styles: |-
              .bubble-button-card {
                opacity: 1.0;
                background: rgba(0,0,0,0.1) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
              }
              .bubble-button-card-container {
                background-color: rgba(0,0,0,0) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                filter: blur(50%) !important;
              }
              .bubble-button-background {
                background-color: var(--card-background-color) !important;
                filter: blur(50%) !important;
              }
              .bubble-icon {
                color: var(--google-green) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: rgba(0,0,0,0) !important;
                border-style: solid !important;
                border-width: 2px;
                color: var(--google-green) !important;
              }
              .bubble-name {
                font-size: auto !important;
              }

              .bubble-sub-button-1{
                background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-2{
                background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-3{
                background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-4{
                background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
              }
            sub_button:
              - entity: sensor.bedroom_sensor_temperature
                state_background: false
                show_background: false
                tap_action:
                  action: toggle
                show_state: true
              - entity: sensor.bedroom_sensor_humidity
                state_background: false
                show_background: false
                tap_action:
                  action: toggle
                show_state: true
            card_layout: large-2-rows
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: sensor.bedroom_sensor_temperature
            name: Main Bedroom
            icon: mdi:bed-king-outline
            show_state: false
            tap_action:
              action: navigate
              navigation_path: '#main-bedroom'
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#main-bedroom'
            styles: |-
              .bubble-button-card {
                opacity: 1.0;
                background: rgba(0,0,0,0.1) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
              }
              .bubble-button-card-container {
                background-color: rgba(0,0,0,0) !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                filter: blur(50%) !important;
              }
              .bubble-button-background {
                background-color: var(--card-background-color) !important;
                filter: blur(50%) !important;
              }
              .bubble-icon {
                color: var(--google-green) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: rgba(0,0,0,0) !important;
                border-style: solid !important;
                border-width: 2px;
                color: var(--google-green) !important;
              }
              .bubble-name {
                font-size: auto !important;
              }

              .bubble-sub-button-1{
                background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-2{
                background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-3{
                background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
              }
              .bubble-sub-button-4{
                background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                -webkit-backdrop-filter: blur(2px) !important;
                backdrop-filter: blur(2px) !important;
                opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
              }
            sub_button:
              - entity: light.ben_lamp
                state_background: false
                show_background: false
                tap_action:
                  action: toggle
              - entity: light.bedroom_downlights
                state_background: false
                show_background: true
                tap_action:
                  action: toggle
              - entity: binary_sensor.bedroom_sliding_door
                state_background: false
                tap_action:
                  action: more-info
              - entity: media_player.bedroom_google_home
                state_background: false
            show_icon: false
            show_name: false
          - type: custom:stack-in-card
            card_mod:
              style: |
                ha-card {
                  border: none !important;
                  background-color: var(--folder-background) !important;
                  -webkit-backdrop-filter: blur(2px) !important;
                  backdrop-filter: blur(2px) !important;
                  border-radius: 32px;
                }
            cards:
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.bedroom_sensor_temperature
                name: Main Bedroom
                icon: mdi:bed-king-outline
                show_state: false
                tap_action:
                  action: navigate
                  navigation_path: '#main-bedroom'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#main-bedroom'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(0,0,0,0) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                    opacity: 1.0;
                  }
                  .bubble-button-background {
                    background-color: none !important;
                  }
                  .bubble-icon {
                    color: var(--google-green) !important;
                    opacity: 1.0 !important;
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-green) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: sensor.bedroom_sensor_temperature
                    state_background: false
                    show_background: false
                    tap_action:
                      action: toggle
                    show_state: true
                  - entity: sensor.bedroom_sensor_humidity
                    state_background: false
                    show_background: false
                    tap_action:
                      action: toggle
                    show_state: true
                card_layout: large-2-rows
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: sensor.bedroom_sensor_temperature
                name: Main Bedroom
                icon: mdi:bed-king-outline
                show_state: false
                tap_action:
                  action: navigate
                  navigation_path: '#main-bedroom'
                button_action:
                  tap_action:
                    action: navigate
                    navigation_path: '#main-bedroom'
                styles: |-
                  .bubble-button-card {
                    opacity: 1.0;
                    background: rgba(0,0,0,0) !important;
                  }
                  .bubble-button-card-container {
                    background-color: rgba(0,0,0,0) !important;
                  }
                  .bubble-button-background {
                    background-color: none !important;
                  }
                  .bubble-icon {
                    color: var(--google-green) !important;
                    opacity: 1.0 !important;
                  }
                  .bubble-icon-container {
                    background-color: rgba(0,0,0,0) !important;
                    border-style: solid !important;
                    border-width: 2px;
                    color: var(--google-green) !important;
                  }
                  .bubble-name {
                    font-size: auto !important;
                  }

                  .bubble-sub-button-1{
                    background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-2{
                    background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-3{
                    background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                  }
                  .bubble-sub-button-4{
                    background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;
                    opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                  }
                sub_button:
                  - entity: light.ben_lamp
                    state_background: false
                    show_background: false
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_downlights
                    state_background: false
                    show_background: true
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.bedroom_sliding_door
                    state_background: false
                    tap_action:
                      action: more-info
                  - entity: media_player.bedroom_google_home
                    state_background: false
                show_icon: false
                show_name: false
                card_layout: large
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                aspect_ratio: 8/9
                size: 60%
                entity: light.lounge_lamp
                name: Lounge Room
                icon: mdi:sofa
                tap_action:
                  action: none
                show_state: false
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 30px
                    - box-shadow: var(--icon-shadow)
                    - background-image: url("/local/Living_Room.png")
                    - background-position: center
                    - background-size: cover
                  name:
                    - justify-self: start
                    - padding-left: 10px
                    - padding-top: 0px
                    - font-size: 16px
                    - font-weight: 600
                    - color: var(--primary-theme)
                  state:
                    - justify-self: start
                    - padding-left: 10px
                    - margin-top: '-15px'
                    - font-size: 14px
                    - color: var(--primary-font-color)
                  img_cell:
                    - height: 80px
                    - width: 70px
                    - background-color: var(--google-yellow)
                    - border-radius: 100%
                    - margin-top: '-17px'
                    - margin-left: 5px
                  icon:
                    - color: var(--primary-theme)
                  custom_fields:
                    bubble:
                      - position: absolute
                      - width: 96%
                      - left: 2%
                      - top: 74%
                    pop_out:
                      - position: absolute
                      - height: 43px
                      - width: 43px
                      - border-radius: 80px
                      - left: 86%
                      - top: 3%
                custom_fields:
                  bubble:
                    card:
                      type: custom:stack-in-card
                      card_mod:
                        style: |
                          ha-card {
                            border: none !important;
                            background-color: var(--folder-background) !important;
                            -webkit-backdrop-filter: blur(2px) !important;
                            backdrop-filter: blur(2px) !important;
                            border-radius: 32px;
                          }
                      cards:
                        - type: custom:bubble-card
                          card_type: button
                          button_type: state
                          entity: sensor.bedroom_sensor_temperature
                          name: Main Bedroom
                          icon: mdi:bed-king-outline
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#main-bedroom'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#main-bedroom'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                              opacity: 1.0;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-green) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-green) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }

                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: sensor.bedroom_sensor_temperature
                              state_background: false
                              show_background: false
                              tap_action:
                                action: toggle
                              show_state: true
                            - entity: sensor.bedroom_sensor_humidity
                              state_background: false
                              show_background: false
                              tap_action:
                                action: toggle
                              show_state: true
                          card_layout: large-2-rows
                        - type: custom:bubble-card
                          card_type: button
                          button_type: state
                          entity: sensor.bedroom_sensor_temperature
                          name: Main Bedroom
                          icon: mdi:bed-king-outline
                          show_state: false
                          tap_action:
                            action: navigate
                            navigation_path: '#main-bedroom'
                          button_action:
                            tap_action:
                              action: navigate
                              navigation_path: '#main-bedroom'
                          styles: |-
                            .bubble-button-card {
                              opacity: 1.0;
                              background: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-card-container {
                              background-color: rgba(0,0,0,0) !important;
                            }
                            .bubble-button-background {
                              background-color: none !important;
                            }
                            .bubble-icon {
                              color: var(--google-green) !important;
                              opacity: 1.0 !important;
                            }
                            .bubble-icon-container {
                              background-color: rgba(0,0,0,0) !important;
                              border-style: solid !important;
                              border-width: 2px;
                              color: var(--google-green) !important;
                            }
                            .bubble-name {
                              font-size: auto !important;
                            }

                            .bubble-sub-button-1{
                              background-color: ${hass.states['light.ben_lamp'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.ben_lamp'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-2{
                              background-color: ${hass.states['light.bedroom_downlights'].state === 'on' ? 'var(--google-yellow)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['light.bedroom_downlights'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-3{
                              background-color: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? 'var(--google-violet)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['binary_sensor.bedroom_sliding_door'].state === 'on' ? '1.0' : '0.6'} !important;
                            }
                            .bubble-sub-button-4{
                              background-color: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? 'var(--google-red)' : ''} !important;
                              -webkit-backdrop-filter: blur(2px) !important;
                              backdrop-filter: blur(2px) !important;
                              opacity: ${hass.states['media_player.bedroom_google_home'].state === 'playing' ? '1.0' : '0.6'} !important;
                            }
                          sub_button:
                            - entity: light.ben_lamp
                              state_background: false
                              show_background: false
                              tap_action:
                                action: toggle
                            - entity: light.bedroom_downlights
                              state_background: false
                              show_background: true
                              tap_action:
                                action: toggle
                            - entity: binary_sensor.bedroom_sliding_door
                              state_background: false
                              tap_action:
                                action: more-info
                            - entity: media_player.bedroom_google_home
                              state_background: false
                          show_icon: false
                          show_name: false
                          card_layout: large
                  pop_out:
                    card:
                      type: custom:mod-card
                      card_mod:
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                      card:
                        type: custom:button-card
                        style: |
                          ha-card {
                            -webkit-backdrop-filter: blur(4px) !important;
                            backdrop-filter: blur(4px) !important;
                          }
                        icon: mdi:arrow-top-right
                        color: rgba(0,0,0,0.7)
                        color_type: card
                        tap_action:
                          action: navigate
                          navigation_path: '#lounge'
                        styles:
                          card:
                            - height: 45px
                            - width: 45px
                            - border-radius: 80px
                            - border-weight: 0px
          - type: picture-elements
            card_mod:
              style: |
                ha-card {
                  border-radius: 36px;
                }
            camera_image: camera.living_room
            image: /local/Lounge Camera.png
            camera_view: live
            tap_action:
              action: more-info
            elements:
              - type: custom:button-card
                style:
                  top: 10%
                  left: 10%
                  width: 20%
                show_name: true
                show_state: false
                name: Live
                entity: camera.living_room
                layout: icon_name
                icon: mdi:record
                styles:
                  card:
                    - border-radius: 24px
                    - border-style: none
                    - width: 120%
                    - background-color: rgba(0,0,0,0)
                  img_cell:
                    - width: 40px
                    - height: 20px
                    - background: none
                    - border-radius: 100%
                  icon:
                    - width: 20px
                    - color: var(--google-red)
                    - top: '-2px'
                  name:
                    - color: var(--primary--font-color)
                    - font-size: 10px
                    - justify-self: start
              - type: custom:mod-card
                style:
                  top: 84%
                  left: 50%
                  width: 96%
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 36px;
                    }
                card:
                  type: custom:bubble-card
                  card_type: button
                  button_type: state
                  entity: camera.living_room
                  force_icon: true
                  show_attribute: false
                  show_name: false
                  show_state: false
                  show_icon: false
                  show_background: false
                  button_action:
                    tap_action:
                      action: none
                  card_layout: normal
                  sub_button:
                    - entity: sensor.living_room_battery_percentage
                      show_state: true
                    - entity: camera.living_room
                      icon: mdi:stop
                      tap_action:
                        action: call-service
                        service: camera.turn_off
                        target:
                          entity_id: camera.living_room
                  styles: |-
                    .bubble-button-card {
                      opacity: ${state === 'streaming' ? '1.0' : '0.5'} !important;
                    }
                    .bubble-button-card-container {
                      background-color: rgba(0,0,0,0) !important;
                    }
                    .bubble-button-background {
                    }
                    .bubble-icon {
                      color: var(--card-background-color) !important;
                      opacity: 1.0 !important;
                    }
                    .bubble-icon-container {
                      background-color: ${state === 'streaming' ? 'var(--google-red)' : 'grey'} !important;
                    }
                    .bubble-name {
                      font-size: auto !important;
                    }
                    .bubble-sub-button-container {
                      background: none !important;
                    }
                    .bubble-sub-button-1 {
                      background-color: ${hass.states['sensor.living_room_battery_percentage'].state <= 10 ? 'var(--google-red)' : hass.states['sensor.living_room_battery_percentage'].state <= 20 ? 'var(--google-orange)' : 'rgba(0,0,0,0)'} !important;
                      display: ${hass.states['sensor.living_room_battery_percentage'].state <= 20 ? '' : 'none'} !important;
                    }
                    .bubble-sub-button-2{
                      border-radius: 32px;
                      background-color: rgba(var(--color-background),0.6);
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                    .is-on .bubble-icon {
                      filter: brightness(1.0);
                      opacity: 1;
                    }
          - type: picture-elements
            elements:
              - type: custom:mod-card
                style:
                  top: 10%
                  left: 23%
                  width: 40%
                card_mod:
                  style: |
                    ha-card {
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                card:
                  type: custom:bubble-card
                  card_type: button
                  button_type: state
                  entity: lock.fordpass_doorlock
                  show_attribute: true
                  show_state: true
                  name: Doors
                  styles: |-
                    .bubble-button-background {
                      background-color: var(--card-background-color) !important;
                    }
                    .bubble-button-card-container {
                      background-color: rgba(0,0,0,0) !important;
                    }

                    .bubble-icon {
                      color: var(--card-background-color) !important;
                    }

                    .bubble-icon-container {
                      filter: brightness(1.0);
                      background-color: var(--google-green) !important;
                    }
              - type: custom:mod-card
                style:
                  top: 29%
                  left: 23%
                  width: 40%
                card_mod:
                  style: |
                    ha-card {
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                card:
                  type: custom:bubble-card
                  card_type: button
                  button_type: state
                  entity: lock.fordpass_doorlock
                  show_attribute: true
                  show_state: true
                  name: Doors
                  styles: |-
                    .bubble-button-background {
                      background-color: var(--card-background-color) !important;
                    }
                    .bubble-button-card-container {
                      background-color: rgba(0,0,0,0) !important;
                    }

                    .bubble-icon {
                      color: var(--card-background-color) !important;
                    }

                    .bubble-icon-container {
                      filter: brightness(1.0);
                      background-color: var(--google-red) !important;
                    }
              - type: custom:mod-card
                style:
                  top: 48%
                  left: 23%
                  width: 40%
                card_mod:
                  style: |
                    ha-card {
                      -webkit-backdrop-filter: blur(2px) !important;
                      backdrop-filter: blur(2px) !important;
                    }
                card:
                  type: custom:bubble-card
                  card_type: button
                  button_type: state
                  entity: lock.fordpass_doorlock
                  show_attribute: true
                  show_state: true
                  name: Doors
                  styles: |-
                    .bubble-button-background {
                      background-color: var(--card-background-color) !important;
                    }
                    .bubble-button-card-container {
                      background-color: rgba(0,0,0,0) !important;
                    }

                    .bubble-icon {
                      color: var(--card-background-color) !important;
                    }

                    .bubble-icon-container {
                      filter: brightness(1.0);
                      background-color: var(--google-ha-blue) !important;
                    }
            image: local/cars/Everest/8.png
          - type: horizontal-stack
            cards:
              - type: map
                entities:
                  - entity: device_tracker.fordpass_tracker
                hours_to_show: 24
                theme_mode: auto
                card_mod:
                  style:
                    ha-map $ ha-entity-marker $: |
                      .marker:first-child {

                        /* Style person marker & adjust position to avoid blocking waypoints */
                        border: 3px solid var(--google-green) !important;
                        border-radius: 50% 50% 50% 0px !important;
                        transform: rotate(-45deg) translate(50%, -50%);
                        overflow: visible !important;
                        font-size: 12px !important;
                        background: var(--google-green) !important;
                      }
                       .marker:second-child {

                        /* Style person marker & adjust position to avoid blocking waypoints */
                        border: 3px solid var(--google-green) !important;
                        border-radius: 50% 50% 50% 0px !important;
                        transform: rotate(0deg) translate(50%, -50%);
                        overflow: visible !important;
                        background: var(--google-green) !important;
                      }
                      .entity-picture {

                        /* Correct orientation of person avatar */
                        transform: rotate(45deg);
                        border-radius: 50%;
                      }
                    ha-map $: |
                      path:first-child { 

                        /* Style accuracy radius */
                        stroke: var(--state-person);
                        fill: color-mix(in srgb, var(--state-person) 50%, transparent);
                        stroke-width: 0px;
                      }
                      path:nth-child(even) {

                        /* Styling for waypoints */
                        stroke: var(--google-violet);
                        stroke-width: 4px;
                      }
                      path:nth-child(odd):not(:first-child) { 

                        /* Styling for lines */
                        stroke: var(--google-violet);
                        stroke-width: 4px;
                      }

                      .leaflet-control-attribution {

                        /* Style attribution text */
                        background: rgba(var(--rgb-card-background-color), 0.4) !important;
                        font-size: 10px;
                      }
                      .leaflet-container a {

                        /* Set color of zoom icons & attribution text */
                        color: var(--primary-theme);
                      }

                      .leaflet-control-zoom-in,
                      .leaflet-control-zoom-out {

                        /* Style zoom buttons like Chips */
                        border-radius: var(--mush-chip-border-radius, 19px) !important;
                        padding: 3px;
                        box-shadow: none;
                        background: var(--card-background-color) !important;
                        margin: 8px 12px 0px;
                        -webkit-backdrop-filter: blur(2px) !important;
                        backdrop-filter: blur(2px) !important;

                        border: none;
                      } 
                      .leaflet-top {

                        /* Move zoom buttons to bottom of map */
                        bottom: 0px !important;
                      }
                      .leaflet-control-zoom {

                        /* Allow buttons to be moved */
                        position: absolute !important;

                        /* Adjust spacing for border */
                        bottom: calc(2 * var(--ha-card-border-width, 1px) + 56px);

                        /* Remove extra margin */
                        margin: 0px !important;

                        /* Remove zoom control border */
                        border: none !important;
                        box-shadow: none !important;
                      }
                    ha-icon-button $ mwc-icon-button $: |
                      button {

                        /* Size center button to match Chip */
                        height: var(--mush-chip-height, 36px) !important;
                        width: var(--mush-chip-height, 36px) !important;
                        --mdc-icon-size: 22px;
                      }
                    .: |
                      ha-card {

                        /* Remove default card styling without affecting child elements */
                        box-shadow: none;
                        border-width: 0;
                        border-radius: 30px;

                        transition: all 0s;
                      }
                      :host {

                        /* Define Person State colors. Can be added to theme */
                        --state-person-home: var(--google-green);
                        --state-person-not-home: var(--google-red);
                        --state-person-zone: var(--google-blue);
                        --state-person-unknown: var(--google-grey);

                        /* Set person state color */
                        --state-person:
                        {% if is_state(config.entities[0].entity, ['home', 'not_home', 'unknown']) %}
                          var(--state-person-{{ states(config.entities[0].entity) | replace('_', '-') }})
                        {% else %}
                          var(--state-person-zone)
                        {% endif %};
                      }
                      ha-icon-button {

                        /* Position center button */
                        bottom: 12px;
                        left: 12px !important;
                        top: auto !important;

                        /* Style center button to match Chip */
                        color: white !important;
                        background: black;
                        border-radius: var(--mush-chip-border-radius, 19px);
                        border: none !important;
                      }
              - type: vertical-stack
                cards:
                  - type: custom:bubble-card
                    card_type: button
                    modules:
                      - default
                    button_type: state
                    entity: sensor.fordpass_fuel
                    name: Fuel Remaining
                    styles: |-
                      :host{
                          --color-ok-icon: var(--google-green);
                          --color-reduced-icon: var(--google-yellow);
                          --color-warning-icon: var(--google-orange);
                          --color-alert-icon: var(--google-red);
                          --color-ok: #C0E1D980;
                          --color-warning: #fd996180;
                          --color-reduced: #FEE78B80;
                          --color-alert: #FD727480;
                          --color-bar: ${state > 70 ? 'var(--color-ok)'
                                         : state > 50 ? 'var(--color-reduced)'
                                         : state > 20 ? 'var(--color-warning)'
                                         : state === "off" ? 'var(--color-ok)'
                                         : 'var(--color-alert)'} ;
                          --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                          --color-notification-bubble: red;
                      }

                      .bubble-icon {
                        filter: brightness(1.0);
                        color: var(--card-background-color) !important;
                      }
                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: var(${ state > 70 ? '--color-ok-icon':
                                      state > 50 ? '--color-reduced-icon' :
                                      state > 20 ? '--color-warning-icon' :
                                      state === 'off' ? '--color-ok-icon' :
                                                  '--color-alert-icon'}) 
                                  !important; }
                      .bubble-button-card-container {
                          filter: brightness(1.0);
                          background: linear-gradient(
                        to right, 
                        var(--color-bar) 0%, 
                        var(--color-bar) ${Math.round(state)}%, 
                        var(--card-background-color) ${Math.round(state)}%,
                        var(--card-background-color) 100%
                      ) !important;
                      }
                  - type: custom:bubble-card
                    card_type: button
                    modules:
                      - default
                    button_type: state
                    entity: sensor.ford_to_empty
                    name: Distance to Empty
                    styles: |-
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                      }

                      .bubble-icon {
                        color: var(--card-background-color) !important;
                      }

                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: ${state < 100 ? 'var(--google-red)' : state < 200 ? 'var(--google-orange)' : state < 300 ? 'var(--google-yellow)' : 'var(--google-green)'} !important;
                      }
                  - type: custom:bubble-card
                    card_type: button
                    modules:
                      - default
                    button_type: state
                    entity: sensor.ford_fuel_economy
                    name: Fuel Economy
                    styles: |-
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                      }

                      .bubble-icon {
                        color: var(--card-background-color) !important;
                      }

                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: ${state < 10 ? 'var(--google-green)' : state < 15 ? 'var(--google-yellow)' : state < 18 ? 'var(--google-orange)' : 'var(--google-red)'} !important;
                      }
                  - type: custom:bubble-card
                    card_type: button
                    modules:
                      - default
                    button_type: state
                    entity: sensor.cheapest_pdl
                    name: Cheapest Diesel
                    icon: mdi:currency-usd
                    styles: |-
                      .bubble-button-background {
                        background-color: var(--card-background-color) !important;
                      }
                      .bubble-button-card-container {
                        background-color: rgba(0,0,0,0) !important;
                      }

                      .bubble-icon {
                        color: var(--card-background-color) !important;
                      }

                      .bubble-icon-container {
                        filter: brightness(1.0);
                        background-color: var(--google-green) !important;
                      }
          - type: map
            entities:
              - entity: device_tracker.fordpass_tracker
              - entity: sensor.caringbah_pdl
                label_mode: state
                focus: false
            theme_mode: auto
            default_zoom: 12
            card_mod:
              style:
                ha-map $ ha-entity-marker[entity-id="device_tracker.fordpass_tracker"] $: |
                  .marker {

                    /* Style person marker & adjust position to avoid blocking waypoints */
                    border: 3px solid var(--google-green) !important;
                    border-radius: 50% 50% 50% 0px !important;
                    transform: rotate(-45deg) translate(50%, -50%);
                    overflow: visible !important;
                    font-size: 12px !important;
                    background: var(--google-green) !important;
                  }

                  .entity-picture {

                    /* Correct orientation of person avatar */
                    transform: rotate(45deg);
                    border-radius: 50%;
                  }
                ha-map $ ha-entity-marker[entity-id="sensor.caringbah_pdl"] $: |
                  .marker {

                    /* Style person marker & adjust position to avoid blocking waypoints */
                    border: none !important;
                    border-radius: 50% 50% 50% 0% !important;
                    transform: rotate(-0deg) translate(50%, -50%);
                    overflow: visible !important;
                    font-size: 10px !important;
                    font-weight: bold !important;
                    background: rgba(var(--color-red),0.6) !important;
                  }
                ha-map $: |
                  path:first-child { 

                    /* Style accuracy radius */
                    stroke: var(--state-person);
                    fill: color-mix(in srgb, var(--state-person) 50%, transparent);
                    stroke-width: 0px;
                  }
                  path:nth-child(even) {

                    /* Styling for waypoints */
                    stroke: var(--google-violet);
                    stroke-width: 4px;
                  }
                  path:nth-child(odd):not(:first-child) { 

                    /* Styling for lines */
                    stroke: var(--google-violet);
                    stroke-width: 4px;
                  }

                  .leaflet-control-attribution {

                    /* Style attribution text */
                    background: rgba(var(--rgb-card-background-color), 0.4) !important;
                    font-size: 10px;
                  }
                  .leaflet-container a {

                    /* Set color of zoom icons & attribution text */
                    color: var(--primary-theme);
                  }

                  .leaflet-control-zoom-in,
                  .leaflet-control-zoom-out {

                    /* Style zoom buttons like Chips */
                    border-radius: var(--mush-chip-border-radius, 19px) !important;
                    padding: 3px;
                    box-shadow: none;
                    background: var(--card-background-color) !important;
                    margin: 8px 12px 0px;
                    -webkit-backdrop-filter: blur(2px) !important;
                    backdrop-filter: blur(2px) !important;

                    border: none;
                  } 
                  .leaflet-top {

                    /* Move zoom buttons to bottom of map */
                    bottom: 0px !important;
                  }
                  .leaflet-control-zoom {

                    /* Allow buttons to be moved */
                    position: absolute !important;

                    /* Adjust spacing for border */
                    bottom: calc(2 * var(--ha-card-border-width, 1px) + 56px);

                    /* Remove extra margin */
                    margin: 0px !important;

                    /* Remove zoom control border */
                    border: none !important;
                    box-shadow: none !important;
                  }
                ha-icon-button $ mwc-icon-button $: |
                  button {

                    /* Size center button to match Chip */
                    height: var(--mush-chip-height, 36px) !important;
                    width: var(--mush-chip-height, 36px) !important;
                    --mdc-icon-size: 22px;
                  }
                .: |
                  ha-card {

                    /* Remove default card styling without affecting child elements */
                    box-shadow: none;
                    border-width: 0;
                    border-radius: 30px;

                    transition: all 0s;
                  }
                  :host {

                    /* Define Person State colors. Can be added to theme */
                    --state-person-home: var(--google-green);
                    --state-person-not-home: var(--google-red);
                    --state-person-zone: var(--google-blue);
                    --state-person-unknown: var(--google-grey);

                    /* Set person state color */
                    --state-person:
                    {% if is_state(config.entities[0].entity, ['home', 'not_home', 'unknown']) %}
                      var(--state-person-{{ states(config.entities[0].entity) | replace('_', '-') }})
                    {% else %}
                      var(--state-person-zone)
                    {% endif %};
                  }
                  ha-icon-button {

                    /* Position center button */
                    bottom: 12px;
                    left: 12px !important;
                    top: auto !important;

                    /* Style center button to match Chip */
                    color: white !important;
                    background: black;
                    border-radius: var(--mush-chip-border-radius, 19px);
                    border: none !important;
                  }
          - type: custom:button-card
            aspect_ratio: 10
            grid_options:
              columns: 100
              rows: 1
            custom_fields:
              value:
                card:
                  type: custom:button-card
                  entity: sensor.wine_fridge_1_temperature
                  show_icon: false
                  show_state: true
                  show_name: true
                  name: Temperature
                  styles:
                    name:
                      - position: absolute
                      - left: '-7px'
                      - top: 31px
                      - padding-left: 65px
                      - justify-self: start
                      - font-size: 14px
                      - font-weight: normal
                      - color: var(--primary-text-color)
                    state:
                      - position: absolute
                      - left: '-9px'
                      - top: 11px
                      - padding-left: 67px
                      - justify-self: start
                      - font-size: 14px
                      - font-weight: normal
                      - color: var(--primary-text-color)
                    card:
                      - background: >-
                          linear-gradient(90deg, rgba(66, 61, 76,1.0) 0%,
                          rgba(66, 61, 76,0.0) 100%)
                      - border: none
                      - z-index: 1
                  tap_action:
                    action: none
                  hold_action:
                    action: none
              graph:
                card:
                  type: custom:mini-graph-card
                  entities:
                    - entity: sensor.wine_fridge_1_temperature
                      color: var(--google-teal)
                  hours_to_show: 24
                  hour24: true
                  points_per_hour: 1
                  animate: true
                  update_interval: 30
                  aggregate_func: avg
                  line_width: 0
                  bar_spacing: 5
                  height: 141
                  group: true
                  show:
                    labels: false
                    fill: true
                    state: false
                    name: false
                    icon: false
              icon:
                card:
                  type: custom:button-card
                  size: 55%
                  icon: mdi:thermometer
                  show_name: false
                  styles:
                    icon:
                      - position: absolute
                      - left: 9px
                      - top: 8.5px
                      - color: rgba(200,200,200,1.0)
                      - width: 22px
                      - height: 22px
                      - color: var(--card-background-color)
                    card:
                      - position: absolute
                      - left: 2px
                      - top: '-2px'
                      - border: none
                      - border-radius: 50%
                      - background-color: var(--google-teal)
                      - width: 40px
                      - height: 40px
                      - z-index: 1
                  tap_action:
                    action: none
                  hold_action:
                    action: none
            styles:
              card:
                - background-color: rgba(0, 0, 0, 0.0)
                - border: none
                - width: 214px
                - height: 56px
              custom_fields:
                graph:
                  - position: absolute
                  - left: '-1px'
                  - top: '-1px'
                  - width: 50
                icon:
                  - position: absolute
                  - left: 3%
                  - top: 18%
                value:
                  - position: absolute
                  - left: 0%
                  - top: 0%
            tap_action:
              action: none
            hold_action:
              action: none
            card_mod:
              style: |
                ha-card {
                   border-radius: 38px;
                }
  - title: Sonos
    path: sonos
    icon: phu:sonos-one
    theme: nextgen-mobile
    type: sections
    sections:
      - type: grid
        cards:
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: auto auto
            cards:
              - type: custom:button-card
                name: Sonos
                icon: mdi:music-circle-outline
                tap_action:
                  action: none
                styles:
                  icon:
                    - color: var(--card-background-color)
                    - height: 32px
                    - width: 32px
                    - align-self: start
                    - justify-self: start
                  img_cell:
                    - background: var(--google-violet)
                    - height: 42px
                    - width: 42px
                    - border-radius: 100%
                  card:
                    - background: none
                  name:
                    - justify-self: start
                    - font-size: 20px
                    - margin-left: 10px
                    - font-weight: bold
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content auto
              - type: custom:mushroom-chips-card
                alignment: end
                chips:
                  - type: back
                  - type: menu
                card_mod:
                  style: |
                    ha-card { 
                      padding-top: 8px;
                      padding-left: 40px;
                      margin-right: -10px;
                      --chip-height: 50px;
                      --chip-background: none;
                      --chip-box-shadow: none;
                    }
          - type: custom:sonos-card
            sections:
              - player
              - volumes
              - groups
              - grouping
              - media browser
            entities: []
            predefinedGroups:
              - name: Lounge + Play Room
                media: ''
                entities:
                  - player: media_player.lounge_room_sonos
                  - player: media_player.playroom_sonos
              - name: All
                media: ''
                entities:
                  - player: media_player.lounge_room_sonos
                  - player: media_player.playroom_sonos
                  - player: media_player.outdoor_sonos
            topFavorites:
              - ''
            dynamicVolumeSlider: false
            showAudioInputFormat: true
            artworkAsBackground: false
            showVolumeUpAndDownButtons: false
            mediaBrowserItemsPerRow: 3
            heightPercentage: 105
            card_mod:
              style: |
                ha-card {
                  --accent-color: var(--google-violet);
                  --primary-color: var(--google-violet);
                  --secondary-background-color: var(--google-violet);
                  background-color: rgba(0,0,0,0);
                }
                sonos-grouping$: |
                  sonos-grouping-button {
                    --accent-color: black;
                    font-size: 30px;
                  }
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px)  {
                  ha-card  {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    left: 10px;
                    width: calc(100% - 20px);
                    background-color: var(--dock-background);
                    border-radius: 36px;
                    -webkit-backdrop-filter: blur(10px) !important;
                    backdrop-filter: blur(10px) !important;
                    transform: translate3d(0, 0, 0);
                    padding: 5px;
                    box-shadow: 0px -5px 10px rgba(0, 0, 0, 0.1);
                  }
                }
                @media (min-width:480px)  {
                  ha-card  {
                    width: calc(60% - 30px);
                    left: calc(20% - 15px);
                  }
                }
            card:
              type: grid
              square: false
              columns: 6
              cards:
                - type: custom:button-card
                  icon: mdi:home-variant-outline
                  tap_action:
                    action: navigate
                    navigation_path: /dashboard-nextgen
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - border-radius: 100%
                      - padding: 0px
                - type: custom:button-card
                  icon: mdi:home-thermometer-outline
                  tap_action:
                    action: navigate
                    navigation_path: climate
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:shield-outline
                  entity: alarm_control_panel.homebase
                  show_name: false
                  show_state: false
                  tap_action:
                    action: navigate
                    navigation_path: security
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                  state:
                    - value: disarmed
                      icon: mdi:shield-off-outline
                    - value: armed_away
                      icon: mdi:shield-lock-outline
                - type: custom:button-card
                  icon: mdi:vacuum-outline
                  tap_action:
                    action: navigate
                    navigation_path: robomac
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:music-circle
                  tap_action:
                    action: navigate
                    navigation_path: sonos
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--card-background-color)
                    img_cell:
                      - width: 50px
                      - height: 50px
                      - color: var(--google-violet)
                    card:
                      - background: var(--google-violet)
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:cog-outline
                  tap_action:
                    action: navigate
                    navigation_path: settings
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
  - type: sections
    max_columns: 1
    title: Settings
    path: settings
    icon: mdi:cog
    theme: nextgen-mobile
    sections:
      - type: grid
        cards:
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: auto auto
            cards:
              - type: custom:button-card
                name: Settings
                icon: mdi:cog
                tap_action:
                  action: none
                styles:
                  icon:
                    - color: var(--card-background-color)
                    - height: 32px
                    - width: 32px
                    - align-self: start
                    - justify-self: start
                  img_cell:
                    - background: var(--secondary-text-color)
                    - height: 42px
                    - width: 42px
                    - border-radius: 100%
                  card:
                    - background: none
                  name:
                    - justify-self: start
                    - font-size: 20px
                    - margin-left: 10px
                    - font-weight: bold
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content auto
              - type: custom:mushroom-chips-card
                alignment: end
                chips:
                  - type: back
                  - type: menu
                card_mod:
                  style: |
                    ha-card { 
                      padding-top: 8px;
                      padding-left: 40px;
                      margin-right: -10px;
                      --chip-height: 50px;
                      --chip-background: none;
                      --chip-box-shadow: none;
                    }
          - type: custom:button-card
            color_type: blank-card
          - type: custom:bubble-card
            card_type: button
            button_type: name
            icon: mdi:battery-medium
            name: Batteries
            tap_action:
              action: navigate
              navigation_path: '#batteries'
            card_layout: large
            styles: |-
              .bubble-button-card {
                opacity: 1.0 !important;
                background-color: var(--card-background-color) !important;
              }

              .bubble-icon {
                color: var(--card-background-color) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: var(--google-green) !important;
                opacity: 1.0 !important;
              }
              .bubble-name {
                font-size: 16px !important;
              }
              .bubble-sub-button-container {
                background-color: var(--card-background-color);
                opacity: 0.8;
                -webkit-backdrop-filter: blur(10px) !important;
                backdrop-filter: blur(10px) !important;
                border-radius: 100%;
              }
            sub_button:
              - icon: mdi:dots-horizontal
                state_background: false
                show_background: false
                tap_action:
                  action: navigate
                  navigation_path: '#batteries'
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#batteries'
          - type: custom:bubble-card
            card_type: button
            button_type: name
            icon: mdi:thermometer
            name: Temperatures
            tap_action:
              action: navigate
              navigation_path: '#temperatures'
            card_layout: large
            styles: |-
              .bubble-button-card {
                opacity: 1.0 !important;
                background-color: var(--card-background-color) !important;
              }

              .bubble-icon {
                color: var(--card-background-color) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: var(--google-orange) !important;
                opacity: 1.0 !important;
              }
              .bubble-name {
                font-size: 16px !important;
              }
              .bubble-sub-button-container {
                background-color: var(--card-background-color);
                opacity: 0.8;
                -webkit-backdrop-filter: blur(10px) !important;
                backdrop-filter: blur(10px) !important;
                border-radius: 100%;
              }
            sub_button:
              - icon: mdi:dots-horizontal
                state_background: false
                show_background: false
                tap_action:
                  action: navigate
                  navigation_path: '#batteries'
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#temperatures'
            modules:
              - default
          - type: custom:bubble-card
            card_type: button
            button_type: name
            icon: mdi:door
            name: Doors
            tap_action:
              action: navigate
              navigation_path: doors
            card_layout: large
            styles: |-
              .bubble-button-card {
                opacity: 1.0 !important;
                background-color: var(--card-background-color) !important;
              }

              .bubble-icon {
                color: var(--card-background-color) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: var(--google-violet) !important;
                opacity: 1.0 !important;
              }
              .bubble-name {
                font-size: 16px !important;
              }
              .bubble-sub-button-container {
                background-color: var(--card-background-color);
                opacity: 0.8;
                -webkit-backdrop-filter: blur(10px) !important;
                backdrop-filter: blur(10px) !important;
                border-radius: 100%;
              }
            sub_button:
              - icon: mdi:dots-horizontal
                state_background: false
                show_background: false
                tap_action:
                  action: navigate
                  navigation_path: doors
            button_action:
              tap_action:
                action: navigate
                navigation_path: doors
          - type: custom:bubble-card
            card_type: button
            button_type: name
            icon: mdi:web
            name: Network
            tap_action:
              action: navigate
              navigation_path: network
            card_layout: large
            styles: |-
              .bubble-button-card {
                opacity: 1.0 !important;
                background-color: var(--card-background-color) !important;
              }

              .bubble-icon {
                color: var(--card-background-color) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: var(--google-teal) !important;
                opacity: 1.0 !important;
              }
              .bubble-name {
                font-size: 16px !important;
              }
              .bubble-sub-button-container {
                background-color: var(--card-background-color);
                opacity: 0.8;
                -webkit-backdrop-filter: blur(10px) !important;
                backdrop-filter: blur(10px) !important;
                border-radius: 100%;
              }
            sub_button:
              - icon: mdi:dots-horizontal
                state_background: false
                show_background: false
                tap_action:
                  action: navigate
                  navigation_path: network
            button_action:
              tap_action:
                action: navigate
                navigation_path: network
          - type: custom:bubble-card
            card_type: button
            button_type: name
            icon: mdi:beta
            name: Testing
            tap_action:
              action: navigate
              navigation_path: testing
            card_layout: large
            styles: |-
              .bubble-button-card {
                opacity: 1.0 !important;
                background-color: var(--card-background-color) !important;
              }

              .bubble-icon {
                color: var(--card-background-color) !important;
                opacity: 1.0 !important;
              }
              .bubble-icon-container {
                background-color: var(--google-pink) !important;
                opacity: 1.0 !important;
              }
              .bubble-name {
                font-size: 16px !important;
              }
              .bubble-sub-button-container {
                background-color: var(--card-background-color);
                opacity: 0.8;
                -webkit-backdrop-filter: blur(10px) !important;
                backdrop-filter: blur(10px) !important;
                border-radius: 100%;
              }
            sub_button:
              - icon: mdi:dots-horizontal
                state_background: false
                show_background: false
                tap_action:
                  action: navigate
                  navigation_path: batteries
            button_action:
              tap_action:
                action: navigate
                navigation_path: batteries
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px)  {
                  ha-card  {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    left: 10px;
                    width: calc(100% - 20px);
                    background-color: var(--dock-background);
                    border-radius: 36px;
                    -webkit-backdrop-filter: blur(10px) !important;
                    backdrop-filter: blur(10px) !important;
                    transform: translate3d(0, 0, 0);
                    padding: 5px;
                    box-shadow: 0px -5px 10px rgba(0, 0, 0, 0.1);
                  }
                }
                @media (min-width:480px)  {
                  ha-card  {
                    width: calc(60% - 30px);
                    left: calc(20% - 15px);
                  }
                }
            card:
              type: grid
              square: false
              columns: 6
              cards:
                - type: custom:button-card
                  icon: mdi:home-variant-outline
                  tap_action:
                    action: navigate
                    navigation_path: /dashboard-nextgen
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - border-radius: 100%
                      - padding: 0px
                - type: custom:button-card
                  icon: mdi:home-thermometer-outline
                  tap_action:
                    action: navigate
                    navigation_path: climate
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:shield-outline
                  entity: alarm_control_panel.homebase
                  show_name: false
                  show_state: false
                  tap_action:
                    action: navigate
                    navigation_path: security
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--secondary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                  state:
                    - value: disarmed
                      icon: mdi:shield-off-outline
                    - value: armed_away
                      icon: mdi:shield-lock-outline
                - type: custom:button-card
                  icon: mdi:vacuum-outline
                  tap_action:
                    action: navigate
                    navigation_path: robomac
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:music-circle-outline
                  tap_action:
                    action: navigate
                    navigation_path: sonos
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--primary-text-color)
                      - opacity: 30%
                    img_cell:
                      - width: 50px
                      - height: 50px
                    card:
                      - background: none
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
                - type: custom:button-card
                  icon: mdi:cog
                  tap_action:
                    action: navigate
                    navigation_path: settings
                  styles:
                    icon:
                      - width: 30px
                      - color: var(--card-background-color)
                    img_cell:
                      - width: 50px
                      - height: 50px
                      - color: var(--secondary-text-color)
                    card:
                      - background: var(--secondary-text-color)
                      - box-shadow: none
                      - padding: 0px
                      - border-radius: 100%
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#batteries'
                name: Batteries
                icon: mdi:battery-high
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: var(--google-green);
                      border-style: none;
                      border-width: 2px;
                      border-color: var(--google-green) !important;
                    }
                    .bubble-icon {
                      color: var(--card-background-color) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Recharge/Replace
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:auto-entities
                card:
                  type: grid
                  columns: 2
                  square: false
                card_param: cards
                filter:
                  include:
                    - attributes:
                        device_class: battery
                      state: < 20
                      options:
                        type: custom:bubble-card
                        card_type: button
                        button_type: state
                        show_attribute: false
                        show_last_changed: false
                        show_state: true
                        tap_action:
                          action: more-info
                        styles: |-
                          :host{
                              --color-ok-icon: var(--google-green);
                              --color-reduced-icon: var(--google-yellow);
                              --color-warning-icon: var(--google-orange);
                              --color-alert-icon: var(--google-red);
                              --color-ok: #C0E1D980;
                              --color-warning: #fd996180;
                              --color-reduced: #FEE78B80;
                              --color-alert: #FD727480;
                              --color-bar: ${state > 70 ? 'var(--color-ok)'
                                             : state > 50 ? 'var(--color-reduced)'
                                             : state > 20 ? 'var(--color-warning)'
                                             : state === "off" ? 'var(--color-alert)'
                                             : 'var(--color-alert)'} ;
                              --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                              --color-notification-bubble: red;
                          }

                          .bubble-icon {
                            filter: brightness(1.0);
                            color: var(--card-background-color) !important;
                          }
                          .bubble-icon-container {
                            filter: brightness(1.0);
                            background-color: var(${ state > 70 ? '--color-ok-icon':
                                          state > 50 ? '--color-reduced-icon' :
                                          state > 20 ? '--color-warning-icon' :
                                          state === 'off' ? '--color-ok-icon' :
                                                      '--color-alert-icon'}) 
                                      !important; }
                          .bubble-button-card-container {
                              filter: brightness(1.0);
                              background: linear-gradient(
                            to right, 
                            var(--color-bar) 0%, 
                            var(--color-bar) ${Math.round(state)}%, 
                            var(--card-background-color) ${Math.round(state)}%,
                            var(--card-background-color) 100%
                          ) !important;
                          }
                  exclude: []
                sort:
                  method: state
                  reverse: false
                  numeric: true
              - type: custom:bubble-card
                card_type: separator
                name: Monitor
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:auto-entities
                card:
                  type: grid
                  columns: 2
                  square: false
                card_param: cards
                filter:
                  include:
                    - attributes:
                        device_class: battery
                      state 1: '>= 20'
                      state 2: < 50
                      options:
                        type: custom:bubble-card
                        card_type: button
                        button_type: state
                        show_attribute: false
                        show_last_changed: false
                        show_state: true
                        tap_action:
                          action: more-info
                        styles: |-
                          :host{
                              --color-ok-icon: var(--google-green);
                              --color-reduced-icon: var(--google-yellow);
                              --color-warning-icon: var(--google-orange);
                              --color-alert-icon: var(--google-red);
                              --color-ok: #C0E1D980;
                              --color-warning: #fd996180;
                              --color-reduced: #FEE78B80;
                              --color-alert: #FD727480;
                              --color-bar: ${state > 70 ? 'var(--color-ok)'
                                             : state > 50 ? 'var(--color-reduced)'
                                             : state > 20 ? 'var(--color-warning)'
                                             : state === "off" ? 'var(--color-ok)'
                                             : 'var(--color-alert)'} ;
                              --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                              --color-notification-bubble: red;
                          }

                          .bubble-icon {
                            filter: brightness(1.0);
                            color: var(--card-background-color) !important;
                          }
                          .bubble-icon-container {
                            filter: brightness(1.0);
                            background-color: var(${ state > 70 ? '--color-ok-icon':
                                          state > 50 ? '--color-reduced-icon' :
                                          state > 20 ? '--color-warning-icon' :
                                          state === 'off' ? '--color-ok-icon' :
                                                      '--color-alert-icon'}) 
                                      !important; }
                          .bubble-button-card-container {
                              filter: brightness(1.0);
                              background: linear-gradient(
                            to right, 
                            var(--color-bar) 0%, 
                            var(--color-bar) ${Math.round(state)}%, 
                            var(--card-background-color) ${Math.round(state)}%,
                            var(--card-background-color) 100%
                          ) !important;
                          }
                  exclude: []
                sort:
                  method: state
                  reverse: false
                  numeric: true
              - type: custom:bubble-card
                card_type: separator
                name: Healthy
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:auto-entities
                card:
                  type: grid
                  columns: 2
                  square: false
                card_param: cards
                filter:
                  include:
                    - attributes:
                        device_class: battery
                      state 1: '>= 50'
                      state 2: <= 70
                      options:
                        type: custom:bubble-card
                        card_type: button
                        button_type: state
                        show_attribute: false
                        show_last_changed: false
                        show_state: true
                        tap_action:
                          action: more-info
                        styles: |-
                          :host{
                              --color-ok-icon: var(--google-green);
                              --color-reduced-icon: var(--google-yellow);
                              --color-warning-icon: var(--google-orange);
                              --color-alert-icon: var(--google-red);
                              --color-ok: #C0E1D980;
                              --color-warning: #fd996180;
                              --color-reduced: #FEE78B80;
                              --color-alert: #FD727480;
                              --color-bar: ${state > 70 ? 'var(--color-ok)'
                                             : state > 50 ? 'var(--color-reduced)'
                                             : state > 20 ? 'var(--color-warning)'
                                             : state === "off" ? 'var(--color-ok)'
                                             : 'var(--color-alert)'} ;
                              --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                              --color-notification-bubble: red;
                          }

                          .bubble-icon {
                            filter: brightness(1.0);
                            color: var(--card-background-color) !important;
                          }
                          .bubble-icon-container {
                            filter: brightness(1.0);
                            background-color: var(${ state > 70 ? '--color-ok-icon':
                                          state > 50 ? '--color-reduced-icon' :
                                          state > 20 ? '--color-warning-icon' :
                                          state === 'off' ? '--color-ok-icon' :
                                                      '--color-alert-icon'}) 
                                      !important; }
                          .bubble-button-card-container {
                              filter: brightness(1.0);
                              background: linear-gradient(
                            to right, 
                            var(--color-bar) 0%, 
                            var(--color-bar) ${Math.round(state)}%, 
                            var(--card-background-color) ${Math.round(state)}%,
                            var(--card-background-color) 100%
                          ) !important;
                          }
                  exclude: []
                sort:
                  method: state
                  reverse: false
                  numeric: true
              - type: custom:bubble-card
                card_type: separator
                name: Charged
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:auto-entities
                card:
                  type: grid
                  columns: 2
                  square: false
                card_param: cards
                filter:
                  include:
                    - attributes:
                        device_class: battery
                      state 1: '> 70'
                      options:
                        type: custom:bubble-card
                        card_type: button
                        button_type: state
                        show_attribute: false
                        show_last_changed: false
                        show_state: true
                        tap_action:
                          action: more-info
                        styles: |-
                          :host{
                              --color-ok-icon: var(--google-green);
                              --color-reduced-icon: var(--google-yellow);
                              --color-warning-icon: var(--google-orange);
                              --color-alert-icon: var(--google-red);
                              --color-ok: #C0E1D980;
                              --color-warning: #fd996180;
                              --color-reduced: #FEE78B80;
                              --color-alert: #FD727480;
                              --color-bar: ${state > 70 ? 'var(--color-ok)'
                                             : state > 50 ? 'var(--color-reduced)'
                                             : state > 20 ? 'var(--color-warning)'
                                             : state === "off" ? 'var(--color-ok)'
                                             : 'var(--color-alert)'} ;
                              --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                              --color-notification-bubble: red;
                          }

                          .bubble-icon {
                            filter: brightness(1.0);
                            color: var(--card-background-color) !important;
                          }
                          .bubble-icon-container {
                            filter: brightness(1.0);
                            background-color: var(${ state > 70 ? '--color-ok-icon':
                                          state > 50 ? '--color-reduced-icon' :
                                          state > 20 ? '--color-warning-icon' :
                                          state === 'off' ? '--color-ok-icon' :
                                                      '--color-alert-icon'}) 
                                      !important; }
                          .bubble-button-card-container {
                              filter: brightness(1.0);
                              background: linear-gradient(
                            to right, 
                            var(--color-bar) 0%, 
                            var(--color-bar) ${Math.round(state)}%, 
                            var(--card-background-color) ${Math.round(state)}%,
                            var(--card-background-color) 100%
                          ) !important;
                          }
                  exclude: []
                sort:
                  method: state
                  reverse: false
                  numeric: true
              - type: custom:bubble-card
                card_type: separator
                name: Other
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
              - type: custom:auto-entities
                card:
                  type: grid
                  columns: 2
                  square: false
                card_param: cards
                filter:
                  include:
                    - attributes:
                        device_class: battery
                      options:
                        type: custom:bubble-card
                        card_type: button
                        button_type: state
                        show_attribute: false
                        show_last_changed: false
                        show_state: true
                        tap_action:
                          action: more-info
                        styles: |-
                          :host{
                              --color-ok-icon: var(--google-green);
                              --color-reduced-icon: var(--google-yellow);
                              --color-warning-icon: var(--google-orange);
                              --color-alert-icon: var(--google-red);
                              --color-ok: #C0E1D980;
                              --color-warning: #fd996180;
                              --color-reduced: #FEE78B80;
                              --color-alert: #FD727480;
                              --color-bar: ${state > 70 ? 'var(--color-ok)'
                                             : state > 50 ? 'var(--color-reduced)'
                                             : state > 20 ? 'var(--color-warning)'
                                             : state === "off" ? 'var(--color-ok)'
                                             : 'var(--color-alert)'} ;
                              --color-background: var(--bubble-button-main-background-color, var(--bubble-main-background-color, var(--background-color-2, var(--secondary-background-color))));
                              --color-notification-bubble: red;
                          }

                          .bubble-icon {
                            filter: brightness(1.0);
                            color: var(--card-background-color) !important;
                          }
                          .bubble-icon-container {
                            filter: brightness(1.0);
                            background-color: var(${ state > 70 ? '--color-ok-icon':
                                          state > 50 ? '--color-reduced-icon' :
                                          state > 20 ? '--color-warning-icon' :
                                          state === 'off' ? '--color-ok-icon' :
                                                      '--color-alert-icon'}) 
                                      !important; }
                          .bubble-button-card-container {
                              filter: brightness(1.0);
                              background: linear-gradient(
                            to right, 
                            var(--color-bar) 0%, 
                            var(--color-bar) ${Math.round(state)}%, 
                            var(--card-background-color) ${Math.round(state)}%,
                            var(--card-background-color) 100%
                          ) !important;
                          }
                  exclude:
                    - state: '>0'
                sort:
                  method: state
                  reverse: false
                  numeric: true
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#temperatures'
                name: Temperatures
                icon: mdi:battery-high
                bg_color: var(--folder-background)
                bg_opacity: '60'
                bg_blur: '10'
                styles: |2
                    .bubble-icon-container {
                      background: var(--google-orange);
                      border-style: none;
                      border-width: 2px;
                      border-color: var(--google-orange) !important;
                    }
                    .bubble-icon {
                      color: var(--card-background-color) !important;
                      --mdc-icon-size: 28px !important;
                      opacity: 1.0;
                    }
                    .bubble-sub-button {
                      background: none;
                    }
                    .bubble-button-card-container {
                      background: none !important;
                    }
                    .bubble-close-button {
                      background: none !important;
                    }
                    .bubble-name {
                        font-size: 16px !important;
                        font-weight: bold;
                    }
                show_attribute: false
                show_state: false
                sub_button: []
                card_layout: large
                backdrop_blur: '10'
                margin_top_mobile: '-20px'
                modules:
                  - default
                card_mod:
                  style: |
                    #header-container {
                      background-color: transparent;
                      div {
                        background-color: transparent;
                      }
                    }
                    .close-pop-up {
                      background-color: transparent;
                    }
                    .icon-container {
                      color: var(--google-blue) !important;
                      background-color: transparent;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Wine Fridges
                card_layout: normal
                styles: |2-
                    .bubble-line {
                      background: none;
                      opacity: 0;
                    }
                    * { 
                      font-size: 14px !important;
                    }
                modules:
                  - default
